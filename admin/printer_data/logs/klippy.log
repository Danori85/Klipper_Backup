Args: ['/home/admin/klipper/klippy/klippy.py', '/home/admin/printer_data/config/printer.cfg', '-l', '/home/admin/printer_data/logs/klippy.log', '-I', '/home/admin/printer_data/comms/klippy.serial', '-a', '/home/admin/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-85-gd785b396'
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper.git
CPU: 4 core ?
Python: '3.9.2 (default, Feb 28 2021, 17:03:44) \n[GCC 10.2.1 20210110]'
webhooks client 548113211344: '?'
=============== Log rollover at Sat Jan 27 14:49:11 2024 ===============
webhooks client 548113211344: New connection
webhooks client 548113211344: Client info {'program': 'Moonraker', 'version': 'v0.8.0-268-ga23187b'}
Starting Klippy...
Args: ['/home/admin/klipper/klippy/klippy.py', '/home/admin/printer_data/config/printer.cfg', '-l', '/home/admin/printer_data/logs/klippy.log', '-I', '/home/admin/printer_data/comms/klippy.serial', '-a', '/home/admin/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-100-g600e89ae'
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper.git
CPU: 4 core ?
Python: '3.9.2 (default, Feb 28 2021, 17:03:44) \n[GCC 10.2.1 20210110]'
Building C code module c_helper.so
Start printer at Sat Jan 27 14:53:58 2024 (1706385238.0 347.2)
Config error
Traceback (most recent call last):
  File "/home/admin/klipper/klippy/klippy.py", line 175, in _connect
    self._read_config()
  File "/home/admin/klipper/klippy/klippy.py", line 134, in _read_config
    config = pconfig.read_main_config()
  File "/home/admin/klipper/klippy/configfile.py", line 284, in read_main_config
    regular_config = self._build_config_wrapper(regular_data, filename)
  File "/home/admin/klipper/klippy/configfile.py", line 271, in _build_config_wrapper
    self._parse_config(data, filename, fileconfig, set())
  File "/home/admin/klipper/klippy/configfile.py", line 259, in _parse_config
    self._resolve_include(filename, include_spec, fileconfig,
  File "/home/admin/klipper/klippy/configfile.py", line 232, in _resolve_include
    raise error("Include file '%s' does not exist" % (include_glob,))
configparser.Error: Include file '/home/admin/printer_data/config/moonraker_obico_macros.cfg' does not exist
webhooks client 548587374720: New connection
webhooks client 548587374720: Client info {'program': 'Moonraker', 'version': 'v0.8.0-268-ga23187b'}
webhooks client 548587374720: Disconnected
webhooks client 548587375344: New connection
webhooks client 548587375344: Client info {'program': 'Moonraker', 'version': 'v0.8.0-286-gf44fc4b'}
webhooks client 548587375344: Disconnected
webhooks client 548587409168: New connection
webhooks client 548587409168: Client info {'program': 'Moonraker', 'version': 'v0.8.0-286-gf44fc4b'}
webhooks client 548587409168: Disconnected
webhooks client 548587375392: New connection
webhooks client 548587375392: Client info {'program': 'Moonraker', 'version': 'v0.8.0-286-gf44fc4b'}
webhooks client 548587375392: Disconnected
Starting Klippy...
Args: ['/home/admin/klipper/klippy/klippy.py', '/home/admin/printer_data/config/printer.cfg', '-l', '/home/admin/printer_data/logs/klippy.log', '-I', '/home/admin/printer_data/comms/klippy.serial', '-a', '/home/admin/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-100-g600e89ae'
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper.git
CPU: 4 core ?
Python: '3.9.2 (default, Feb 28 2021, 17:03:44) \n[GCC 10.2.1 20210110]'
Start printer at Sat Jan 27 15:09:24 2024 (1706386164.6 1273.1)
===== Config file =====
[pause_resume]

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[virtual_sdcard]
path = ~/gcode_files
on_error_gcode = CANCEL_PRINT

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set sp_move = client.speed_move | default(velocity) %}
	{% set runout_resume = True if client.runout_sensor | default("") == ""
	else True if not printer[client.runout_sensor].enabled
	else printer[client.runout_sensor].filament_detected %}
	{% set can_extrude = True if printer.toolhead.extruder == ''
	else printer[printer.toolhead.extruder].can_extrude %}
	{% set do_resume = False %}
	{% set prompt_txt = [] %}
	
	
	{% if printer.idle_timeout.state | upper == "IDLE" or idle_state %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	{% if last_extruder_temp.restore %}
	
	RESPOND TYPE=echo MSG='{"Restoring \"%s\" temperature to %3.1f\u00B0C, this may take some time" % (printer.toolhead.extruder, last_extruder_temp.temp) }'
	M109 S{last_extruder_temp.temp}
	{% set do_resume = True %}
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	{% if runout_resume %}
	{% if do_resume %}
	{% if restore_idle_timeout > 0 %} SET_IDLE_TIMEOUT TIMEOUT={restore_idle_timeout} {% endif %}
	{client.user_resume_macro | default("")}
	_CLIENT_EXTRUDE
	RESUME_BASE VELOCITY={params.VELOCITY | default(sp_move)}
	{% endif %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]}'
	{% set _d = prompt_txt.append("\"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]) %}
	{% endif %}
	
	{% if not (runout_resume and do_resume) %}
	RESPOND TYPE=command MSG="action:prompt_begin RESUME aborted !!!"
	{% for element in prompt_txt %}
	RESPOND TYPE=command MSG='{"action:prompt_text %s" % element}'
	{% endfor %}
	RESPOND TYPE=command MSG="action:prompt_footer_button Ok|RESPOND TYPE=command MSG=action:prompt_end|info"
	RESPOND TYPE=command MSG="action:prompt_show"
	{% endif %}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro print_start]
description = Inserted by slicer at start of print.
	Usage: PRINT_START
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(64)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(199)|float %}
	G92 E0
	M190 S{BED_TEMP}
	G28
	M104 S{EXTRUDER_TEMP}
	BED_MESH_CALIBRATE AREA_START={params.AREA_START|default("0,0")} AREA_END={params.AREA_END|default("0,0")}
	G1 Z2.0 F3000
	M109 S{EXTRUDER_TEMP}
	G1 X1 Y20 Z0.3 F5000.0
	G1 X1.1 Y200.0 Z0.3 F1500.0 E15
	G1 X1.4 Y200.0 Z0.3 F5000.0
	G1 X1.4 Y20 Z0.3 F1500.0 E30
	G92 E0
	G1 Z2.0 F3000
	G1 X5 Y20 Z0.3 F5000.0

[gcode_macro print_end]
description = Inserted by slicer at end of print.
	Usage: PRINT_END
gcode = 
	TURN_OFF_HEATERS
	
	G91
	
	G1 Z10 E-2 F2400
	
	G90
	PARKREAR
	
	M84

[gcode_macro PARKREAR]
gcode = 
	{% if "xyz" not in printer.toolhead.homed_axes %}
	G28
	{% endif %}
	SAVE_GCODE_STATE NAME=PARKREAR
	G90
	G0 X{printer.toolhead.axis_minimum.x+10} Y{printer.toolhead.axis_maximum.y-10} Z{50} F6000
	RESTORE_GCODE_STATE NAME=PARKREAR

[gcode_macro stepperoff]
gcode = 
	m18

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 1
variable_min_probe_count = 4
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "bicubic" %}
	{% if "algorithm" in bedMeshConfig %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	{% if meshPointX >=7 or meshPointY >=7 %}
	{% set algorithm = "bicubic" %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[exclude_object]

[stepper_x]
step_pin = PC2
dir_pin = PB9
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA5
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_y]
step_pin = PB8
dir_pin = PB7
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA6
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_z]
step_pin = PB6
dir_pin = !PB5
enable_pin = !PC3
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_min = -3
position_max = 250
homing_speed = 4
second_homing_speed = 1
homing_retract_dist = 2.0

[extruder]
max_extrude_only_distance = 150.0
step_pin = PB4
dir_pin = PB3
enable_pin = !PC3
microsteps = 16
rotation_distance = 31.62
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = Generic 3950
sensor_pin = PC5
min_temp = 0
max_temp = 250
control = pid
pid_kp = 26.586
pid_ki = 1.568
pid_kd = 112.657

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC4
min_temp = 0
max_temp = 130
control = pid
pid_kp = 72.992
pid_ki = 1.326
pid_kd = 1004.555

[fan]
pin = PA0

[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 5000
max_z_velocity = 5
square_corner_velocity = 5.0
max_z_accel = 100

[bltouch]
sensor_pin = ^PB1
control_pin = PB0
x_offset = -45.0
y_offset = -10.0
speed = 20
samples = 1
sample_retract_dist = 8.0
z_offset = 1.570

[safe_z_home]
home_xy_position = 160,120
speed = 150
z_hop = 10
z_hop_speed = 10

[bed_mesh]
speed = 120
mesh_min = 30,30
mesh_max = 189,189
probe_count = 5,5
fade_start = 1
fade_end = 10
fade_target = 0
algorithm = bicubic

[bed_screws]
screw1 = 30,25
screw1_name = 1
screw2 = 200,25
screw2_name = 2
screw3 = 200,195
screw3_name = 3
screw4 = 30,195
screw4_name = 4

[screws_tilt_adjust]
screw1 = 67, 42
screw1_name = front left screw
screw2 = 238, 42
screw2_name = front right screw
screw3 = 238, 212
screw3_name = rear right screw
screw4 = 67.60, 212
screw4_name = rear left screw
horizontal_move_z = 10
speed = 200
screw_thread = CW-M4

[firmware_retraction]
retract_length = 3
retract_speed = 30

[output_pin beeper]
pin = PB13

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100, 100, 10
	30, 30, 10
	200, 200, 10

[input_shaper]
shaper_type_x = mzv
shaper_freq_x = 64.8
shaper_type_y = ei
shaper_freq_y = 47.6

[bed_mesh default]
version = 1
points = 
	-0.125000, -0.117500, -0.125000, -0.112500, -0.112500, -0.115000, -0.072500, -0.072500
	-0.052500, -0.067500, -0.070000, -0.062500, -0.085000, -0.090000, -0.060000, -0.075000
	-0.020000, -0.030000, -0.032500, -0.027500, -0.037500, -0.045000, -0.020000, -0.002500
	-0.027500, -0.027500, -0.032500, -0.022500, -0.047500, -0.045000, -0.025000, -0.022500
	-0.022500, -0.020000, -0.037500, -0.025000, -0.045000, -0.065000, -0.030000, -0.027500
	-0.037500, -0.022500, -0.027500, -0.022500, -0.015000, -0.057500, -0.012500, -0.005000
	-0.050000, -0.037500, -0.042500, -0.030000, -0.042500, -0.060000, -0.035000, -0.035000
	-0.090000, -0.090000, -0.080000, -0.082500, -0.075000, -0.070000, -0.035000, -0.010000
x_count = 8
y_count = 8
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 20.0
max_x = 199.97
min_y = 20.0
max_y = 199.97
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
webhooks client 548044843904: New connection
webhooks client 548044843904: Client info {'program': 'Moonraker', 'version': 'v0.8.0-286-gf44fc4b'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
MCU error during connect
Traceback (most recent call last):
  File "/home/admin/klipper/klippy/mcu.py", line 768, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/admin/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/admin/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/admin/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/admin/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/admin/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/admin/klipper/klippy/mcu.py", line 773, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
No build file /home/admin/klipper/klippy/../.config
No build file /home/admin/klipper/klippy/../out/klipper.dict
No build file /home/admin/klipper/klippy/../out/klipper.elf
Unable to issue reset command on MCU 'mcu'
Unable to issue reset command on MCU 'rpi'
webhooks client 548044843904: Disconnected
Restarting printer
Start printer at Sat Jan 27 15:13:06 2024 (1706386386.0 1495.0)
===== Config file =====
[pause_resume]

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[virtual_sdcard]
path = ~/gcode_files
on_error_gcode = CANCEL_PRINT

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set sp_move = client.speed_move | default(velocity) %}
	{% set runout_resume = True if client.runout_sensor | default("") == ""
	else True if not printer[client.runout_sensor].enabled
	else printer[client.runout_sensor].filament_detected %}
	{% set can_extrude = True if printer.toolhead.extruder == ''
	else printer[printer.toolhead.extruder].can_extrude %}
	{% set do_resume = False %}
	{% set prompt_txt = [] %}
	
	
	{% if printer.idle_timeout.state | upper == "IDLE" or idle_state %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	{% if last_extruder_temp.restore %}
	
	RESPOND TYPE=echo MSG='{"Restoring \"%s\" temperature to %3.1f\u00B0C, this may take some time" % (printer.toolhead.extruder, last_extruder_temp.temp) }'
	M109 S{last_extruder_temp.temp}
	{% set do_resume = True %}
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	{% if runout_resume %}
	{% if do_resume %}
	{% if restore_idle_timeout > 0 %} SET_IDLE_TIMEOUT TIMEOUT={restore_idle_timeout} {% endif %}
	{client.user_resume_macro | default("")}
	_CLIENT_EXTRUDE
	RESUME_BASE VELOCITY={params.VELOCITY | default(sp_move)}
	{% endif %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]}'
	{% set _d = prompt_txt.append("\"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]) %}
	{% endif %}
	
	{% if not (runout_resume and do_resume) %}
	RESPOND TYPE=command MSG="action:prompt_begin RESUME aborted !!!"
	{% for element in prompt_txt %}
	RESPOND TYPE=command MSG='{"action:prompt_text %s" % element}'
	{% endfor %}
	RESPOND TYPE=command MSG="action:prompt_footer_button Ok|RESPOND TYPE=command MSG=action:prompt_end|info"
	RESPOND TYPE=command MSG="action:prompt_show"
	{% endif %}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro print_start]
description = Inserted by slicer at start of print.
	Usage: PRINT_START
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(64)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(199)|float %}
	G92 E0
	M190 S{BED_TEMP}
	G28
	M104 S{EXTRUDER_TEMP}
	BED_MESH_CALIBRATE AREA_START={params.AREA_START|default("0,0")} AREA_END={params.AREA_END|default("0,0")}
	G1 Z2.0 F3000
	M109 S{EXTRUDER_TEMP}
	G1 X1 Y20 Z0.3 F5000.0
	G1 X1.1 Y200.0 Z0.3 F1500.0 E15
	G1 X1.4 Y200.0 Z0.3 F5000.0
	G1 X1.4 Y20 Z0.3 F1500.0 E30
	G92 E0
	G1 Z2.0 F3000
	G1 X5 Y20 Z0.3 F5000.0

[gcode_macro print_end]
description = Inserted by slicer at end of print.
	Usage: PRINT_END
gcode = 
	TURN_OFF_HEATERS
	
	G91
	
	G1 Z10 E-2 F2400
	
	G90
	PARKREAR
	
	M84

[gcode_macro PARKREAR]
gcode = 
	{% if "xyz" not in printer.toolhead.homed_axes %}
	G28
	{% endif %}
	SAVE_GCODE_STATE NAME=PARKREAR
	G90
	G0 X{printer.toolhead.axis_minimum.x+10} Y{printer.toolhead.axis_maximum.y-10} Z{50} F6000
	RESTORE_GCODE_STATE NAME=PARKREAR

[gcode_macro stepperoff]
gcode = 
	m18

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 1
variable_min_probe_count = 4
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "bicubic" %}
	{% if "algorithm" in bedMeshConfig %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	{% if meshPointX >=7 or meshPointY >=7 %}
	{% set algorithm = "bicubic" %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[exclude_object]

[stepper_x]
step_pin = PC2
dir_pin = PB9
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA5
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_y]
step_pin = PB8
dir_pin = PB7
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA6
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_z]
step_pin = PB6
dir_pin = !PB5
enable_pin = !PC3
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_min = -3
position_max = 250
homing_speed = 4
second_homing_speed = 1
homing_retract_dist = 2.0

[extruder]
max_extrude_only_distance = 150.0
step_pin = PB4
dir_pin = PB3
enable_pin = !PC3
microsteps = 16
rotation_distance = 31.62
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = Generic 3950
sensor_pin = PC5
min_temp = 0
max_temp = 250
control = pid
pid_kp = 26.586
pid_ki = 1.568
pid_kd = 112.657

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC4
min_temp = 0
max_temp = 130
control = pid
pid_kp = 72.992
pid_ki = 1.326
pid_kd = 1004.555

[fan]
pin = PA0

[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 5000
max_z_velocity = 5
square_corner_velocity = 5.0
max_z_accel = 100

[bltouch]
sensor_pin = ^PB1
control_pin = PB0
x_offset = -45.0
y_offset = -10.0
speed = 20
samples = 1
sample_retract_dist = 8.0
z_offset = 1.570

[safe_z_home]
home_xy_position = 160,120
speed = 150
z_hop = 10
z_hop_speed = 10

[bed_mesh]
speed = 120
mesh_min = 30,30
mesh_max = 189,189
probe_count = 5,5
fade_start = 1
fade_end = 10
fade_target = 0
algorithm = bicubic

[bed_screws]
screw1 = 30,25
screw1_name = 1
screw2 = 200,25
screw2_name = 2
screw3 = 200,195
screw3_name = 3
screw4 = 30,195
screw4_name = 4

[screws_tilt_adjust]
screw1 = 67, 42
screw1_name = front left screw
screw2 = 238, 42
screw2_name = front right screw
screw3 = 238, 212
screw3_name = rear right screw
screw4 = 67.60, 212
screw4_name = rear left screw
horizontal_move_z = 10
speed = 200
screw_thread = CW-M4

[firmware_retraction]
retract_length = 3
retract_speed = 30

[output_pin beeper]
pin = PB13

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100, 100, 10
	30, 30, 10
	200, 200, 10

[input_shaper]
shaper_type_x = mzv
shaper_freq_x = 64.8
shaper_type_y = ei
shaper_freq_y = 47.6

[bed_mesh default]
version = 1
points = 
	-0.125000, -0.117500, -0.125000, -0.112500, -0.112500, -0.115000, -0.072500, -0.072500
	-0.052500, -0.067500, -0.070000, -0.062500, -0.085000, -0.090000, -0.060000, -0.075000
	-0.020000, -0.030000, -0.032500, -0.027500, -0.037500, -0.045000, -0.020000, -0.002500
	-0.027500, -0.027500, -0.032500, -0.022500, -0.047500, -0.045000, -0.025000, -0.022500
	-0.022500, -0.020000, -0.037500, -0.025000, -0.045000, -0.065000, -0.030000, -0.027500
	-0.037500, -0.022500, -0.027500, -0.022500, -0.015000, -0.057500, -0.012500, -0.005000
	-0.050000, -0.037500, -0.042500, -0.030000, -0.042500, -0.060000, -0.035000, -0.035000
	-0.090000, -0.090000, -0.080000, -0.082500, -0.075000, -0.070000, -0.035000, -0.010000
x_count = 8
y_count = 8
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 20.0
max_x = 199.97
min_y = 20.0
max_y = 199.97
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
webhooks client 548047240544: New connection
webhooks client 548047240544: Client info {'program': 'Moonraker', 'version': 'v0.8.0-286-gf44fc4b'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
Unable to issue reset command on MCU 'mcu'
Unable to issue reset command on MCU 'rpi'
webhooks client 548047240544: Disconnected
Restarting printer
Start printer at Sat Jan 27 15:13:30 2024 (1706386410.3 1518.6)
===== Config file =====
[pause_resume]

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[virtual_sdcard]
path = ~/gcode_files
on_error_gcode = CANCEL_PRINT

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set sp_move = client.speed_move | default(velocity) %}
	{% set runout_resume = True if client.runout_sensor | default("") == ""
	else True if not printer[client.runout_sensor].enabled
	else printer[client.runout_sensor].filament_detected %}
	{% set can_extrude = True if printer.toolhead.extruder == ''
	else printer[printer.toolhead.extruder].can_extrude %}
	{% set do_resume = False %}
	{% set prompt_txt = [] %}
	
	
	{% if printer.idle_timeout.state | upper == "IDLE" or idle_state %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	{% if last_extruder_temp.restore %}
	
	RESPOND TYPE=echo MSG='{"Restoring \"%s\" temperature to %3.1f\u00B0C, this may take some time" % (printer.toolhead.extruder, last_extruder_temp.temp) }'
	M109 S{last_extruder_temp.temp}
	{% set do_resume = True %}
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	{% if runout_resume %}
	{% if do_resume %}
	{% if restore_idle_timeout > 0 %} SET_IDLE_TIMEOUT TIMEOUT={restore_idle_timeout} {% endif %}
	{client.user_resume_macro | default("")}
	_CLIENT_EXTRUDE
	RESUME_BASE VELOCITY={params.VELOCITY | default(sp_move)}
	{% endif %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]}'
	{% set _d = prompt_txt.append("\"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]) %}
	{% endif %}
	
	{% if not (runout_resume and do_resume) %}
	RESPOND TYPE=command MSG="action:prompt_begin RESUME aborted !!!"
	{% for element in prompt_txt %}
	RESPOND TYPE=command MSG='{"action:prompt_text %s" % element}'
	{% endfor %}
	RESPOND TYPE=command MSG="action:prompt_footer_button Ok|RESPOND TYPE=command MSG=action:prompt_end|info"
	RESPOND TYPE=command MSG="action:prompt_show"
	{% endif %}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro print_start]
description = Inserted by slicer at start of print.
	Usage: PRINT_START
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(64)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(199)|float %}
	G92 E0
	M190 S{BED_TEMP}
	G28
	M104 S{EXTRUDER_TEMP}
	BED_MESH_CALIBRATE AREA_START={params.AREA_START|default("0,0")} AREA_END={params.AREA_END|default("0,0")}
	G1 Z2.0 F3000
	M109 S{EXTRUDER_TEMP}
	G1 X1 Y20 Z0.3 F5000.0
	G1 X1.1 Y200.0 Z0.3 F1500.0 E15
	G1 X1.4 Y200.0 Z0.3 F5000.0
	G1 X1.4 Y20 Z0.3 F1500.0 E30
	G92 E0
	G1 Z2.0 F3000
	G1 X5 Y20 Z0.3 F5000.0

[gcode_macro print_end]
description = Inserted by slicer at end of print.
	Usage: PRINT_END
gcode = 
	TURN_OFF_HEATERS
	
	G91
	
	G1 Z10 E-2 F2400
	
	G90
	PARKREAR
	
	M84

[gcode_macro PARKREAR]
gcode = 
	{% if "xyz" not in printer.toolhead.homed_axes %}
	G28
	{% endif %}
	SAVE_GCODE_STATE NAME=PARKREAR
	G90
	G0 X{printer.toolhead.axis_minimum.x+10} Y{printer.toolhead.axis_maximum.y-10} Z{50} F6000
	RESTORE_GCODE_STATE NAME=PARKREAR

[gcode_macro stepperoff]
gcode = 
	m18

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 1
variable_min_probe_count = 4
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "bicubic" %}
	{% if "algorithm" in bedMeshConfig %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	{% if meshPointX >=7 or meshPointY >=7 %}
	{% set algorithm = "bicubic" %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[exclude_object]

[stepper_x]
step_pin = PC2
dir_pin = PB9
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA5
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_y]
step_pin = PB8
dir_pin = PB7
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA6
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_z]
step_pin = PB6
dir_pin = !PB5
enable_pin = !PC3
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_min = -3
position_max = 250
homing_speed = 4
second_homing_speed = 1
homing_retract_dist = 2.0

[extruder]
max_extrude_only_distance = 150.0
step_pin = PB4
dir_pin = PB3
enable_pin = !PC3
microsteps = 16
rotation_distance = 31.62
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = Generic 3950
sensor_pin = PC5
min_temp = 0
max_temp = 250
control = pid
pid_kp = 26.586
pid_ki = 1.568
pid_kd = 112.657

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC4
min_temp = 0
max_temp = 130
control = pid
pid_kp = 72.992
pid_ki = 1.326
pid_kd = 1004.555

[fan]
pin = PA0

[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 5000
max_z_velocity = 5
square_corner_velocity = 5.0
max_z_accel = 100

[bltouch]
sensor_pin = ^PB1
control_pin = PB0
x_offset = -45.0
y_offset = -10.0
speed = 20
samples = 1
sample_retract_dist = 8.0
z_offset = 1.570

[safe_z_home]
home_xy_position = 160,120
speed = 150
z_hop = 10
z_hop_speed = 10

[bed_mesh]
speed = 120
mesh_min = 30,30
mesh_max = 189,189
probe_count = 5,5
fade_start = 1
fade_end = 10
fade_target = 0
algorithm = bicubic

[bed_screws]
screw1 = 30,25
screw1_name = 1
screw2 = 200,25
screw2_name = 2
screw3 = 200,195
screw3_name = 3
screw4 = 30,195
screw4_name = 4

[screws_tilt_adjust]
screw1 = 67, 42
screw1_name = front left screw
screw2 = 238, 42
screw2_name = front right screw
screw3 = 238, 212
screw3_name = rear right screw
screw4 = 67.60, 212
screw4_name = rear left screw
horizontal_move_z = 10
speed = 200
screw_thread = CW-M4

[firmware_retraction]
retract_length = 3
retract_speed = 30

[output_pin beeper]
pin = PB13

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100, 100, 10
	30, 30, 10
	200, 200, 10

[input_shaper]
shaper_type_x = mzv
shaper_freq_x = 64.8
shaper_type_y = ei
shaper_freq_y = 47.6

[bed_mesh default]
version = 1
points = 
	-0.125000, -0.117500, -0.125000, -0.112500, -0.112500, -0.115000, -0.072500, -0.072500
	-0.052500, -0.067500, -0.070000, -0.062500, -0.085000, -0.090000, -0.060000, -0.075000
	-0.020000, -0.030000, -0.032500, -0.027500, -0.037500, -0.045000, -0.020000, -0.002500
	-0.027500, -0.027500, -0.032500, -0.022500, -0.047500, -0.045000, -0.025000, -0.022500
	-0.022500, -0.020000, -0.037500, -0.025000, -0.045000, -0.065000, -0.030000, -0.027500
	-0.037500, -0.022500, -0.027500, -0.022500, -0.015000, -0.057500, -0.012500, -0.005000
	-0.050000, -0.037500, -0.042500, -0.030000, -0.042500, -0.060000, -0.035000, -0.035000
	-0.090000, -0.090000, -0.080000, -0.082500, -0.075000, -0.070000, -0.035000, -0.010000
x_count = 8
y_count = 8
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 20.0
max_x = 199.97
min_y = 20.0
max_y = 199.97
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
webhooks client 548044959648: New connection
webhooks client 548044959648: Client info {'program': 'Moonraker', 'version': 'v0.8.0-286-gf44fc4b'}
webhooks client 548044959648: Disconnected
Restarting printer
Start printer at Sat Jan 27 15:13:36 2024 (1706386417.0 1525.3)
===== Config file =====
[pause_resume]

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[virtual_sdcard]
path = ~/gcode_files
on_error_gcode = CANCEL_PRINT

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set sp_move = client.speed_move | default(velocity) %}
	{% set runout_resume = True if client.runout_sensor | default("") == ""
	else True if not printer[client.runout_sensor].enabled
	else printer[client.runout_sensor].filament_detected %}
	{% set can_extrude = True if printer.toolhead.extruder == ''
	else printer[printer.toolhead.extruder].can_extrude %}
	{% set do_resume = False %}
	{% set prompt_txt = [] %}
	
	
	{% if printer.idle_timeout.state | upper == "IDLE" or idle_state %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	{% if last_extruder_temp.restore %}
	
	RESPOND TYPE=echo MSG='{"Restoring \"%s\" temperature to %3.1f\u00B0C, this may take some time" % (printer.toolhead.extruder, last_extruder_temp.temp) }'
	M109 S{last_extruder_temp.temp}
	{% set do_resume = True %}
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	{% if runout_resume %}
	{% if do_resume %}
	{% if restore_idle_timeout > 0 %} SET_IDLE_TIMEOUT TIMEOUT={restore_idle_timeout} {% endif %}
	{client.user_resume_macro | default("")}
	_CLIENT_EXTRUDE
	RESUME_BASE VELOCITY={params.VELOCITY | default(sp_move)}
	{% endif %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]}'
	{% set _d = prompt_txt.append("\"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]) %}
	{% endif %}
	
	{% if not (runout_resume and do_resume) %}
	RESPOND TYPE=command MSG="action:prompt_begin RESUME aborted !!!"
	{% for element in prompt_txt %}
	RESPOND TYPE=command MSG='{"action:prompt_text %s" % element}'
	{% endfor %}
	RESPOND TYPE=command MSG="action:prompt_footer_button Ok|RESPOND TYPE=command MSG=action:prompt_end|info"
	RESPOND TYPE=command MSG="action:prompt_show"
	{% endif %}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro print_start]
description = Inserted by slicer at start of print.
	Usage: PRINT_START
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(64)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(199)|float %}
	G92 E0
	M190 S{BED_TEMP}
	G28
	M104 S{EXTRUDER_TEMP}
	BED_MESH_CALIBRATE AREA_START={params.AREA_START|default("0,0")} AREA_END={params.AREA_END|default("0,0")}
	G1 Z2.0 F3000
	M109 S{EXTRUDER_TEMP}
	G1 X1 Y20 Z0.3 F5000.0
	G1 X1.1 Y200.0 Z0.3 F1500.0 E15
	G1 X1.4 Y200.0 Z0.3 F5000.0
	G1 X1.4 Y20 Z0.3 F1500.0 E30
	G92 E0
	G1 Z2.0 F3000
	G1 X5 Y20 Z0.3 F5000.0

[gcode_macro print_end]
description = Inserted by slicer at end of print.
	Usage: PRINT_END
gcode = 
	TURN_OFF_HEATERS
	
	G91
	
	G1 Z10 E-2 F2400
	
	G90
	PARKREAR
	
	M84

[gcode_macro PARKREAR]
gcode = 
	{% if "xyz" not in printer.toolhead.homed_axes %}
	G28
	{% endif %}
	SAVE_GCODE_STATE NAME=PARKREAR
	G90
	G0 X{printer.toolhead.axis_minimum.x+10} Y{printer.toolhead.axis_maximum.y-10} Z{50} F6000
	RESTORE_GCODE_STATE NAME=PARKREAR

[gcode_macro stepperoff]
gcode = 
	m18

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 1
variable_min_probe_count = 4
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "bicubic" %}
	{% if "algorithm" in bedMeshConfig %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	{% if meshPointX >=7 or meshPointY >=7 %}
	{% set algorithm = "bicubic" %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[exclude_object]

[stepper_x]
step_pin = PC2
dir_pin = PB9
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA5
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_y]
step_pin = PB8
dir_pin = PB7
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA6
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_z]
step_pin = PB6
dir_pin = !PB5
enable_pin = !PC3
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_min = -3
position_max = 250
homing_speed = 4
second_homing_speed = 1
homing_retract_dist = 2.0

[extruder]
max_extrude_only_distance = 150.0
step_pin = PB4
dir_pin = PB3
enable_pin = !PC3
microsteps = 16
rotation_distance = 31.62
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = Generic 3950
sensor_pin = PC5
min_temp = 0
max_temp = 250
control = pid
pid_kp = 26.586
pid_ki = 1.568
pid_kd = 112.657

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC4
min_temp = 0
max_temp = 130
control = pid
pid_kp = 72.992
pid_ki = 1.326
pid_kd = 1004.555

[fan]
pin = PA0

[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 5000
max_z_velocity = 5
square_corner_velocity = 5.0
max_z_accel = 100

[bltouch]
sensor_pin = ^PB1
control_pin = PB0
x_offset = -45.0
y_offset = -10.0
speed = 20
samples = 1
sample_retract_dist = 8.0
z_offset = 1.570

[safe_z_home]
home_xy_position = 160,120
speed = 150
z_hop = 10
z_hop_speed = 10

[bed_mesh]
speed = 120
mesh_min = 30,30
mesh_max = 189,189
probe_count = 5,5
fade_start = 1
fade_end = 10
fade_target = 0
algorithm = bicubic

[bed_screws]
screw1 = 30,25
screw1_name = 1
screw2 = 200,25
screw2_name = 2
screw3 = 200,195
screw3_name = 3
screw4 = 30,195
screw4_name = 4

[screws_tilt_adjust]
screw1 = 67, 42
screw1_name = front left screw
screw2 = 238, 42
screw2_name = front right screw
screw3 = 238, 212
screw3_name = rear right screw
screw4 = 67.60, 212
screw4_name = rear left screw
horizontal_move_z = 10
speed = 200
screw_thread = CW-M4

[firmware_retraction]
retract_length = 3
retract_speed = 30

[output_pin beeper]
pin = PB13

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100, 100, 10
	30, 30, 10
	200, 200, 10

[input_shaper]
shaper_type_x = mzv
shaper_freq_x = 64.8
shaper_type_y = ei
shaper_freq_y = 47.6

[bed_mesh default]
version = 1
points = 
	-0.125000, -0.117500, -0.125000, -0.112500, -0.112500, -0.115000, -0.072500, -0.072500
	-0.052500, -0.067500, -0.070000, -0.062500, -0.085000, -0.090000, -0.060000, -0.075000
	-0.020000, -0.030000, -0.032500, -0.027500, -0.037500, -0.045000, -0.020000, -0.002500
	-0.027500, -0.027500, -0.032500, -0.022500, -0.047500, -0.045000, -0.025000, -0.022500
	-0.022500, -0.020000, -0.037500, -0.025000, -0.045000, -0.065000, -0.030000, -0.027500
	-0.037500, -0.022500, -0.027500, -0.022500, -0.015000, -0.057500, -0.012500, -0.005000
	-0.050000, -0.037500, -0.042500, -0.030000, -0.042500, -0.060000, -0.035000, -0.035000
	-0.090000, -0.090000, -0.080000, -0.082500, -0.075000, -0.070000, -0.035000, -0.010000
x_count = 8
y_count = 8
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 20.0
max_x = 199.97
min_y = 20.0
max_y = 199.97
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
webhooks client 548046711968: New connection
webhooks client 548046711968: Client info {'program': 'Moonraker', 'version': 'v0.8.0-286-gf44fc4b'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
MCU error during connect
Traceback (most recent call last):
  File "/home/admin/klipper/klippy/mcu.py", line 768, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/admin/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/admin/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/admin/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/admin/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/admin/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/admin/klipper/klippy/mcu.py", line 773, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
No build file /home/admin/klipper/klippy/../.config
No build file /home/admin/klipper/klippy/../out/klipper.dict
No build file /home/admin/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/admin/klipper/klippy/klippy.py', '/home/admin/printer_data/config/printer.cfg', '-l', '/home/admin/printer_data/logs/klippy.log', '-I', '/home/admin/printer_data/comms/klippy.serial', '-a', '/home/admin/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-100-g600e89ae-dirty'
Untracked files: klippy/extras/gcode_shell_command.py
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper.git
CPU: 4 core ?
Python: '3.9.2 (default, Feb 28 2021, 17:03:44) \n[GCC 10.2.1 20210110]'
Start printer at Sat Jan 27 15:17:16 2024 (1706386636.7 1745.2)
===== Config file =====
[gcode_shell_command hello_world]
command = echo hello world
timeout = 2.
verbose = True

[gcode_macro HELLO_WORLD]
gcode = 
	RUN_SHELL_COMMAND CMD=hello_world

[pause_resume]

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[virtual_sdcard]
path = ~/gcode_files
on_error_gcode = CANCEL_PRINT

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set sp_move = client.speed_move | default(velocity) %}
	{% set runout_resume = True if client.runout_sensor | default("") == ""
	else True if not printer[client.runout_sensor].enabled
	else printer[client.runout_sensor].filament_detected %}
	{% set can_extrude = True if printer.toolhead.extruder == ''
	else printer[printer.toolhead.extruder].can_extrude %}
	{% set do_resume = False %}
	{% set prompt_txt = [] %}
	
	
	{% if printer.idle_timeout.state | upper == "IDLE" or idle_state %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	{% if last_extruder_temp.restore %}
	
	RESPOND TYPE=echo MSG='{"Restoring \"%s\" temperature to %3.1f\u00B0C, this may take some time" % (printer.toolhead.extruder, last_extruder_temp.temp) }'
	M109 S{last_extruder_temp.temp}
	{% set do_resume = True %}
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	{% if runout_resume %}
	{% if do_resume %}
	{% if restore_idle_timeout > 0 %} SET_IDLE_TIMEOUT TIMEOUT={restore_idle_timeout} {% endif %}
	{client.user_resume_macro | default("")}
	_CLIENT_EXTRUDE
	RESUME_BASE VELOCITY={params.VELOCITY | default(sp_move)}
	{% endif %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]}'
	{% set _d = prompt_txt.append("\"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]) %}
	{% endif %}
	
	{% if not (runout_resume and do_resume) %}
	RESPOND TYPE=command MSG="action:prompt_begin RESUME aborted !!!"
	{% for element in prompt_txt %}
	RESPOND TYPE=command MSG='{"action:prompt_text %s" % element}'
	{% endfor %}
	RESPOND TYPE=command MSG="action:prompt_footer_button Ok|RESPOND TYPE=command MSG=action:prompt_end|info"
	RESPOND TYPE=command MSG="action:prompt_show"
	{% endif %}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro print_start]
description = Inserted by slicer at start of print.
	Usage: PRINT_START
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(64)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(199)|float %}
	G92 E0
	M190 S{BED_TEMP}
	G28
	M104 S{EXTRUDER_TEMP}
	BED_MESH_CALIBRATE AREA_START={params.AREA_START|default("0,0")} AREA_END={params.AREA_END|default("0,0")}
	G1 Z2.0 F3000
	M109 S{EXTRUDER_TEMP}
	G1 X1 Y20 Z0.3 F5000.0
	G1 X1.1 Y200.0 Z0.3 F1500.0 E15
	G1 X1.4 Y200.0 Z0.3 F5000.0
	G1 X1.4 Y20 Z0.3 F1500.0 E30
	G92 E0
	G1 Z2.0 F3000
	G1 X5 Y20 Z0.3 F5000.0

[gcode_macro print_end]
description = Inserted by slicer at end of print.
	Usage: PRINT_END
gcode = 
	TURN_OFF_HEATERS
	
	G91
	
	G1 Z10 E-2 F2400
	
	G90
	PARKREAR
	
	M84

[gcode_macro PARKREAR]
gcode = 
	{% if "xyz" not in printer.toolhead.homed_axes %}
	G28
	{% endif %}
	SAVE_GCODE_STATE NAME=PARKREAR
	G90
	G0 X{printer.toolhead.axis_minimum.x+10} Y{printer.toolhead.axis_maximum.y-10} Z{50} F6000
	RESTORE_GCODE_STATE NAME=PARKREAR

[gcode_macro stepperoff]
gcode = 
	m18

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 1
variable_min_probe_count = 4
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "bicubic" %}
	{% if "algorithm" in bedMeshConfig %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	{% if meshPointX >=7 or meshPointY >=7 %}
	{% set algorithm = "bicubic" %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[exclude_object]

[stepper_x]
step_pin = PC2
dir_pin = PB9
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA5
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_y]
step_pin = PB8
dir_pin = PB7
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA6
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_z]
step_pin = PB6
dir_pin = !PB5
enable_pin = !PC3
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_min = -3
position_max = 250
homing_speed = 4
second_homing_speed = 1
homing_retract_dist = 2.0

[extruder]
max_extrude_only_distance = 150.0
step_pin = PB4
dir_pin = PB3
enable_pin = !PC3
microsteps = 16
rotation_distance = 31.62
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = Generic 3950
sensor_pin = PC5
min_temp = 0
max_temp = 250
control = pid
pid_kp = 26.586
pid_ki = 1.568
pid_kd = 112.657

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC4
min_temp = 0
max_temp = 130
control = pid
pid_kp = 72.992
pid_ki = 1.326
pid_kd = 1004.555

[fan]
pin = PA0

[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 5000
max_z_velocity = 5
square_corner_velocity = 5.0
max_z_accel = 100

[bltouch]
sensor_pin = ^PB1
control_pin = PB0
x_offset = -45.0
y_offset = -10.0
speed = 20
samples = 1
sample_retract_dist = 8.0
z_offset = 1.570

[safe_z_home]
home_xy_position = 160,120
speed = 150
z_hop = 10
z_hop_speed = 10

[bed_mesh]
speed = 120
mesh_min = 30,30
mesh_max = 189,189
probe_count = 5,5
fade_start = 1
fade_end = 10
fade_target = 0
algorithm = bicubic

[bed_screws]
screw1 = 30,25
screw1_name = 1
screw2 = 200,25
screw2_name = 2
screw3 = 200,195
screw3_name = 3
screw4 = 30,195
screw4_name = 4

[screws_tilt_adjust]
screw1 = 67, 42
screw1_name = front left screw
screw2 = 238, 42
screw2_name = front right screw
screw3 = 238, 212
screw3_name = rear right screw
screw4 = 67.60, 212
screw4_name = rear left screw
horizontal_move_z = 10
speed = 200
screw_thread = CW-M4

[firmware_retraction]
retract_length = 3
retract_speed = 30

[output_pin beeper]
pin = PB13

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100, 100, 10
	30, 30, 10
	200, 200, 10

[input_shaper]
shaper_type_x = mzv
shaper_freq_x = 64.8
shaper_type_y = ei
shaper_freq_y = 47.6

[bed_mesh default]
version = 1
points = 
	-0.125000, -0.117500, -0.125000, -0.112500, -0.112500, -0.115000, -0.072500, -0.072500
	-0.052500, -0.067500, -0.070000, -0.062500, -0.085000, -0.090000, -0.060000, -0.075000
	-0.020000, -0.030000, -0.032500, -0.027500, -0.037500, -0.045000, -0.020000, -0.002500
	-0.027500, -0.027500, -0.032500, -0.022500, -0.047500, -0.045000, -0.025000, -0.022500
	-0.022500, -0.020000, -0.037500, -0.025000, -0.045000, -0.065000, -0.030000, -0.027500
	-0.037500, -0.022500, -0.027500, -0.022500, -0.015000, -0.057500, -0.012500, -0.005000
	-0.050000, -0.037500, -0.042500, -0.030000, -0.042500, -0.060000, -0.035000, -0.035000
	-0.090000, -0.090000, -0.080000, -0.082500, -0.075000, -0.070000, -0.035000, -0.010000
x_count = 8
y_count = 8
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 20.0
max_x = 199.97
min_y = 20.0
max_y = 199.97
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
webhooks client 547970183072: New connection
webhooks client 547970183072: Client info {'program': 'Moonraker', 'version': 'v0.8.0-286-gf44fc4b'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
MCU error during connect
Traceback (most recent call last):
  File "/home/admin/klipper/klippy/mcu.py", line 768, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/admin/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/admin/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/admin/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/admin/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/admin/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/admin/klipper/klippy/mcu.py", line 773, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
No build file /home/admin/klipper/klippy/../.config
No build file /home/admin/klipper/klippy/../out/klipper.dict
No build file /home/admin/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/admin/klipper/klippy/klippy.py', '/home/admin/printer_data/config/printer.cfg', '-l', '/home/admin/printer_data/logs/klippy.log', '-I', '/home/admin/printer_data/comms/klippy.serial', '-a', '/home/admin/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-100-g600e89ae-dirty'
Untracked files: klippy/extras/gcode_shell_command.py
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper.git
CPU: 4 core ?
Python: '3.9.2 (default, Feb 28 2021, 17:03:44) \n[GCC 10.2.1 20210110]'
Start printer at Sat Jan 27 16:40:06 2024 (1706391606.5 6715.5)
===== Config file =====
[gcode_shell_command hello_world]
command = echo hello world
timeout = 2.
verbose = True

[gcode_macro HELLO_WORLD]
gcode = 
	RUN_SHELL_COMMAND CMD=hello_world

[pause_resume]

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[virtual_sdcard]
path = ~/gcode_files
on_error_gcode = CANCEL_PRINT

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set sp_move = client.speed_move | default(velocity) %}
	{% set runout_resume = True if client.runout_sensor | default("") == ""
	else True if not printer[client.runout_sensor].enabled
	else printer[client.runout_sensor].filament_detected %}
	{% set can_extrude = True if printer.toolhead.extruder == ''
	else printer[printer.toolhead.extruder].can_extrude %}
	{% set do_resume = False %}
	{% set prompt_txt = [] %}
	
	
	{% if printer.idle_timeout.state | upper == "IDLE" or idle_state %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	{% if last_extruder_temp.restore %}
	
	RESPOND TYPE=echo MSG='{"Restoring \"%s\" temperature to %3.1f\u00B0C, this may take some time" % (printer.toolhead.extruder, last_extruder_temp.temp) }'
	M109 S{last_extruder_temp.temp}
	{% set do_resume = True %}
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	{% if runout_resume %}
	{% if do_resume %}
	{% if restore_idle_timeout > 0 %} SET_IDLE_TIMEOUT TIMEOUT={restore_idle_timeout} {% endif %}
	{client.user_resume_macro | default("")}
	_CLIENT_EXTRUDE
	RESUME_BASE VELOCITY={params.VELOCITY | default(sp_move)}
	{% endif %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]}'
	{% set _d = prompt_txt.append("\"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]) %}
	{% endif %}
	
	{% if not (runout_resume and do_resume) %}
	RESPOND TYPE=command MSG="action:prompt_begin RESUME aborted !!!"
	{% for element in prompt_txt %}
	RESPOND TYPE=command MSG='{"action:prompt_text %s" % element}'
	{% endfor %}
	RESPOND TYPE=command MSG="action:prompt_footer_button Ok|RESPOND TYPE=command MSG=action:prompt_end|info"
	RESPOND TYPE=command MSG="action:prompt_show"
	{% endif %}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro print_start]
description = Inserted by slicer at start of print.
	Usage: PRINT_START
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(64)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(199)|float %}
	G92 E0
	M190 S{BED_TEMP}
	G28
	M104 S{EXTRUDER_TEMP}
	BED_MESH_CALIBRATE AREA_START={params.AREA_START|default("0,0")} AREA_END={params.AREA_END|default("0,0")}
	G1 Z2.0 F3000
	M109 S{EXTRUDER_TEMP}
	G1 X1 Y20 Z0.3 F5000.0
	G1 X1.1 Y200.0 Z0.3 F1500.0 E15
	G1 X1.4 Y200.0 Z0.3 F5000.0
	G1 X1.4 Y20 Z0.3 F1500.0 E30
	G92 E0
	G1 Z2.0 F3000
	G1 X5 Y20 Z0.3 F5000.0

[gcode_macro print_end]
description = Inserted by slicer at end of print.
	Usage: PRINT_END
gcode = 
	TURN_OFF_HEATERS
	
	G91
	
	G1 Z10 E-2 F2400
	
	G90
	PARKREAR
	
	M84

[gcode_macro PARKREAR]
gcode = 
	{% if "xyz" not in printer.toolhead.homed_axes %}
	G28
	{% endif %}
	SAVE_GCODE_STATE NAME=PARKREAR
	G90
	G0 X{printer.toolhead.axis_minimum.x+10} Y{printer.toolhead.axis_maximum.y-10} Z{50} F6000
	RESTORE_GCODE_STATE NAME=PARKREAR

[gcode_macro stepperoff]
gcode = 
	m18

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 1
variable_min_probe_count = 4
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "bicubic" %}
	{% if "algorithm" in bedMeshConfig %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	{% if meshPointX >=7 or meshPointY >=7 %}
	{% set algorithm = "bicubic" %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[exclude_object]

[stepper_x]
step_pin = PC2
dir_pin = PB9
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA5
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_y]
step_pin = PB8
dir_pin = PB7
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA6
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_z]
step_pin = PB6
dir_pin = !PB5
enable_pin = !PC3
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_min = -3
position_max = 250
homing_speed = 4
second_homing_speed = 1
homing_retract_dist = 2.0

[extruder]
max_extrude_only_distance = 150.0
step_pin = PB4
dir_pin = PB3
enable_pin = !PC3
microsteps = 16
rotation_distance = 31.62
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = Generic 3950
sensor_pin = PC5
min_temp = 0
max_temp = 250
control = pid
pid_kp = 26.586
pid_ki = 1.568
pid_kd = 112.657

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC4
min_temp = 0
max_temp = 130
control = pid
pid_kp = 72.992
pid_ki = 1.326
pid_kd = 1004.555

[fan]
pin = PA0

[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 5000
max_z_velocity = 5
square_corner_velocity = 5.0
max_z_accel = 100

[bltouch]
sensor_pin = ^PB1
control_pin = PB0
x_offset = -45.0
y_offset = -10.0
speed = 20
samples = 1
sample_retract_dist = 8.0
z_offset = 1.570

[safe_z_home]
home_xy_position = 160,120
speed = 150
z_hop = 10
z_hop_speed = 10

[bed_mesh]
speed = 120
mesh_min = 30,30
mesh_max = 189,189
probe_count = 5,5
fade_start = 1
fade_end = 10
fade_target = 0
algorithm = bicubic

[bed_screws]
screw1 = 30,25
screw1_name = 1
screw2 = 200,25
screw2_name = 2
screw3 = 200,195
screw3_name = 3
screw4 = 30,195
screw4_name = 4

[screws_tilt_adjust]
screw1 = 67, 42
screw1_name = front left screw
screw2 = 238, 42
screw2_name = front right screw
screw3 = 238, 212
screw3_name = rear right screw
screw4 = 67.60, 212
screw4_name = rear left screw
horizontal_move_z = 10
speed = 200
screw_thread = CW-M4

[firmware_retraction]
retract_length = 3
retract_speed = 30

[output_pin beeper]
pin = PB13

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100, 100, 10
	30, 30, 10
	200, 200, 10

[input_shaper]
shaper_type_x = mzv
shaper_freq_x = 64.8
shaper_type_y = ei
shaper_freq_y = 47.6

[bed_mesh default]
version = 1
points = 
	-0.125000, -0.117500, -0.125000, -0.112500, -0.112500, -0.115000, -0.072500, -0.072500
	-0.052500, -0.067500, -0.070000, -0.062500, -0.085000, -0.090000, -0.060000, -0.075000
	-0.020000, -0.030000, -0.032500, -0.027500, -0.037500, -0.045000, -0.020000, -0.002500
	-0.027500, -0.027500, -0.032500, -0.022500, -0.047500, -0.045000, -0.025000, -0.022500
	-0.022500, -0.020000, -0.037500, -0.025000, -0.045000, -0.065000, -0.030000, -0.027500
	-0.037500, -0.022500, -0.027500, -0.022500, -0.015000, -0.057500, -0.012500, -0.005000
	-0.050000, -0.037500, -0.042500, -0.030000, -0.042500, -0.060000, -0.035000, -0.035000
	-0.090000, -0.090000, -0.080000, -0.082500, -0.075000, -0.070000, -0.035000, -0.010000
x_count = 8
y_count = 8
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 20.0
max_x = 199.97
min_y = 20.0
max_y = 199.97
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
webhooks client 548450308000: New connection
webhooks client 548450308000: Client info {'program': 'Moonraker', 'version': 'v0.8.0-286-gf44fc4b'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
MCU error during connect
Traceback (most recent call last):
  File "/home/admin/klipper/klippy/mcu.py", line 768, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/admin/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/admin/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/admin/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/admin/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/admin/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/admin/klipper/klippy/mcu.py", line 773, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/admin/klipper/klippy/../.config(892): Sat Jan 27 16:39:29 2024
========= Last MCU build config =========
# CONFIG_LOW_LEVEL_OPTIONS is not set
# CONFIG_MACH_AVR is not set
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
CONFIG_MACH_LINUX=y
# CONFIG_MACH_SIMU is not set
CONFIG_BOARD_DIRECTORY="linux"
CONFIG_CLOCK_FREQ=50000000
CONFIG_LINUX_SELECT=y
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_LIS2DW=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_NEED_SENSOR_BULK=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
Build file /home/admin/klipper/klippy/../out/klipper.dict(9190): Sat Jan 27 16:39:53 2024
Last MCU build version: v0.12.0-100-g600e89ae
Last MCU build tools: gcc: (Debian 10.2.1-6) 10.2.1 20210110 binutils: (GNU Binutils for Debian) 2.35.2
Last MCU build config: ADC_MAX=4095 CLOCK_FREQ=50000000 MCU=linux PCA9685_MAX=4096 PWM_MAX=32768 STATS_SUMSQ_BASE=256
Build file /home/admin/klipper/klippy/../out/klipper.elf(868096): Sat Jan 27 16:40:02 2024
Unable to issue reset command on MCU 'mcu'
Unable to issue reset command on MCU 'rpi'
webhooks client 548450308000: Disconnected
Restarting printer
Start printer at Sat Jan 27 16:52:07 2024 (1706392327.6 7436.2)
===== Config file =====
[gcode_shell_command hello_world]
command = echo hello world
timeout = 2.
verbose = True

[gcode_macro HELLO_WORLD]
gcode = 
	RUN_SHELL_COMMAND CMD=hello_world

[pause_resume]

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[virtual_sdcard]
path = ~/gcode_files
on_error_gcode = CANCEL_PRINT

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set sp_move = client.speed_move | default(velocity) %}
	{% set runout_resume = True if client.runout_sensor | default("") == ""
	else True if not printer[client.runout_sensor].enabled
	else printer[client.runout_sensor].filament_detected %}
	{% set can_extrude = True if printer.toolhead.extruder == ''
	else printer[printer.toolhead.extruder].can_extrude %}
	{% set do_resume = False %}
	{% set prompt_txt = [] %}
	
	
	{% if printer.idle_timeout.state | upper == "IDLE" or idle_state %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	{% if last_extruder_temp.restore %}
	
	RESPOND TYPE=echo MSG='{"Restoring \"%s\" temperature to %3.1f\u00B0C, this may take some time" % (printer.toolhead.extruder, last_extruder_temp.temp) }'
	M109 S{last_extruder_temp.temp}
	{% set do_resume = True %}
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	
	{% elif can_extrude %}
	{% set do_resume = True %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder}'
	{% set _d = prompt_txt.append("\"%s\" not hot enough, please heat up again and press RESUME" % printer.toolhead.extruder) %}
	{% endif %}
	{% if runout_resume %}
	{% if do_resume %}
	{% if restore_idle_timeout > 0 %} SET_IDLE_TIMEOUT TIMEOUT={restore_idle_timeout} {% endif %}
	{client.user_resume_macro | default("")}
	_CLIENT_EXTRUDE
	RESUME_BASE VELOCITY={params.VELOCITY | default(sp_move)}
	{% endif %}
	{% else %}
	RESPOND TYPE=error MSG='{"Resume aborted !!! \"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]}'
	{% set _d = prompt_txt.append("\"%s\" detects no filament, please load filament and press RESUME" % (client.runout_sensor.split(" "))[1]) %}
	{% endif %}
	
	{% if not (runout_resume and do_resume) %}
	RESPOND TYPE=command MSG="action:prompt_begin RESUME aborted !!!"
	{% for element in prompt_txt %}
	RESPOND TYPE=command MSG='{"action:prompt_text %s" % element}'
	{% endfor %}
	RESPOND TYPE=command MSG="action:prompt_footer_button Ok|RESPOND TYPE=command MSG=action:prompt_end|info"
	RESPOND TYPE=command MSG="action:prompt_show"
	{% endif %}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro print_start]
description = Inserted by slicer at start of print.
	Usage: PRINT_START
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(64)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(199)|float %}
	G92 E0
	M190 S{BED_TEMP}
	G28
	M104 S{EXTRUDER_TEMP}
	BED_MESH_CALIBRATE AREA_START={params.AREA_START|default("0,0")} AREA_END={params.AREA_END|default("0,0")}
	G1 Z2.0 F3000
	M109 S{EXTRUDER_TEMP}
	G1 X1 Y20 Z0.3 F5000.0
	G1 X1.1 Y200.0 Z0.3 F1500.0 E15
	G1 X1.4 Y200.0 Z0.3 F5000.0
	G1 X1.4 Y20 Z0.3 F1500.0 E30
	G92 E0
	G1 Z2.0 F3000
	G1 X5 Y20 Z0.3 F5000.0

[gcode_macro print_end]
description = Inserted by slicer at end of print.
	Usage: PRINT_END
gcode = 
	TURN_OFF_HEATERS
	
	G91
	
	G1 Z10 E-2 F2400
	
	G90
	PARKREAR
	
	M84

[gcode_macro PARKREAR]
gcode = 
	{% if "xyz" not in printer.toolhead.homed_axes %}
	G28
	{% endif %}
	SAVE_GCODE_STATE NAME=PARKREAR
	G90
	G0 X{printer.toolhead.axis_minimum.x+10} Y{printer.toolhead.axis_maximum.y-10} Z{50} F6000
	RESTORE_GCODE_STATE NAME=PARKREAR

[gcode_macro stepperoff]
gcode = 
	m18

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 1
variable_min_probe_count = 4
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "bicubic" %}
	{% if "algorithm" in bedMeshConfig %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	{% if meshPointX >=7 or meshPointY >=7 %}
	{% set algorithm = "bicubic" %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[exclude_object]

[stepper_x]
step_pin = PC2
dir_pin = PB9
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA5
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_y]
step_pin = PB8
dir_pin = PB7
enable_pin = !PC3
microsteps = 16
rotation_distance = 40
endstop_pin = ^PA6
position_endstop = 0
position_max = 235
homing_speed = 80

[stepper_z]
step_pin = PB6
dir_pin = !PB5
enable_pin = !PC3
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_min = -3
position_max = 250
homing_speed = 4
second_homing_speed = 1
homing_retract_dist = 2.0

[extruder]
max_extrude_only_distance = 150.0
step_pin = PB4
dir_pin = PB3
enable_pin = !PC3
microsteps = 16
rotation_distance = 31.62
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = Generic 3950
sensor_pin = PC5
min_temp = 0
max_temp = 250
control = pid
pid_kp = 26.586
pid_ki = 1.568
pid_kd = 112.657

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC4
min_temp = 0
max_temp = 130
control = pid
pid_kp = 72.992
pid_ki = 1.326
pid_kd = 1004.555

[fan]
pin = PA0

[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 5000
max_z_velocity = 5
square_corner_velocity = 5.0
max_z_accel = 100

[bltouch]
sensor_pin = ^PB1
control_pin = PB0
x_offset = -45.0
y_offset = -10.0
speed = 20
samples = 1
sample_retract_dist = 8.0
z_offset = 1.570

[safe_z_home]
home_xy_position = 160,120
speed = 150
z_hop = 10
z_hop_speed = 10

[bed_mesh]
speed = 120
mesh_min = 30,30
mesh_max = 189,189
probe_count = 5,5
fade_start = 1
fade_end = 10
fade_target = 0
algorithm = bicubic

[bed_screws]
screw1 = 30,25
screw1_name = 1
screw2 = 200,25
screw2_name = 2
screw3 = 200,195
screw3_name = 3
screw4 = 30,195
screw4_name = 4

[screws_tilt_adjust]
screw1 = 67, 42
screw1_name = front left screw
screw2 = 238, 42
screw2_name = front right screw
screw3 = 238, 212
screw3_name = rear right screw
screw4 = 67.60, 212
screw4_name = rear left screw
horizontal_move_z = 10
speed = 200
screw_thread = CW-M4

[firmware_retraction]
retract_length = 3
retract_speed = 30

[output_pin beeper]
pin = PB13

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100, 100, 10
	30, 30, 10
	200, 200, 10

[input_shaper]
shaper_type_x = mzv
shaper_freq_x = 64.8
shaper_type_y = ei
shaper_freq_y = 47.6

[bed_mesh default]
version = 1
points = 
	-0.125000, -0.117500, -0.125000, -0.112500, -0.112500, -0.115000, -0.072500, -0.072500
	-0.052500, -0.067500, -0.070000, -0.062500, -0.085000, -0.090000, -0.060000, -0.075000
	-0.020000, -0.030000, -0.032500, -0.027500, -0.037500, -0.045000, -0.020000, -0.002500
	-0.027500, -0.027500, -0.032500, -0.022500, -0.047500, -0.045000, -0.025000, -0.022500
	-0.022500, -0.020000, -0.037500, -0.025000, -0.045000, -0.065000, -0.030000, -0.027500
	-0.037500, -0.022500, -0.027500, -0.022500, -0.015000, -0.057500, -0.012500, -0.005000
	-0.050000, -0.037500, -0.042500, -0.030000, -0.042500, -0.060000, -0.035000, -0.035000
	-0.090000, -0.090000, -0.080000, -0.082500, -0.075000, -0.070000, -0.035000, -0.010000
x_count = 8
y_count = 8
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 20.0
max_x = 199.97
min_y = 20.0
max_y = 199.97
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 548451991024: New connection
webhooks client 548451991024: Client info {'program': 'Moonraker', 'version': 'v0.8.0-286-gf44fc4b'}
Loaded MCU 'mcu' 112 commands (v0.12.0-54-g6f686dde / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.34-4+rpi1+14) 2.34)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 MCU=stm32f103xe PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PA10,PA9 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'rpi': Starting connect
mcu 'rpi': got {'count': 136, 'sum': 119791, 'sumsq': 600164, '#name': 'stats', '#sent_time': 7438.293773307, '#receive_time': 7438.293920529}
Loaded MCU 'rpi' 112 commands (v0.12.0-100-g600e89ae / gcc: (Debian 10.2.1-6) 10.2.1 20210110 binutils: (GNU Binutils for Debian) 2.35.2)
MCU 'rpi' config: ADC_MAX=4095 CLOCK_FREQ=50000000 MCU=linux PCA9685_MAX=4096 PWM_MAX=32768 STATS_SUMSQ_BASE=256
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Sending MCU 'rpi' printer configuration...
Configured MCU 'rpi' (1024 moves)
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (75.0, 40.0)    | (30.0, 30.0)
  1   | (114.8, 40.0)   | (69.8, 30.0)
  2   | (154.5, 40.0)   | (109.5, 30.0)
  3   | (194.2, 40.0)   | (149.2, 30.0)
  4   | (234.0, 40.0)   | (189.0, 30.0)
  5   | (234.0, 79.8)   | (189.0, 69.8)
  6   | (194.2, 79.8)   | (149.2, 69.8)
  7   | (154.5, 79.8)   | (109.5, 69.8)
  8   | (114.8, 79.8)   | (69.8, 69.8)
  9   | (75.0, 79.8)    | (30.0, 69.8)
  10  | (75.0, 119.5)   | (30.0, 109.5)
  11  | (114.8, 119.5)  | (69.8, 109.5)
  12  | (154.5, 119.5)  | (109.5, 109.5)
  13  | (194.2, 119.5)  | (149.2, 109.5)
  14  | (234.0, 119.5)  | (189.0, 109.5)
  15  | (234.0, 159.2)  | (189.0, 149.2)
  16  | (194.2, 159.2)  | (149.2, 149.2)
  17  | (154.5, 159.2)  | (109.5, 149.2)
  18  | (114.8, 159.2)  | (69.8, 149.2)
  19  | (75.0, 159.2)   | (30.0, 149.2)
  20  | (75.0, 199.0)   | (30.0, 189.0)
  21  | (114.8, 199.0)  | (69.8, 189.0)
  22  | (154.5, 199.0)  | (109.5, 189.0)
  23  | (194.2, 199.0)  | (149.2, 189.0)
  24  | (234.0, 199.0)  | (189.0, 189.0)
Starting heater checks for extruder
webhooks: registering remote method 'shutdown_machine' for connection id: 548451991024
webhooks: registering remote method 'reboot_machine' for connection id: 548451991024
webhooks: registering remote method 'pause_job_queue' for connection id: 548451991024
webhooks: registering remote method 'start_job_queue' for connection id: 548451991024
Must home axis first: 100.000 100.000 10.000 [0.000]
Stats 7459.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000007 bytes_write=1487 bytes_read=6712 bytes_retransmit=0 bytes_invalid=0 send_seq=149 receive_seq=149 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998565 rpi: mcu_awake=0.000 mcu_task_avg=0.000006 mcu_task_stddev=0.000010 bytes_write=961 bytes_read=6501 bytes_retransmit=0 bytes_invalid=0 send_seq=134 receive_seq=134 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49974926 adj=49976004  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.48 cputime=4.549 memavail=3308968 print_time=178.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Stats 7460.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000007 bytes_write=1493 bytes_read=6828 bytes_retransmit=0 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998557 rpi: mcu_awake=0.000 mcu_task_avg=0.000006 mcu_task_stddev=0.000010 bytes_write=967 bytes_read=6517 bytes_retransmit=0 bytes_invalid=0 send_seq=135 receive_seq=135 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49974930 adj=49975934  heater_bed: target=0 temp=20.7 pwm=0.000 sysload=0.48 cputime=4.559 memavail=3301408 print_time=178.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Stats 7461.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000007 bytes_write=1692 bytes_read=7038 bytes_retransmit=0 bytes_invalid=0 send_seq=163 receive_seq=163 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998564 rpi: mcu_awake=0.000 mcu_task_avg=0.000006 mcu_task_stddev=0.000010 bytes_write=973 bytes_read=6533 bytes_retransmit=0 bytes_invalid=0 send_seq=136 receive_seq=136 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49974955 adj=49975996  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.48 cputime=4.576 memavail=3274444 print_time=179.389 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Stats 7462.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000007 bytes_write=2186 bytes_read=7520 bytes_retransmit=0 bytes_invalid=0 send_seq=198 receive_seq=198 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=0 freq=71998556 rpi: mcu_awake=0.000 mcu_task_avg=0.000006 mcu_task_stddev=0.000010 bytes_write=979 bytes_read=6549 bytes_retransmit=0 bytes_invalid=0 send_seq=137 receive_seq=137 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49974955 adj=49976116  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.48 cputime=4.607 memavail=3262856 print_time=180.585 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.2 pwm=0.000
Stats 7463.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000015 mcu_task_stddev=0.000011 bytes_write=2669 bytes_read=7870 bytes_retransmit=0 bytes_invalid=0 send_seq=222 receive_seq=222 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998554 rpi: mcu_awake=0.000 mcu_task_avg=0.000006 mcu_task_stddev=0.000010 bytes_write=985 bytes_read=6565 bytes_retransmit=0 bytes_invalid=0 send_seq=138 receive_seq=138 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49974971 adj=49976105  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.52 cputime=4.636 memavail=3250012 print_time=181.400 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Stats 7464.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000015 mcu_task_stddev=0.000011 bytes_write=3079 bytes_read=8334 bytes_retransmit=0 bytes_invalid=0 send_seq=257 receive_seq=257 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998539 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000013 bytes_write=991 bytes_read=6594 bytes_retransmit=0 bytes_invalid=0 send_seq=139 receive_seq=139 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49974965 adj=49976188  heater_bed: target=0 temp=20.7 pwm=0.000 sysload=0.52 cputime=4.656 memavail=3248244 print_time=182.400 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Stats 7465.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000015 mcu_task_stddev=0.000011 bytes_write=4044 bytes_read=8754 bytes_retransmit=0 bytes_invalid=0 send_seq=289 receive_seq=289 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=26 freq=71998538 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000013 bytes_write=997 bytes_read=6610 bytes_retransmit=0 bytes_invalid=0 send_seq=140 receive_seq=140 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49974964 adj=49976165  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.52 cputime=4.682 memavail=3314284 print_time=184.703 buffer_time=1.484 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Stats 7466.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000015 mcu_task_stddev=0.000011 bytes_write=4050 bytes_read=8875 bytes_retransmit=0 bytes_invalid=0 send_seq=290 receive_seq=290 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=26 freq=71998531 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000013 bytes_write=1003 bytes_read=6626 bytes_retransmit=0 bytes_invalid=0 send_seq=141 receive_seq=141 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49974968 adj=49976058  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.52 cputime=4.690 memavail=3314316 print_time=184.703 buffer_time=0.483 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Stats 7467.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000015 mcu_task_stddev=0.000011 bytes_write=4064 bytes_read=8981 bytes_retransmit=0 bytes_invalid=0 send_seq=291 receive_seq=291 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=18 freq=71998530 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000013 bytes_write=1009 bytes_read=6642 bytes_retransmit=0 bytes_invalid=0 send_seq=142 receive_seq=142 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49974970 adj=49976116  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.52 cputime=4.699 memavail=3306276 print_time=184.703 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Stats 7468.5: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000017 mcu_task_stddev=0.000012 bytes_write=4206 bytes_read=9228 bytes_retransmit=0 bytes_invalid=0 send_seq=300 receive_seq=300 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998536 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000013 bytes_write=1015 bytes_read=6658 bytes_retransmit=0 bytes_invalid=0 send_seq=143 receive_seq=143 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49974971 adj=49976120  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.48 cputime=4.712 memavail=3305296 print_time=186.453 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Stats 7469.5: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000017 mcu_task_stddev=0.000012 bytes_write=4609 bytes_read=9648 bytes_retransmit=0 bytes_invalid=0 send_seq=330 receive_seq=330 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998532 rpi: mcu_awake=0.000 mcu_task_avg=0.000005 mcu_task_stddev=0.000009 bytes_write=1021 bytes_read=6687 bytes_retransmit=0 bytes_invalid=0 send_seq=144 receive_seq=144 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49974876 adj=49976053  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.48 cputime=4.731 memavail=3309752 print_time=187.403 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7470.186: freq=49974876 diff=-1021030 stddev=25680.077
Stats 7470.5: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000017 mcu_task_stddev=0.000012 bytes_write=5011 bytes_read=10101 bytes_retransmit=0 bytes_invalid=0 send_seq=364 receive_seq=364 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998521 rpi: mcu_awake=0.000 mcu_task_avg=0.000005 mcu_task_stddev=0.000009 bytes_write=1027 bytes_read=6703 bytes_retransmit=0 bytes_invalid=0 send_seq=145 receive_seq=145 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49970151 adj=49975344  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.48 cputime=4.751 memavail=3316816 print_time=188.403 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7471.175: freq=49970151 diff=-1775343 stddev=50000.000
Stats 7471.5: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000017 mcu_task_stddev=0.000012 bytes_write=5402 bytes_read=10478 bytes_retransmit=0 bytes_invalid=0 send_seq=385 receive_seq=385 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=8 freq=71998516 rpi: mcu_awake=0.000 mcu_task_avg=0.000005 mcu_task_stddev=0.000009 bytes_write=1033 bytes_read=6719 bytes_retransmit=0 bytes_invalid=0 send_seq=146 receive_seq=146 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49962284 adj=49939097  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.48 cputime=4.776 memavail=3316816 print_time=190.637 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7472.163: freq=49962284 diff=-2322728 stddev=50000.000
Stats 7472.5: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000017 mcu_task_stddev=0.000012 bytes_write=5424 bytes_read=10599 bytes_retransmit=0 bytes_invalid=0 send_seq=386 receive_seq=386 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=0 freq=71998548 rpi: mcu_awake=0.000 mcu_task_avg=0.000005 mcu_task_stddev=0.000009 bytes_write=1039 bytes_read=6735 bytes_retransmit=0 bytes_invalid=0 send_seq=147 receive_seq=147 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49952409 adj=49892649  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.48 cputime=4.793 memavail=3316304 print_time=190.637 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7473.148: freq=49952409 diff=-2707745 stddev=50000.000
Stats 7473.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000015 mcu_task_stddev=0.000009 bytes_write=5726 bytes_read=10946 bytes_retransmit=0 bytes_invalid=0 send_seq=410 receive_seq=410 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998561 rpi: mcu_awake=0.000 mcu_task_avg=0.000005 mcu_task_stddev=0.000009 bytes_write=1045 bytes_read=6751 bytes_retransmit=0 bytes_invalid=0 send_seq=148 receive_seq=148 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49941350 adj=49812544  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.44 cputime=4.825 memavail=3316304 print_time=191.387 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7474.132: freq=49941350 diff=-2959850 stddev=50000.000
Stats 7474.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000015 mcu_task_stddev=0.000009 bytes_write=6140 bytes_read=11433 bytes_retransmit=0 bytes_invalid=0 send_seq=445 receive_seq=445 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998553 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000014 bytes_write=1051 bytes_read=6780 bytes_retransmit=0 bytes_invalid=0 send_seq=149 receive_seq=149 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49929717 adj=49748322  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.44 cputime=4.862 memavail=3316056 print_time=192.387 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7475.117: freq=49929717 diff=-3104762 stddev=50000.000
Stats 7475.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000015 mcu_task_stddev=0.000009 bytes_write=6415 bytes_read=11781 bytes_retransmit=0 bytes_invalid=0 send_seq=466 receive_seq=466 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998560 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000014 bytes_write=1057 bytes_read=6796 bytes_retransmit=0 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49917959 adj=49699831  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.44 cputime=4.894 memavail=3304464 print_time=192.866 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7476.103: freq=49917959 diff=-3164705 stddev=50000.000
Stats 7476.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000015 mcu_task_stddev=0.000009 bytes_write=6585 bytes_read=11998 bytes_retransmit=0 bytes_invalid=0 send_seq=475 receive_seq=475 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998557 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000014 bytes_write=1063 bytes_read=6812 bytes_retransmit=0 bytes_invalid=0 send_seq=151 receive_seq=151 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49906393 adj=49648791  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.44 cputime=4.911 memavail=3275988 print_time=195.500 buffer_time=1.274 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7477.088: freq=49906393 diff=-3154045 stddev=50000.000
Stats 7477.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000015 mcu_task_stddev=0.000009 bytes_write=6591 bytes_read=12119 bytes_retransmit=0 bytes_invalid=0 send_seq=476 receive_seq=476 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998552 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000014 bytes_write=1069 bytes_read=6828 bytes_retransmit=0 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49895255 adj=49699273  heater_bed: target=0 temp=20.4 pwm=0.000 sysload=0.44 cputime=4.922 memavail=3264648 print_time=195.500 buffer_time=0.274 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7478.073: freq=49895255 diff=-3089935 stddev=50000.000
Stats 7478.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000014 mcu_task_stddev=0.000008 bytes_write=6658 bytes_read=12259 bytes_retransmit=0 bytes_invalid=0 send_seq=478 receive_seq=478 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998566 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000014 bytes_write=1075 bytes_read=6844 bytes_retransmit=0 bytes_invalid=0 send_seq=153 receive_seq=153 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49884699 adj=49601062  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.49 cputime=4.935 memavail=3255444 print_time=195.500 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7479.058: freq=49884699 diff=-2985514 stddev=50000.000
Stats 7479.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000014 mcu_task_stddev=0.000008 bytes_write=6664 bytes_read=12365 bytes_retransmit=0 bytes_invalid=0 send_seq=479 receive_seq=479 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998557 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000014 bytes_write=1081 bytes_read=6873 bytes_retransmit=0 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49874821 adj=49560718  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.49 cputime=4.943 memavail=3255580 print_time=195.500 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7480.042: freq=49874821 diff=-2846995 stddev=50000.000
Stats 7480.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000014 mcu_task_stddev=0.000008 bytes_write=6670 bytes_read=12486 bytes_retransmit=0 bytes_invalid=0 send_seq=480 receive_seq=480 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998569 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000014 bytes_write=1087 bytes_read=6889 bytes_retransmit=0 bytes_invalid=0 send_seq=155 receive_seq=155 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49865686 adj=49552776  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.49 cputime=4.952 memavail=3316924 print_time=195.500 buffer_time=0.000 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Probing point (100.000, 100.000, 10.000)
Resetting prediction variance 7481.026: freq=49865686 diff=-2683845 stddev=50000.000
Stats 7481.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000014 mcu_task_stddev=0.000008 bytes_write=6852 bytes_read=12622 bytes_retransmit=0 bytes_invalid=0 send_seq=484 receive_seq=484 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998564 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000014 bytes_write=1093 bytes_read=6905 bytes_retransmit=0 bytes_invalid=0 send_seq=156 receive_seq=156 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49857329 adj=49549671  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.49 cputime=4.965 memavail=3316692 print_time=200.122 buffer_time=0.892 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7482.011: freq=49857329 diff=-2505919 stddev=50000.000
ADXL345 starting 'adxl345' measurements
toolhead: max_velocity: 300.000000
max_accel: 10000.000000
max_accel_to_decel: 10000.000000
square_corner_velocity: 5.000000
Disabled [input_shaper] for resonance testing
Testing frequency 5 Hz
Testing frequency 6 Hz
Testing frequency 7 Hz
Testing frequency 8 Hz
Testing frequency 9 Hz
Stats 7482.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000014 mcu_task_stddev=0.000008 bytes_write=7143 bytes_read=12738 bytes_retransmit=0 bytes_invalid=0 send_seq=490 receive_seq=487 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=431 upcoming_bytes=5351 freq=71998554 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000014 bytes_write=1246 bytes_read=7378 bytes_retransmit=0 bytes_invalid=0 send_seq=172 receive_seq=172 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49849746 adj=49619956  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.49 cputime=4.999 memavail=3316692 print_time=205.000 buffer_time=4.766 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7482.996: freq=49849746 diff=-2315219 stddev=50000.000
Stats 7483.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=13436 bytes_read=13394 bytes_retransmit=0 bytes_invalid=0 send_seq=592 receive_seq=592 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998552 rpi: mcu_awake=0.000 mcu_task_avg=0.000007 mcu_task_stddev=0.000014 bytes_write=1322 bytes_read=27391 bytes_retransmit=0 bytes_invalid=0 send_seq=183 receive_seq=183 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49842932 adj=49843769  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.45 cputime=5.098 memavail=3316696 print_time=205.000 buffer_time=3.766 print_stall=0 extruder: target=0 temp=21.2 pwm=0.000
Resetting prediction variance 7483.981: freq=49842932 diff=-2114714 stddev=50000.000
Stats 7484.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=13442 bytes_read=13515 bytes_retransmit=0 bytes_invalid=0 send_seq=593 receive_seq=593 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998546 rpi: mcu_awake=0.141 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=1391 bytes_read=47490 bytes_retransmit=0 bytes_invalid=0 send_seq=193 receive_seq=193 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49836874 adj=49815162  heater_bed: target=0 temp=20.7 pwm=0.000 sysload=0.45 cputime=5.199 memavail=3316696 print_time=205.000 buffer_time=2.765 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7484.965: freq=49836874 diff=-1912004 stddev=50000.000
Stats 7485.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=14251 bytes_read=13686 bytes_retransmit=0 bytes_invalid=0 send_seq=607 receive_seq=607 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=50 upcoming_bytes=0 freq=71998541 rpi: mcu_awake=0.141 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=1467 bytes_read=67536 bytes_retransmit=0 bytes_invalid=0 send_seq=204 receive_seq=204 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49831537 adj=49789980  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.45 cputime=5.314 memavail=3316696 print_time=205.461 buffer_time=2.225 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 10 Hz
Resetting prediction variance 7485.949: freq=49831537 diff=-1709232 stddev=50000.000
Stats 7486.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=16422 bytes_read=13977 bytes_retransmit=0 bytes_invalid=0 send_seq=642 receive_seq=642 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=0 freq=71998544 rpi: mcu_awake=0.141 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=1543 bytes_read=87642 bytes_retransmit=0 bytes_invalid=0 send_seq=215 receive_seq=215 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49826885 adj=49767129  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.45 cputime=5.481 memavail=3316192 print_time=206.537 buffer_time=2.300 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 11 Hz
Resetting prediction variance 7486.934: freq=49826885 diff=-1510278 stddev=50000.000
Stats 7487.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=18512 bytes_read=14263 bytes_retransmit=0 bytes_invalid=0 send_seq=676 receive_seq=676 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998544 rpi: mcu_awake=0.141 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=1619 bytes_read=107748 bytes_retransmit=0 bytes_invalid=0 send_seq=226 receive_seq=226 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49822873 adj=49745339  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.45 cputime=5.653 memavail=3315688 print_time=207.534 buffer_time=2.297 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 12 Hz
Resetting prediction variance 7487.919: freq=49822873 diff=-1311749 stddev=50000.000
Stats 7488.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=20831 bytes_read=14569 bytes_retransmit=0 bytes_invalid=0 send_seq=714 receive_seq=714 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=0 freq=71998539 rpi: mcu_awake=0.141 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=1695 bytes_read=127847 bytes_retransmit=0 bytes_invalid=0 send_seq=237 receive_seq=237 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49819470 adj=49724774  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.41 cputime=5.823 memavail=3315184 print_time=208.571 buffer_time=2.334 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 13 Hz
Resetting prediction variance 7488.904: freq=49819470 diff=-1119369 stddev=50000.000
Stats 7489.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=23018 bytes_read=14860 bytes_retransmit=0 bytes_invalid=0 send_seq=749 receive_seq=749 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=0 freq=71998541 rpi: mcu_awake=0.758 mcu_task_avg=0.000046 mcu_task_stddev=0.000019 bytes_write=1771 bytes_read=147960 bytes_retransmit=0 bytes_invalid=0 send_seq=248 receive_seq=248 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49816631 adj=49705389  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.41 cputime=5.968 memavail=3312428 print_time=209.548 buffer_time=2.309 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 14 Hz
Resetting prediction variance 7489.888: freq=49816631 diff=-935262 stddev=50000.000
Stats 7490.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=25458 bytes_read=15171 bytes_retransmit=0 bytes_invalid=0 send_seq=788 receive_seq=788 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=0 freq=71998540 rpi: mcu_awake=0.758 mcu_task_avg=0.000046 mcu_task_stddev=0.000019 bytes_write=1847 bytes_read=167995 bytes_retransmit=0 bytes_invalid=0 send_seq=259 receive_seq=259 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49814311 adj=49687250  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.41 cputime=6.090 memavail=3297308 print_time=210.596 buffer_time=2.357 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7490.872: freq=49814311 diff=-752787 stddev=50000.000
Testing frequency 15 Hz
Stats 7491.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=27791 bytes_read=15462 bytes_retransmit=0 bytes_invalid=0 send_seq=826 receive_seq=826 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=33 upcoming_bytes=0 freq=71998542 rpi: mcu_awake=0.758 mcu_task_avg=0.000046 mcu_task_stddev=0.000019 bytes_write=1923 bytes_read=188090 bytes_retransmit=0 bytes_invalid=0 send_seq=270 receive_seq=270 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49812484 adj=49670173  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.41 cputime=6.229 memavail=3270596 print_time=211.574 buffer_time=2.334 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 16 Hz
Resetting prediction variance 7491.861: freq=49812484 diff=-556581 stddev=50000.000
Stats 7492.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=30360 bytes_read=15788 bytes_retransmit=0 bytes_invalid=0 send_seq=868 receive_seq=868 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=0 freq=71998551 rpi: mcu_awake=0.758 mcu_task_avg=0.000046 mcu_task_stddev=0.000019 bytes_write=1999 bytes_read=208185 bytes_retransmit=0 bytes_invalid=0 send_seq=281 receive_seq=281 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49811161 adj=49667878  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.41 cputime=6.369 memavail=3257500 print_time=212.615 buffer_time=2.374 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7492.845: freq=49811161 diff=-419163 stddev=50000.000
Testing frequency 17 Hz
Stats 7493.5: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=33101 bytes_read=16144 bytes_retransmit=0 bytes_invalid=0 send_seq=913 receive_seq=913 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=0 freq=71998676 rpi: mcu_awake=0.758 mcu_task_avg=0.000046 mcu_task_stddev=0.000019 bytes_write=2075 bytes_read=228283 bytes_retransmit=0 bytes_invalid=0 send_seq=292 receive_seq=292 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810184 adj=49685316  heater_bed: target=0 temp=20.4 pwm=0.000 sysload=0.46 cputime=6.512 memavail=3254236 print_time=213.622 buffer_time=2.381 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7493.832: freq=49810184 diff=-262593 stddev=50000.000
Testing frequency 18 Hz
Stats 7494.5: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=35693 bytes_read=16465 bytes_retransmit=0 bytes_invalid=0 send_seq=957 receive_seq=957 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=0 freq=71998662 rpi: mcu_awake=0.561 mcu_task_avg=0.000034 mcu_task_stddev=0.000014 bytes_write=2151 bytes_read=248407 bytes_retransmit=0 bytes_invalid=0 send_seq=303 receive_seq=303 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49809584 adj=49698657  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.46 cputime=6.618 memavail=3250560 print_time=214.629 buffer_time=2.388 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 19 Hz
Stats 7495.5: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=38735 bytes_read=16836 bytes_retransmit=0 bytes_invalid=0 send_seq=1008 receive_seq=1008 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=0 freq=71998649 rpi: mcu_awake=0.561 mcu_task_avg=0.000034 mcu_task_stddev=0.000014 bytes_write=2227 bytes_read=268453 bytes_retransmit=0 bytes_invalid=0 send_seq=314 receive_seq=314 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49809321 adj=49713172  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.46 cputime=6.725 memavail=3310656 print_time=215.622 buffer_time=2.380 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 20 Hz
Stats 7496.5: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=41539 bytes_read=17192 bytes_retransmit=0 bytes_invalid=0 send_seq=1056 receive_seq=1056 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=32 upcoming_bytes=0 freq=71998634 rpi: mcu_awake=0.561 mcu_task_avg=0.000034 mcu_task_stddev=0.000014 bytes_write=2296 bytes_read=288536 bytes_retransmit=0 bytes_invalid=0 send_seq=324 receive_seq=324 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49809371 adj=49727055  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.46 cputime=6.823 memavail=3310152 print_time=216.640 buffer_time=2.398 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 21 Hz
Stats 7497.5: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=44502 bytes_read=17533 bytes_retransmit=0 bytes_invalid=0 send_seq=1104 receive_seq=1104 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=0 freq=71998624 rpi: mcu_awake=0.561 mcu_task_avg=0.000034 mcu_task_stddev=0.000014 bytes_write=2372 bytes_read=308642 bytes_retransmit=0 bytes_invalid=0 send_seq=335 receive_seq=335 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49809704 adj=49742283  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.46 cputime=6.925 memavail=3309396 print_time=217.622 buffer_time=2.379 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 22 Hz
Stats 7498.5: gcodein=0  mcu: mcu_awake=0.014 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=47414 bytes_read=17914 bytes_retransmit=0 bytes_invalid=0 send_seq=1154 receive_seq=1154 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=0 freq=71998614 rpi: mcu_awake=0.561 mcu_task_avg=0.000034 mcu_task_stddev=0.000014 bytes_write=2448 bytes_read=328748 bytes_retransmit=0 bytes_invalid=0 send_seq=346 receive_seq=346 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810294 adj=49755807  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.42 cputime=7.030 memavail=3308892 print_time=218.649 buffer_time=2.406 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 23 Hz
Stats 7499.5: gcodein=0  mcu: mcu_awake=0.014 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=50420 bytes_read=18280 bytes_retransmit=0 bytes_invalid=0 send_seq=1204 receive_seq=1204 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=0 freq=71998603 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=2524 bytes_read=348811 bytes_retransmit=0 bytes_invalid=0 send_seq=357 receive_seq=357 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810294 adj=49770726  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.42 cputime=7.158 memavail=3308892 print_time=219.632 buffer_time=2.389 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 24 Hz
Stats 7500.5: gcodein=0  mcu: mcu_awake=0.014 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=53873 bytes_read=18661 bytes_retransmit=0 bytes_invalid=0 send_seq=1260 receive_seq=1260 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=50 upcoming_bytes=0 freq=71998600 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=2600 bytes_read=368917 bytes_retransmit=0 bytes_invalid=0 send_seq=368 receive_seq=368 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810294 adj=49777158  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.42 cputime=7.335 memavail=3308644 print_time=220.647 buffer_time=2.403 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 25 Hz
Stats 7501.5: gcodein=0  mcu: mcu_awake=0.014 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=56994 bytes_read=19042 bytes_retransmit=0 bytes_invalid=0 send_seq=1313 receive_seq=1313 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=18 upcoming_bytes=0 freq=71998596 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=2676 bytes_read=389023 bytes_retransmit=0 bytes_invalid=0 send_seq=379 receive_seq=379 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810294 adj=49783139  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.42 cputime=7.516 memavail=3307132 print_time=221.641 buffer_time=2.396 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 26 Hz
Stats 7502.5: gcodein=0  mcu: mcu_awake=0.014 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=60034 bytes_read=19423 bytes_retransmit=0 bytes_invalid=0 send_seq=1366 receive_seq=1366 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=48 upcoming_bytes=0 freq=71998590 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=2752 bytes_read=409129 bytes_retransmit=0 bytes_invalid=0 send_seq=390 receive_seq=390 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810294 adj=49787750  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.42 cputime=7.697 memavail=3306376 print_time=222.654 buffer_time=2.409 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 27 Hz
Stats 7503.5: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000025 mcu_task_stddev=0.000023 bytes_write=63516 bytes_read=19814 bytes_retransmit=0 bytes_invalid=0 send_seq=1421 receive_seq=1421 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=50 upcoming_bytes=0 freq=71998585 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=2828 bytes_read=429235 bytes_retransmit=0 bytes_invalid=0 send_seq=401 receive_seq=401 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810294 adj=49791866  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.39 cputime=7.872 memavail=3306376 print_time=223.666 buffer_time=2.420 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 28 Hz
Stats 7504.5: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000025 mcu_task_stddev=0.000023 bytes_write=67056 bytes_read=20210 bytes_retransmit=0 bytes_invalid=0 send_seq=1478 receive_seq=1477 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998582 rpi: mcu_awake=0.837 mcu_task_avg=0.000050 mcu_task_stddev=0.000018 bytes_write=2904 bytes_read=449299 bytes_retransmit=0 bytes_invalid=0 send_seq=412 receive_seq=412 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810294 adj=49795235  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.39 cputime=8.053 memavail=3306128 print_time=224.660 buffer_time=2.414 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 29 Hz
Stats 7505.5: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000025 mcu_task_stddev=0.000023 bytes_write=70062 bytes_read=20586 bytes_retransmit=0 bytes_invalid=0 send_seq=1529 receive_seq=1529 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=18 upcoming_bytes=0 freq=71998575 rpi: mcu_awake=0.837 mcu_task_avg=0.000050 mcu_task_stddev=0.000018 bytes_write=2980 bytes_read=469405 bytes_retransmit=0 bytes_invalid=0 send_seq=423 receive_seq=423 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810294 adj=49797853  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.39 cputime=8.206 memavail=3281936 print_time=225.663 buffer_time=2.416 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 30 Hz
Stats 7506.5: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000025 mcu_task_stddev=0.000023 bytes_write=73036 bytes_read=20942 bytes_retransmit=0 bytes_invalid=0 send_seq=1580 receive_seq=1580 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=27 upcoming_bytes=0 freq=71998569 rpi: mcu_awake=0.837 mcu_task_avg=0.000050 mcu_task_stddev=0.000018 bytes_write=3056 bytes_read=489511 bytes_retransmit=0 bytes_invalid=0 send_seq=434 receive_seq=434 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810294 adj=49800138  heater_bed: target=0 temp=20.4 pwm=0.000 sysload=0.39 cputime=8.346 memavail=3263036 print_time=226.666 buffer_time=2.418 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 31 Hz
Stats 7507.5: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000025 mcu_task_stddev=0.000023 bytes_write=76530 bytes_read=21338 bytes_retransmit=0 bytes_invalid=0 send_seq=1639 receive_seq=1636 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=98 upcoming_bytes=0 freq=71998565 rpi: mcu_awake=0.837 mcu_task_avg=0.000050 mcu_task_stddev=0.000018 bytes_write=3132 bytes_read=509617 bytes_retransmit=0 bytes_invalid=0 send_seq=445 receive_seq=445 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810294 adj=49802027  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.39 cputime=8.488 memavail=3242928 print_time=227.660 buffer_time=2.411 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 32 Hz
Stats 7508.5: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=80651 bytes_read=21809 bytes_retransmit=0 bytes_invalid=0 send_seq=1706 receive_seq=1704 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=14 upcoming_bytes=0 freq=71998564 rpi: mcu_awake=0.837 mcu_task_avg=0.000050 mcu_task_stddev=0.000018 bytes_write=3208 bytes_read=529723 bytes_retransmit=0 bytes_invalid=0 send_seq=456 receive_seq=456 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810294 adj=49803557  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.44 cputime=8.621 memavail=3242680 print_time=228.678 buffer_time=2.428 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7508.604: freq=49810294 diff=1977612 stddev=76292.189
Testing frequency 33 Hz
Stats 7509.5: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=84334 bytes_read=22225 bytes_retransmit=0 bytes_invalid=0 send_seq=1768 receive_seq=1767 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=188 freq=71998558 rpi: mcu_awake=0.611 mcu_task_avg=0.000037 mcu_task_stddev=0.000017 bytes_write=3284 bytes_read=549847 bytes_retransmit=0 bytes_invalid=0 send_seq=467 receive_seq=467 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49815730 adj=49804914  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.44 cputime=8.733 memavail=3302216 print_time=229.665 buffer_time=2.414 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7509.589: freq=49815730 diff=1880648 stddev=50000.000
Testing frequency 34 Hz
Stats 7510.5: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=88173 bytes_read=22666 bytes_retransmit=0 bytes_invalid=0 send_seq=1832 receive_seq=1832 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=0 freq=71998551 rpi: mcu_awake=0.611 mcu_task_avg=0.000037 mcu_task_stddev=0.000017 bytes_write=3360 bytes_read=569953 bytes_retransmit=0 bytes_invalid=0 send_seq=478 receive_seq=478 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49820561 adj=49856451  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.44 cputime=8.842 memavail=3303580 print_time=230.681 buffer_time=2.430 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Resetting prediction variance 7510.574: freq=49820561 diff=1804266 stddev=50000.000
Testing frequency 35 Hz
Stats 7511.5: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=91503 bytes_read=23052 bytes_retransmit=0 bytes_invalid=0 send_seq=1889 receive_seq=1886 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=0 freq=71998546 rpi: mcu_awake=0.611 mcu_task_avg=0.000037 mcu_task_stddev=0.000017 bytes_write=3436 bytes_read=590059 bytes_retransmit=0 bytes_invalid=0 send_seq=489 receive_seq=489 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49824921 adj=49894743  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.44 cputime=8.948 memavail=3302824 print_time=231.683 buffer_time=2.431 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7511.558: freq=49824921 diff=1742930 stddev=50000.000
Testing frequency 36 Hz
Stats 7512.5: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=94865 bytes_read=23458 bytes_retransmit=0 bytes_invalid=0 send_seq=1947 receive_seq=1947 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=0 freq=71998539 rpi: mcu_awake=0.611 mcu_task_avg=0.000037 mcu_task_stddev=0.000017 bytes_write=3505 bytes_read=610082 bytes_retransmit=0 bytes_invalid=0 send_seq=499 receive_seq=499 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49828906 adj=49923887  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.44 cputime=9.097 memavail=3301592 print_time=232.678 buffer_time=2.426 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7512.543: freq=49828906 diff=1693439 stddev=50000.000
Testing frequency 37 Hz
Resetting prediction variance 7513.528: freq=49832587 diff=1652373 stddev=50000.000
Stats 7513.5: gcodein=0  mcu: mcu_awake=0.018 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=98374 bytes_read=23874 bytes_retransmit=0 bytes_invalid=0 send_seq=2007 receive_seq=2004 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=0 freq=71998537 rpi: mcu_awake=0.611 mcu_task_avg=0.000037 mcu_task_stddev=0.000017 bytes_write=3587 bytes_read=630204 bytes_retransmit=0 bytes_invalid=0 send_seq=511 receive_seq=511 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49836017 adj=49946213  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.48 cputime=9.208 memavail=3300864 print_time=233.673 buffer_time=2.421 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 38 Hz
Resetting prediction variance 7514.512: freq=49836017 diff=1618786 stddev=50000.000
Stats 7514.5: gcodein=0  mcu: mcu_awake=0.018 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=102073 bytes_read=24306 bytes_retransmit=0 bytes_invalid=0 send_seq=2068 receive_seq=2065 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=233 upcoming_bytes=0 freq=71998534 rpi: mcu_awake=0.498 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=3663 bytes_read=650327 bytes_retransmit=0 bytes_invalid=0 send_seq=522 receive_seq=522 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49839237 adj=49995978  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.48 cputime=9.318 memavail=3300868 print_time=234.681 buffer_time=2.428 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 39 Hz
Resetting prediction variance 7515.496: freq=49839237 diff=1592867 stddev=50000.000
Stats 7515.5: gcodein=0  mcu: mcu_awake=0.018 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=105857 bytes_read=24717 bytes_retransmit=0 bytes_invalid=0 send_seq=2130 receive_seq=2127 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=224 upcoming_bytes=528 freq=71998537 rpi: mcu_awake=0.498 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=3739 bytes_read=670433 bytes_retransmit=0 bytes_invalid=0 send_seq=533 receive_seq=533 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49842284 adj=50000243  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.48 cputime=9.479 memavail=3300616 print_time=235.683 buffer_time=2.429 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 40 Hz
Resetting prediction variance 7516.481: freq=49842284 diff=1569008 stddev=50000.000
Stats 7516.5: gcodein=0  mcu: mcu_awake=0.018 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=109694 bytes_read=25168 bytes_retransmit=0 bytes_invalid=0 send_seq=2194 receive_seq=2194 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=39 upcoming_bytes=1463 freq=71998539 rpi: mcu_awake=0.498 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=3815 bytes_read=690539 bytes_retransmit=0 bytes_invalid=0 send_seq=544 receive_seq=544 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49845179 adj=50003507  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.48 cputime=9.682 memavail=3300364 print_time=236.684 buffer_time=2.430 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 41 Hz
Resetting prediction variance 7517.465: freq=49845179 diff=1548431 stddev=50000.000
Stats 7517.5: gcodein=0  mcu: mcu_awake=0.018 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=113915 bytes_read=25644 bytes_retransmit=0 bytes_invalid=0 send_seq=2266 receive_seq=2266 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=31 upcoming_bytes=1957 freq=71998535 rpi: mcu_awake=0.498 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=3891 bytes_read=710585 bytes_retransmit=0 bytes_invalid=0 send_seq=555 receive_seq=555 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49847941 adj=50005501  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.48 cputime=9.894 memavail=3299608 print_time=237.679 buffer_time=2.425 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 42 Hz
Resetting prediction variance 7518.451: freq=49847941 diff=1531808 stddev=50000.000
Stats 7518.5: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000030 mcu_task_stddev=0.000024 bytes_write=118885 bytes_read=26180 bytes_retransmit=0 bytes_invalid=0 send_seq=2350 receive_seq=2350 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=1058 freq=71998535 rpi: mcu_awake=0.498 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=3967 bytes_read=730751 bytes_retransmit=0 bytes_invalid=0 send_seq=566 receive_seq=566 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49850590 adj=50007193  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.44 cputime=10.106 memavail=3298600 print_time=238.692 buffer_time=2.437 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 43 Hz
Resetting prediction variance 7519.436: freq=49850590 diff=1516029 stddev=50000.000
Stats 7519.5: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000030 mcu_task_stddev=0.000024 bytes_write=123626 bytes_read=26686 bytes_retransmit=0 bytes_invalid=0 send_seq=2431 receive_seq=2428 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=196 upcoming_bytes=251 freq=71998533 rpi: mcu_awake=0.785 mcu_task_avg=0.000047 mcu_task_stddev=0.000019 bytes_write=4043 bytes_read=750815 bytes_retransmit=0 bytes_invalid=0 send_seq=577 receive_seq=577 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49853137 adj=50006463  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.44 cputime=10.310 memavail=3297848 print_time=239.682 buffer_time=2.426 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 44 Hz
Resetting prediction variance 7520.419: freq=49853137 diff=1502706 stddev=50000.000
Stats 7520.5: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000030 mcu_task_stddev=0.000024 bytes_write=127790 bytes_read=27150 bytes_retransmit=0 bytes_invalid=0 send_seq=2502 receive_seq=2499 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=320 upcoming_bytes=137 freq=71998531 rpi: mcu_awake=0.785 mcu_task_avg=0.000047 mcu_task_stddev=0.000019 bytes_write=4119 bytes_read=771218 bytes_retransmit=0 bytes_invalid=0 send_seq=588 receive_seq=588 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49855594 adj=50007606  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.44 cputime=10.463 memavail=3264612 print_time=240.689 buffer_time=2.432 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 45 Hz
Resetting prediction variance 7521.404: freq=49855594 diff=1487461 stddev=50000.000
Stats 7521.5: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000030 mcu_task_stddev=0.000024 bytes_write=131901 bytes_read=27594 bytes_retransmit=0 bytes_invalid=0 send_seq=2572 receive_seq=2569 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=232 upcoming_bytes=370 freq=71998529 rpi: mcu_awake=0.785 mcu_task_avg=0.000047 mcu_task_stddev=0.000019 bytes_write=4195 bytes_read=791665 bytes_retransmit=0 bytes_invalid=0 send_seq=599 receive_seq=599 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49857966 adj=50006683  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.44 cputime=10.617 memavail=3251264 print_time=241.695 buffer_time=2.438 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 46 Hz
Resetting prediction variance 7522.388: freq=49857966 diff=1484828 stddev=50000.000
Stats 7522.5: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000030 mcu_task_stddev=0.000024 bytes_write=136123 bytes_read=28062 bytes_retransmit=0 bytes_invalid=0 send_seq=2644 receive_seq=2641 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=155 upcoming_bytes=569 freq=71998538 rpi: mcu_awake=0.785 mcu_task_avg=0.000047 mcu_task_stddev=0.000019 bytes_write=4271 bytes_read=812173 bytes_retransmit=0 bytes_invalid=0 send_seq=610 receive_seq=610 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49860279 adj=50005691  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.44 cputime=10.785 memavail=3228428 print_time=242.696 buffer_time=2.436 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 47 Hz
Resetting prediction variance 7523.372: freq=49860279 diff=1464210 stddev=50000.000
Stats 7523.5: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000028 mcu_task_stddev=0.000023 bytes_write=140467 bytes_read=28571 bytes_retransmit=0 bytes_invalid=0 send_seq=2718 receive_seq=2718 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=765 freq=71998534 rpi: mcu_awake=0.785 mcu_task_avg=0.000047 mcu_task_stddev=0.000019 bytes_write=4347 bytes_read=832681 bytes_retransmit=0 bytes_invalid=0 send_seq=621 receive_seq=621 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49862510 adj=50005320  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.49 cputime=10.910 memavail=3228436 print_time=243.697 buffer_time=2.434 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 48 Hz
Resetting prediction variance 7524.356: freq=49862510 diff=1455980 stddev=50000.000
Stats 7524.5: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000028 mcu_task_stddev=0.000023 bytes_write=144786 bytes_read=29042 bytes_retransmit=0 bytes_invalid=0 send_seq=2792 receive_seq=2792 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=24 upcoming_bytes=1066 freq=71998529 rpi: mcu_awake=0.593 mcu_task_avg=0.000036 mcu_task_stddev=0.000016 bytes_write=4416 bytes_read=853122 bytes_retransmit=0 bytes_invalid=0 send_seq=631 receive_seq=631 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49864683 adj=50004793  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.49 cputime=11.027 memavail=3289016 print_time=244.693 buffer_time=2.428 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 49 Hz
Resetting prediction variance 7525.341: freq=49864683 diff=1445270 stddev=50000.000
Stats 7525.5: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000028 mcu_task_stddev=0.000023 bytes_write=148852 bytes_read=29493 bytes_retransmit=0 bytes_invalid=0 send_seq=2859 receive_seq=2859 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=48 upcoming_bytes=2016 freq=71998524 rpi: mcu_awake=0.593 mcu_task_avg=0.000036 mcu_task_stddev=0.000016 bytes_write=4492 bytes_read=873508 bytes_retransmit=0 bytes_invalid=0 send_seq=642 receive_seq=642 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49866798 adj=50004547  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.49 cputime=11.151 memavail=3288628 print_time=245.689 buffer_time=2.424 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 50 Hz
Resetting prediction variance 7526.325: freq=49866798 diff=1435608 stddev=50000.000
Stats 7526.5: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000028 mcu_task_stddev=0.000023 bytes_write=153054 bytes_read=29949 bytes_retransmit=0 bytes_invalid=0 send_seq=2928 receive_seq=2927 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=15 upcoming_bytes=3034 freq=71998519 rpi: mcu_awake=0.593 mcu_task_avg=0.000036 mcu_task_stddev=0.000016 bytes_write=4568 bytes_read=893955 bytes_retransmit=0 bytes_invalid=0 send_seq=653 receive_seq=653 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49868862 adj=50004168  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.49 cputime=11.279 memavail=3287872 print_time=246.695 buffer_time=2.429 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 51 Hz
Resetting prediction variance 7527.310: freq=49868862 diff=1427412 stddev=50000.000
Stats 7527.5: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000028 mcu_task_stddev=0.000023 bytes_write=158033 bytes_read=30465 bytes_retransmit=0 bytes_invalid=0 send_seq=3010 receive_seq=3010 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=2952 freq=71998518 rpi: mcu_awake=0.593 mcu_task_avg=0.000036 mcu_task_stddev=0.000016 bytes_write=4644 bytes_read=914402 bytes_retransmit=0 bytes_invalid=0 send_seq=664 receive_seq=664 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49870880 adj=50002968  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.49 cputime=11.408 memavail=3287236 print_time=247.691 buffer_time=2.424 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 52 Hz
Resetting prediction variance 7528.294: freq=49870880 diff=1418703 stddev=50000.000
Stats 7528.5: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000035 mcu_task_stddev=0.000022 bytes_write=163584 bytes_read=31061 bytes_retransmit=0 bytes_invalid=0 send_seq=3103 receive_seq=3103 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=50 upcoming_bytes=2465 freq=71998517 rpi: mcu_awake=0.593 mcu_task_avg=0.000036 mcu_task_stddev=0.000016 bytes_write=4720 bytes_read=934849 bytes_retransmit=0 bytes_invalid=0 send_seq=675 receive_seq=675 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49872853 adj=50002692  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.45 cputime=11.537 memavail=3286736 print_time=248.696 buffer_time=2.429 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 53 Hz
Resetting prediction variance 7529.279: freq=49872853 diff=1408748 stddev=50000.000
Stats 7529.5: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000035 mcu_task_stddev=0.000022 bytes_write=168656 bytes_read=31597 bytes_retransmit=0 bytes_invalid=0 send_seq=3187 receive_seq=3187 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=31 upcoming_bytes=2284 freq=71998514 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=4796 bytes_read=955313 bytes_retransmit=0 bytes_invalid=0 send_seq=686 receive_seq=686 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49874784 adj=50001674  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.45 cputime=11.671 memavail=3285980 print_time=249.692 buffer_time=2.425 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 54 Hz
Resetting prediction variance 7530.263: freq=49874784 diff=1404741 stddev=50000.000
Stats 7530.5: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000035 mcu_task_stddev=0.000022 bytes_write=173419 bytes_read=32083 bytes_retransmit=0 bytes_invalid=0 send_seq=3265 receive_seq=3264 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=24 upcoming_bytes=1617 freq=71998513 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=4872 bytes_read=975760 bytes_retransmit=0 bytes_invalid=0 send_seq=697 receive_seq=697 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49876682 adj=50001478  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.45 cputime=11.878 memavail=3285728 print_time=250.698 buffer_time=2.430 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 55 Hz
Resetting prediction variance 7531.247: freq=49876682 diff=1391979 stddev=50000.000
Stats 7531.5: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000035 mcu_task_stddev=0.000022 bytes_write=178663 bytes_read=32614 bytes_retransmit=0 bytes_invalid=0 send_seq=3350 receive_seq=3347 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=408 upcoming_bytes=155 freq=71998512 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=4948 bytes_read=996146 bytes_retransmit=0 bytes_invalid=0 send_seq=708 receive_seq=708 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49878538 adj=50000703  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.45 cputime=12.084 memavail=3284720 print_time=251.694 buffer_time=2.425 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 56 Hz
Resetting prediction variance 7532.232: freq=49878538 diff=1383647 stddev=50000.000
Stats 7532.5: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000035 mcu_task_stddev=0.000022 bytes_write=182924 bytes_read=33080 bytes_retransmit=0 bytes_invalid=0 send_seq=3420 receive_seq=3417 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=170 upcoming_bytes=316 freq=71998508 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=5024 bytes_read=1016654 bytes_retransmit=0 bytes_invalid=0 send_seq=719 receive_seq=719 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49880360 adj=50000645  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.45 cputime=12.275 memavail=3283464 print_time=252.699 buffer_time=2.430 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 57 Hz
Resetting prediction variance 7533.216: freq=49880360 diff=1374777 stddev=50000.000
Stats 7533.5: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000036 mcu_task_stddev=0.000023 bytes_write=187044 bytes_read=33531 bytes_retransmit=0 bytes_invalid=0 send_seq=3487 receive_seq=3484 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=119 upcoming_bytes=476 freq=71998507 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=5095 bytes_read=1037035 bytes_retransmit=0 bytes_invalid=0 send_seq=729 receive_seq=729 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49882149 adj=49999987  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.49 cputime=12.475 memavail=3282960 print_time=253.700 buffer_time=2.431 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 58 Hz
Resetting prediction variance 7534.200: freq=49882149 diff=1361699 stddev=50000.000
Stats 7534.6: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000036 mcu_task_stddev=0.000023 bytes_write=191256 bytes_read=34012 bytes_retransmit=0 bytes_invalid=0 send_seq=3556 receive_seq=3554 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=53 upcoming_bytes=637 freq=71998507 rpi: mcu_awake=0.797 mcu_task_avg=0.000048 mcu_task_stddev=0.000018 bytes_write=5171 bytes_read=1057500 bytes_retransmit=0 bytes_invalid=0 send_seq=740 receive_seq=740 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49883901 adj=49999765  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.49 cputime=12.665 memavail=3272376 print_time=254.701 buffer_time=2.431 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 59 Hz
Resetting prediction variance 7535.185: freq=49883901 diff=1350774 stddev=50000.000
Stats 7535.6: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000036 mcu_task_stddev=0.000023 bytes_write=195439 bytes_read=34453 bytes_retransmit=0 bytes_invalid=0 send_seq=3624 receive_seq=3622 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=27 upcoming_bytes=842 freq=71998505 rpi: mcu_awake=0.797 mcu_task_avg=0.000048 mcu_task_stddev=0.000018 bytes_write=5247 bytes_read=1077947 bytes_retransmit=0 bytes_invalid=0 send_seq=751 receive_seq=751 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49885622 adj=49999523  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.49 cputime=12.822 memavail=3244660 print_time=255.701 buffer_time=2.431 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 60 Hz
Resetting prediction variance 7536.170: freq=49885622 diff=1343310 stddev=50000.000
Stats 7536.6: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000036 mcu_task_stddev=0.000023 bytes_write=199744 bytes_read=34914 bytes_retransmit=0 bytes_invalid=0 send_seq=3694 receive_seq=3694 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=1012 freq=71998504 rpi: mcu_awake=0.797 mcu_task_avg=0.000048 mcu_task_stddev=0.000018 bytes_write=5323 bytes_read=1098333 bytes_retransmit=0 bytes_invalid=0 send_seq=762 receive_seq=762 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49887316 adj=49999347  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.49 cputime=12.987 memavail=3238944 print_time=256.706 buffer_time=2.436 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 61 Hz
Resetting prediction variance 7537.155: freq=49887316 diff=1333769 stddev=50000.000
Stats 7537.6: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000036 mcu_task_stddev=0.000023 bytes_write=204121 bytes_read=35395 bytes_retransmit=0 bytes_invalid=0 send_seq=3765 receive_seq=3764 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=1139 freq=71998505 rpi: mcu_awake=0.797 mcu_task_avg=0.000048 mcu_task_stddev=0.000018 bytes_write=5392 bytes_read=1118756 bytes_retransmit=0 bytes_invalid=0 send_seq=772 receive_seq=772 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49888983 adj=49998975  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.49 cputime=13.155 memavail=3221776 print_time=257.702 buffer_time=2.432 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 62 Hz
Resetting prediction variance 7538.140: freq=49888983 diff=1317827 stddev=50000.000
Stats 7538.6: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000031 mcu_task_stddev=0.000024 bytes_write=208519 bytes_read=35876 bytes_retransmit=0 bytes_invalid=0 send_seq=3837 receive_seq=3837 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=1317 freq=71998500 rpi: mcu_awake=0.797 mcu_task_avg=0.000048 mcu_task_stddev=0.000018 bytes_write=5468 bytes_read=1139203 bytes_retransmit=0 bytes_invalid=0 send_seq=783 receive_seq=783 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49890615 adj=49999208  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.53 cputime=13.278 memavail=3220532 print_time=258.707 buffer_time=2.436 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 63 Hz
Resetting prediction variance 7539.124: freq=49890615 diff=1316263 stddev=50000.000
Stats 7539.6: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000031 mcu_task_stddev=0.000024 bytes_write=213038 bytes_read=36347 bytes_retransmit=0 bytes_invalid=0 send_seq=3911 receive_seq=3911 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=24 upcoming_bytes=1489 freq=71998496 rpi: mcu_awake=0.577 mcu_task_avg=0.000035 mcu_task_stddev=0.000015 bytes_write=5544 bytes_read=1159668 bytes_retransmit=0 bytes_invalid=0 send_seq=794 receive_seq=794 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49892232 adj=49998900  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.53 cputime=13.407 memavail=3281264 print_time=259.707 buffer_time=2.436 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 64 Hz
Resetting prediction variance 7540.108: freq=49892232 diff=1294833 stddev=50000.000
Stats 7540.6: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000031 mcu_task_stddev=0.000024 bytes_write=217639 bytes_read=36848 bytes_retransmit=0 bytes_invalid=0 send_seq=3986 receive_seq=3985 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=1624 freq=71998492 rpi: mcu_awake=0.577 mcu_task_avg=0.000035 mcu_task_stddev=0.000015 bytes_write=5620 bytes_read=1180115 bytes_retransmit=0 bytes_invalid=0 send_seq=805 receive_seq=805 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49893811 adj=49999024  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.53 cputime=13.534 memavail=3281012 print_time=260.704 buffer_time=2.433 print_stall=0 extruder: target=0 temp=21.1 pwm=0.000
Testing frequency 65 Hz
Resetting prediction variance 7541.093: freq=49893811 diff=1283716 stddev=50000.000
Stats 7541.6: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000031 mcu_task_stddev=0.000024 bytes_write=222256 bytes_read=37329 bytes_retransmit=0 bytes_invalid=0 send_seq=4061 receive_seq=4061 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=1786 freq=71998490 rpi: mcu_awake=0.577 mcu_task_avg=0.000035 mcu_task_stddev=0.000015 bytes_write=5696 bytes_read=1200562 bytes_retransmit=0 bytes_invalid=0 send_seq=816 receive_seq=816 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49895365 adj=49999239  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.53 cputime=13.659 memavail=3281192 print_time=261.704 buffer_time=2.432 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 66 Hz
Resetting prediction variance 7542.078: freq=49895365 diff=1272267 stddev=50000.000
Stats 7542.6: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000031 mcu_task_stddev=0.000024 bytes_write=226984 bytes_read=37815 bytes_retransmit=0 bytes_invalid=0 send_seq=4138 receive_seq=4138 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=1975 freq=71998487 rpi: mcu_awake=0.577 mcu_task_avg=0.000035 mcu_task_stddev=0.000015 bytes_write=5772 bytes_read=1221009 bytes_retransmit=0 bytes_invalid=0 send_seq=827 receive_seq=827 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49896894 adj=49999231  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.53 cputime=13.789 memavail=3280436 print_time=262.709 buffer_time=2.436 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 67 Hz
Resetting prediction variance 7543.063: freq=49896894 diff=1260494 stddev=50000.000
Stats 7543.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000038 mcu_task_stddev=0.000022 bytes_write=231884 bytes_read=38376 bytes_retransmit=0 bytes_invalid=0 send_seq=4221 receive_seq=4221 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=2152 freq=71998484 rpi: mcu_awake=0.577 mcu_task_avg=0.000035 mcu_task_stddev=0.000015 bytes_write=5848 bytes_read=1241456 bytes_retransmit=0 bytes_invalid=0 send_seq=838 receive_seq=838 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49898400 adj=49999021  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.49 cputime=13.967 memavail=3280188 print_time=263.702 buffer_time=2.428 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 68 Hz
Resetting prediction variance 7544.048: freq=49898400 diff=1247252 stddev=50000.000
Stats 7544.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000038 mcu_task_stddev=0.000022 bytes_write=236725 bytes_read=38882 bytes_retransmit=0 bytes_invalid=0 send_seq=4303 receive_seq=4302 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=24 upcoming_bytes=3209 freq=71998481 rpi: mcu_awake=0.499 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=5924 bytes_read=1261920 bytes_retransmit=0 bytes_invalid=0 send_seq=849 receive_seq=849 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49899881 adj=49999502  heater_bed: target=0 temp=20.7 pwm=0.000 sysload=0.49 cputime=14.120 memavail=3278468 print_time=264.710 buffer_time=2.435 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 69 Hz
Resetting prediction variance 7545.033: freq=49899881 diff=1236679 stddev=50000.000
Stats 7545.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000038 mcu_task_stddev=0.000022 bytes_write=241339 bytes_read=39368 bytes_retransmit=0 bytes_invalid=0 send_seq=4379 receive_seq=4379 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=47 upcoming_bytes=4404 freq=71998480 rpi: mcu_awake=0.499 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=6000 bytes_read=1282306 bytes_retransmit=0 bytes_invalid=0 send_seq=860 receive_seq=860 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49901340 adj=49999074  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.49 cputime=14.335 memavail=3277964 print_time=265.703 buffer_time=2.428 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 70 Hz
Resetting prediction variance 7546.018: freq=49901340 diff=1233645 stddev=50000.000
Stats 7546.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000038 mcu_task_stddev=0.000022 bytes_write=246890 bytes_read=39959 bytes_retransmit=0 bytes_invalid=0 send_seq=4471 receive_seq=4471 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=4245 freq=71998479 rpi: mcu_awake=0.499 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=6076 bytes_read=1302814 bytes_retransmit=0 bytes_invalid=0 send_seq=871 receive_seq=871 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49902789 adj=49999543  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.49 cputime=14.558 memavail=3277460 print_time=266.707 buffer_time=2.432 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 71 Hz
Resetting prediction variance 7547.006: freq=49902789 diff=1213526 stddev=50000.000
Stats 7547.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000038 mcu_task_stddev=0.000022 bytes_write=253486 bytes_read=40635 bytes_retransmit=0 bytes_invalid=0 send_seq=4586 receive_seq=4586 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=49 upcoming_bytes=3083 freq=71998478 rpi: mcu_awake=0.499 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=6152 bytes_read=1323200 bytes_retransmit=0 bytes_invalid=0 send_seq=882 receive_seq=882 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49904207 adj=49999477  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.49 cputime=14.787 memavail=3276708 print_time=267.707 buffer_time=2.432 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 72 Hz
Resetting prediction variance 7548.015: freq=49904207 diff=1208351 stddev=50000.000
Stats 7548.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000018 bytes_write=259075 bytes_read=41212 bytes_retransmit=0 bytes_invalid=0 send_seq=4679 receive_seq=4678 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=25 upcoming_bytes=3029 freq=71998476 rpi: mcu_awake=0.499 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=6228 bytes_read=1343708 bytes_retransmit=0 bytes_invalid=0 send_seq=893 receive_seq=893 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49905613 adj=49999566  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.45 cputime=15.007 memavail=3275952 print_time=268.711 buffer_time=2.434 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Testing frequency 73 Hz
Resetting prediction variance 7549.016: freq=49905613 diff=1186560 stddev=50000.000
Stats 7549.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000018 bytes_write=264419 bytes_read=41803 bytes_retransmit=0 bytes_invalid=0 send_seq=4771 receive_seq=4770 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=24 upcoming_bytes=3840 freq=71998477 rpi: mcu_awake=0.797 mcu_task_avg=0.000048 mcu_task_stddev=0.000017 bytes_write=6304 bytes_read=1364173 bytes_retransmit=0 bytes_invalid=0 send_seq=904 receive_seq=904 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49906988 adj=49999587  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.45 cputime=15.207 memavail=3261084 print_time=269.708 buffer_time=2.431 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 74 Hz
Resetting prediction variance 7550.006: freq=49906988 diff=1181275 stddev=50000.000
Stats 7550.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000018 bytes_write=269421 bytes_read=42319 bytes_retransmit=0 bytes_invalid=0 send_seq=4853 receive_seq=4853 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=40 upcoming_bytes=3940 freq=71998477 rpi: mcu_awake=0.797 mcu_task_avg=0.000048 mcu_task_stddev=0.000017 bytes_write=6380 bytes_read=1384620 bytes_retransmit=0 bytes_invalid=0 send_seq=915 receive_seq=915 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49908351 adj=49999838  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.45 cputime=15.385 memavail=3232860 print_time=270.712 buffer_time=2.433 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7550.991: freq=49908351 diff=1155534 stddev=50000.000
Testing frequency 75 Hz
Stats 7551.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000018 bytes_write=275399 bytes_read=42930 bytes_retransmit=0 bytes_invalid=0 send_seq=4956 receive_seq=4955 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=2366 freq=71998474 rpi: mcu_awake=0.797 mcu_task_avg=0.000048 mcu_task_stddev=0.000017 bytes_write=6449 bytes_read=1405043 bytes_retransmit=0 bytes_invalid=0 send_seq=925 receive_seq=925 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49909679 adj=49999853  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.45 cputime=15.560 memavail=3219168 print_time=271.705 buffer_time=2.426 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7551.975: freq=49909679 diff=1144370 stddev=50000.000
Testing frequency 76 Hz
Stats 7552.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000018 bytes_write=281784 bytes_read=43611 bytes_retransmit=0 bytes_invalid=0 send_seq=5068 receive_seq=5065 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=530 freq=71998481 rpi: mcu_awake=0.797 mcu_task_avg=0.000048 mcu_task_stddev=0.000017 bytes_write=6525 bytes_read=1425490 bytes_retransmit=0 bytes_invalid=0 send_seq=936 receive_seq=936 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49910990 adj=50000217  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.45 cputime=15.736 memavail=3208400 print_time=272.712 buffer_time=2.432 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7552.960: freq=49910990 diff=1132771 stddev=50000.000
Testing frequency 77 Hz
Stats 7553.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000040 mcu_task_stddev=0.000020 bytes_write=286060 bytes_read=44108 bytes_retransmit=0 bytes_invalid=0 send_seq=5143 receive_seq=5141 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=634 freq=71998480 rpi: mcu_awake=0.797 mcu_task_avg=0.000048 mcu_task_stddev=0.000017 bytes_write=6601 bytes_read=1445937 bytes_retransmit=0 bytes_invalid=0 send_seq=947 receive_seq=947 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49912282 adj=49999815  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.50 cputime=15.860 memavail=3208464 print_time=273.709 buffer_time=2.428 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7553.945: freq=49912282 diff=1112300 stddev=50000.000
Testing frequency 78 Hz
Stats 7554.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000040 mcu_task_stddev=0.000020 bytes_write=290393 bytes_read=44599 bytes_retransmit=0 bytes_invalid=0 send_seq=5219 receive_seq=5219 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=773 freq=71998479 rpi: mcu_awake=0.558 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=6677 bytes_read=1466402 bytes_retransmit=0 bytes_invalid=0 send_seq=958 receive_seq=958 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49913547 adj=50000065  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.50 cputime=15.989 memavail=3271252 print_time=274.713 buffer_time=2.431 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7554.930: freq=49913547 diff=1098223 stddev=50000.000
Testing frequency 79 Hz
Stats 7555.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000040 mcu_task_stddev=0.000020 bytes_write=294757 bytes_read=45115 bytes_retransmit=0 bytes_invalid=0 send_seq=5296 receive_seq=5296 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=35 upcoming_bytes=875 freq=71998477 rpi: mcu_awake=0.558 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=6753 bytes_read=1486849 bytes_retransmit=0 bytes_invalid=0 send_seq=969 receive_seq=969 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49914792 adj=49999860  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.50 cputime=16.117 memavail=3270496 print_time=275.707 buffer_time=2.425 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7555.914: freq=49914792 diff=1083709 stddev=50000.000
Testing frequency 80 Hz
Stats 7556.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000040 mcu_task_stddev=0.000020 bytes_write=299235 bytes_read=45606 bytes_retransmit=0 bytes_invalid=0 send_seq=5375 receive_seq=5374 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=1005 freq=71998476 rpi: mcu_awake=0.558 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=6829 bytes_read=1507296 bytes_retransmit=0 bytes_invalid=0 send_seq=980 receive_seq=980 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49916017 adj=50000169  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.50 cputime=16.246 memavail=3269992 print_time=276.714 buffer_time=2.430 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7556.899: freq=49916017 diff=1068976 stddev=50000.000
Testing frequency 81 Hz
Stats 7557.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000040 mcu_task_stddev=0.000020 bytes_write=303713 bytes_read=46107 bytes_retransmit=0 bytes_invalid=0 send_seq=5454 receive_seq=5454 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=1109 freq=71998474 rpi: mcu_awake=0.558 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=6905 bytes_read=1527743 bytes_retransmit=0 bytes_invalid=0 send_seq=991 receive_seq=991 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49917222 adj=49999805  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.50 cputime=16.376 memavail=3269236 print_time=277.711 buffer_time=2.426 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Resetting prediction variance 7557.883: freq=49917222 diff=1054184 stddev=50000.000
Testing frequency 82 Hz
Stats 7558.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000030 mcu_task_stddev=0.000023 bytes_write=308274 bytes_read=46649 bytes_retransmit=0 bytes_invalid=0 send_seq=5534 receive_seq=5533 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=1251 freq=71998472 rpi: mcu_awake=0.558 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=6981 bytes_read=1548190 bytes_retransmit=0 bytes_invalid=0 send_seq=1002 receive_seq=1002 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49918407 adj=49999949  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.46 cputime=16.507 memavail=3268732 print_time=278.711 buffer_time=2.426 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7558.867: freq=49918407 diff=1039310 stddev=50000.000
Testing frequency 83 Hz
Stats 7559.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000030 mcu_task_stddev=0.000023 bytes_write=312866 bytes_read=47160 bytes_retransmit=0 bytes_invalid=0 send_seq=5615 receive_seq=5615 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=1369 freq=71998479 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=7057 bytes_read=1568654 bytes_retransmit=0 bytes_invalid=0 send_seq=1013 receive_seq=1013 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49919572 adj=49999909  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.46 cputime=16.653 memavail=3267476 print_time=279.711 buffer_time=2.425 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7559.851: freq=49919572 diff=1025024 stddev=50000.000
Testing frequency 84 Hz
Stats 7560.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000030 mcu_task_stddev=0.000023 bytes_write=317541 bytes_read=47671 bytes_retransmit=0 bytes_invalid=0 send_seq=5697 receive_seq=5697 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=1499 freq=71998477 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=7133 bytes_read=1589101 bytes_retransmit=0 bytes_invalid=0 send_seq=1024 receive_seq=1024 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49920719 adj=49999799  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.46 cputime=16.787 memavail=3266468 print_time=280.715 buffer_time=2.427 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7560.836: freq=49920719 diff=1010501 stddev=50000.000
Testing frequency 85 Hz
Stats 7561.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000030 mcu_task_stddev=0.000023 bytes_write=322273 bytes_read=48217 bytes_retransmit=0 bytes_invalid=0 send_seq=5780 receive_seq=5780 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=1603 freq=71998474 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=7209 bytes_read=1609548 bytes_retransmit=0 bytes_invalid=0 send_seq=1035 receive_seq=1035 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49921848 adj=49999625  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.46 cputime=16.926 memavail=3265712 print_time=281.715 buffer_time=2.427 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7561.821: freq=49921848 diff=995435 stddev=50000.000
Testing frequency 86 Hz
Stats 7562.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000030 mcu_task_stddev=0.000023 bytes_write=327062 bytes_read=48733 bytes_retransmit=0 bytes_invalid=0 send_seq=5864 receive_seq=5863 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=1752 freq=71998471 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=7285 bytes_read=1629995 bytes_retransmit=0 bytes_invalid=0 send_seq=1046 receive_seq=1046 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49922957 adj=49999599  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.46 cputime=17.066 memavail=3264460 print_time=282.715 buffer_time=2.427 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7562.805: freq=49922957 diff=987232 stddev=50000.000
Testing frequency 87 Hz
Stats 7563.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000036 mcu_task_stddev=0.000021 bytes_write=331882 bytes_read=49280 bytes_retransmit=0 bytes_invalid=0 send_seq=5949 receive_seq=5949 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=1863 freq=71998466 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=7361 bytes_read=1650442 bytes_retransmit=0 bytes_invalid=0 send_seq=1057 receive_seq=1057 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49924056 adj=49999537  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.42 cputime=17.201 memavail=3263704 print_time=283.715 buffer_time=2.426 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7563.790: freq=49924056 diff=965573 stddev=50000.000
Testing frequency 88 Hz
Stats 7564.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000036 mcu_task_stddev=0.000021 bytes_write=336816 bytes_read=49841 bytes_retransmit=0 bytes_invalid=0 send_seq=6036 receive_seq=6035 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=1967 freq=71998466 rpi: mcu_awake=0.509 mcu_task_avg=0.000031 mcu_task_stddev=0.000011 bytes_write=7437 bytes_read=1670906 bytes_retransmit=0 bytes_invalid=0 send_seq=1068 receive_seq=1068 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49925128 adj=49999585  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.42 cputime=17.379 memavail=3239512 print_time=284.713 buffer_time=2.423 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Resetting prediction variance 7564.774: freq=49925128 diff=959695 stddev=50000.000
Testing frequency 89 Hz
Stats 7565.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000036 mcu_task_stddev=0.000021 bytes_write=341776 bytes_read=50377 bytes_retransmit=0 bytes_invalid=0 send_seq=6123 receive_seq=6122 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=2080 freq=71998466 rpi: mcu_awake=0.509 mcu_task_avg=0.000031 mcu_task_stddev=0.000011 bytes_write=7513 bytes_read=1691414 bytes_retransmit=0 bytes_invalid=0 send_seq=1079 receive_seq=1079 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49926192 adj=49999598  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.42 cputime=17.566 memavail=3220864 print_time=285.713 buffer_time=2.421 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Resetting prediction variance 7565.759: freq=49926192 diff=936502 stddev=50000.000
Testing frequency 90 Hz
Stats 7566.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000036 mcu_task_stddev=0.000021 bytes_write=346767 bytes_read=50923 bytes_retransmit=0 bytes_invalid=0 send_seq=6211 receive_seq=6211 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=2201 freq=71998464 rpi: mcu_awake=0.509 mcu_task_avg=0.000031 mcu_task_stddev=0.000011 bytes_write=7582 bytes_read=1711837 bytes_retransmit=0 bytes_invalid=0 send_seq=1089 receive_seq=1089 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49927230 adj=49999621  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.42 cputime=17.746 memavail=3203212 print_time=286.713 buffer_time=2.418 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 91 Hz
Stats 7567.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000036 mcu_task_stddev=0.000021 bytes_write=351841 bytes_read=51499 bytes_retransmit=0 bytes_invalid=0 send_seq=6300 receive_seq=6300 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=2324 freq=71998463 rpi: mcu_awake=0.509 mcu_task_avg=0.000031 mcu_task_stddev=0.000011 bytes_write=7658 bytes_read=1732345 bytes_retransmit=0 bytes_invalid=0 send_seq=1100 receive_seq=1100 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49927067 adj=49999545  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.42 cputime=17.918 memavail=3199000 print_time=287.716 buffer_time=2.419 print_stall=0 extruder: target=0 temp=21.0 pwm=0.000
Resetting prediction variance 7567.730: freq=49927067 diff=-1493341 stddev=55797.559
Testing frequency 92 Hz
Stats 7568.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000040 mcu_task_stddev=0.000018 bytes_write=357003 bytes_read=52066 bytes_retransmit=0 bytes_invalid=0 send_seq=6391 receive_seq=6390 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=2418 freq=71998460 rpi: mcu_awake=0.509 mcu_task_avg=0.000031 mcu_task_stddev=0.000011 bytes_write=7734 bytes_read=1752792 bytes_retransmit=0 bytes_invalid=0 send_seq=1111 receive_seq=1111 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49925417 adj=49985860  heater_bed: target=0 temp=20.7 pwm=0.000 sysload=0.47 cputime=18.058 memavail=3198008 print_time=288.714 buffer_time=2.415 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7568.715: freq=49925417 diff=-2580783 stddev=50000.000
Testing frequency 93 Hz
Stats 7569.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000040 mcu_task_stddev=0.000018 bytes_write=362165 bytes_read=52627 bytes_retransmit=0 bytes_invalid=0 send_seq=6482 receive_seq=6482 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=2531 freq=71998456 rpi: mcu_awake=0.551 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=7810 bytes_read=1773257 bytes_retransmit=0 bytes_invalid=0 send_seq=1122 receive_seq=1122 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49922569 adj=49957635  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.47 cputime=18.201 memavail=3258248 print_time=289.711 buffer_time=2.412 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Resetting prediction variance 7569.701: freq=49922569 diff=-3446512 stddev=50000.000
Testing frequency 94 Hz
Stats 7570.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000040 mcu_task_stddev=0.000018 bytes_write=367384 bytes_read=53218 bytes_retransmit=0 bytes_invalid=0 send_seq=6574 receive_seq=6574 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=2688 freq=71998454 rpi: mcu_awake=0.551 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=7886 bytes_read=1793704 bytes_retransmit=0 bytes_invalid=0 send_seq=1133 receive_seq=1133 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49918769 adj=49920029  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.47 cputime=18.340 memavail=3257744 print_time=290.717 buffer_time=2.416 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7570.685: freq=49918769 diff=-4120324 stddev=50000.000
Testing frequency 95 Hz
Stats 7571.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000040 mcu_task_stddev=0.000018 bytes_write=372717 bytes_read=53784 bytes_retransmit=0 bytes_invalid=0 send_seq=6668 receive_seq=6667 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=2766 freq=71998451 rpi: mcu_awake=0.551 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=7955 bytes_read=1814188 bytes_retransmit=0 bytes_invalid=0 send_seq=1143 receive_seq=1143 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49914230 adj=49877321  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.47 cputime=18.475 memavail=3257844 print_time=291.712 buffer_time=2.409 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Resetting prediction variance 7571.671: freq=49914230 diff=-4630763 stddev=50000.000
Testing frequency 96 Hz
Stats 7572.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000040 mcu_task_stddev=0.000018 bytes_write=378076 bytes_read=54355 bytes_retransmit=0 bytes_invalid=0 send_seq=6762 receive_seq=6761 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=2915 freq=71998454 rpi: mcu_awake=0.551 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=8031 bytes_read=1834635 bytes_retransmit=0 bytes_invalid=0 send_seq=1154 receive_seq=1154 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49909133 adj=49832336  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.47 cputime=18.616 memavail=3256392 print_time=292.717 buffer_time=2.413 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7572.656: freq=49909133 diff=-5000686 stddev=50000.000
Testing frequency 97 Hz
Stats 7573.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=383466 bytes_read=54982 bytes_retransmit=0 bytes_invalid=0 send_seq=6857 receive_seq=6857 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=3009 freq=71998451 rpi: mcu_awake=0.551 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=8107 bytes_read=1855143 bytes_retransmit=0 bytes_invalid=0 send_seq=1165 receive_seq=1165 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49903633 adj=49788033  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.59 cputime=18.758 memavail=3255640 print_time=293.715 buffer_time=2.409 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7573.641: freq=49903633 diff=-5240583 stddev=50000.000
Testing frequency 98 Hz
Stats 7574.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=388939 bytes_read=55563 bytes_retransmit=0 bytes_invalid=0 send_seq=6953 receive_seq=6953 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=3130 freq=71998450 rpi: mcu_awake=0.496 mcu_task_avg=0.000029 mcu_task_stddev=0.000010 bytes_write=8183 bytes_read=1875601 bytes_retransmit=0 bytes_invalid=0 send_seq=1176 receive_seq=1176 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49897873 adj=49745154  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.59 cputime=18.930 memavail=3254884 print_time=294.715 buffer_time=2.408 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7574.626: freq=49897873 diff=-5398745 stddev=50000.000
Testing frequency 99 Hz
Stats 7575.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=394500 bytes_read=56149 bytes_retransmit=0 bytes_invalid=0 send_seq=7051 receive_seq=7050 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=3234 freq=71998448 rpi: mcu_awake=0.496 mcu_task_avg=0.000029 mcu_task_stddev=0.000010 bytes_write=8259 bytes_read=1896036 bytes_retransmit=0 bytes_invalid=0 send_seq=1187 receive_seq=1187 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49891942 adj=49705665  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.59 cputime=19.114 memavail=3253880 print_time=295.713 buffer_time=2.404 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7575.611: freq=49891942 diff=-5466003 stddev=50000.000
Testing frequency 100 Hz
Stats 7576.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=400061 bytes_read=56775 bytes_retransmit=0 bytes_invalid=0 send_seq=7149 receive_seq=7149 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=3380 freq=71998451 rpi: mcu_awake=0.496 mcu_task_avg=0.000029 mcu_task_stddev=0.000010 bytes_write=8335 bytes_read=1916472 bytes_retransmit=0 bytes_invalid=0 send_seq=1198 receive_seq=1198 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49885941 adj=49669459  heater_bed: target=0 temp=20.7 pwm=0.000 sysload=0.59 cputime=19.312 memavail=3253380 print_time=296.718 buffer_time=2.409 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Resetting prediction variance 7576.596: freq=49885941 diff=-5459865 stddev=50000.000
Testing frequency 101 Hz
Resetting prediction variance 7577.581: freq=49879949 diff=-5395028 stddev=50000.000
Stats 7577.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=405737 bytes_read=57382 bytes_retransmit=0 bytes_invalid=0 send_seq=7249 receive_seq=7248 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=3487 freq=71998446 rpi: mcu_awake=0.496 mcu_task_avg=0.000029 mcu_task_stddev=0.000010 bytes_write=8417 bytes_read=1936984 bytes_retransmit=0 bytes_invalid=0 send_seq=1210 receive_seq=1210 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49874031 adj=49638506  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.59 cputime=19.455 memavail=3252876 print_time=297.718 buffer_time=2.407 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 102 Hz
Resetting prediction variance 7578.566: freq=49874031 diff=-5281662 stddev=50000.000
Stats 7578.6: gcodein=0  mcu: mcu_awake=0.025 mcu_task_avg=0.000041 mcu_task_stddev=0.000018 bytes_write=411412 bytes_read=58019 bytes_retransmit=0 bytes_invalid=0 send_seq=7349 receive_seq=7349 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=3588 freq=71998443 rpi: mcu_awake=0.496 mcu_task_avg=0.000029 mcu_task_stddev=0.000010 bytes_write=8486 bytes_read=1957397 bytes_retransmit=0 bytes_invalid=0 send_seq=1220 receive_seq=1220 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49868239 adj=49544134  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.62 cputime=19.597 memavail=3251872 print_time=298.716 buffer_time=2.404 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 103 Hz
Resetting prediction variance 7579.550: freq=49868239 diff=-5127891 stddev=50000.000
Stats 7579.6: gcodein=0  mcu: mcu_awake=0.025 mcu_task_avg=0.000041 mcu_task_stddev=0.000018 bytes_write=417170 bytes_read=58633 bytes_retransmit=0 bytes_invalid=0 send_seq=7450 receive_seq=7449 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=3692 freq=71998443 rpi: mcu_awake=0.545 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=8562 bytes_read=1977854 bytes_retransmit=0 bytes_invalid=0 send_seq=1231 receive_seq=1231 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49862617 adj=49533145  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.62 cputime=19.764 memavail=3234868 print_time=299.714 buffer_time=2.400 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 104 Hz
Resetting prediction variance 7580.534: freq=49862617 diff=-4936557 stddev=50000.000
Stats 7580.6: gcodein=0  mcu: mcu_awake=0.025 mcu_task_avg=0.000041 mcu_task_stddev=0.000018 bytes_write=422959 bytes_read=59241 bytes_retransmit=0 bytes_invalid=0 send_seq=7552 receive_seq=7552 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=3858 freq=71998443 rpi: mcu_awake=0.545 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=8638 bytes_read=1998301 bytes_retransmit=0 bytes_invalid=0 send_seq=1242 receive_seq=1242 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49857207 adj=49524940  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.62 cputime=19.971 memavail=3209108 print_time=300.719 buffer_time=2.405 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 105 Hz
Resetting prediction variance 7581.519: freq=49857207 diff=-4734114 stddev=50000.000
Stats 7581.6: gcodein=0  mcu: mcu_awake=0.025 mcu_task_avg=0.000041 mcu_task_stddev=0.000018 bytes_write=428831 bytes_read=59864 bytes_retransmit=0 bytes_invalid=0 send_seq=7655 receive_seq=7655 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=3955 freq=71998442 rpi: mcu_awake=0.545 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=8714 bytes_read=2018748 bytes_retransmit=0 bytes_invalid=0 send_seq=1253 receive_seq=1253 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49852019 adj=49521016  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.62 cputime=20.166 memavail=3193984 print_time=301.716 buffer_time=2.402 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 106 Hz
Resetting prediction variance 7582.516: freq=49852019 diff=-4504588 stddev=50000.000
Stats 7582.6: gcodein=0  mcu: mcu_awake=0.025 mcu_task_avg=0.000041 mcu_task_stddev=0.000018 bytes_write=434791 bytes_read=60492 bytes_retransmit=0 bytes_invalid=0 send_seq=7760 receive_seq=7759 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=4066 freq=71998446 rpi: mcu_awake=0.545 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=8790 bytes_read=2039195 bytes_retransmit=0 bytes_invalid=0 send_seq=1264 receive_seq=1264 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49847082 adj=49517925  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.62 cputime=20.369 memavail=3186340 print_time=302.717 buffer_time=2.401 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 107 Hz
Resetting prediction variance 7583.501: freq=49847082 diff=-4261627 stddev=50000.000
Stats 7583.6: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000041 mcu_task_stddev=0.000017 bytes_write=440777 bytes_read=61132 bytes_retransmit=0 bytes_invalid=0 send_seq=7865 receive_seq=7864 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=4196 freq=71998444 rpi: mcu_awake=0.545 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=8866 bytes_read=2059642 bytes_retransmit=0 bytes_invalid=0 send_seq=1275 receive_seq=1275 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49842412 adj=49517726  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.65 cputime=20.521 memavail=3185364 print_time=303.719 buffer_time=2.403 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 108 Hz
Resetting prediction variance 7584.485: freq=49842412 diff=-4006769 stddev=50000.000
Stats 7584.6: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000041 mcu_task_stddev=0.000017 bytes_write=446763 bytes_read=61778 bytes_retransmit=0 bytes_invalid=0 send_seq=7970 receive_seq=7970 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=4325 freq=71998443 rpi: mcu_awake=0.553 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=8942 bytes_read=2080107 bytes_retransmit=0 bytes_invalid=0 send_seq=1286 receive_seq=1286 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49838022 adj=49520327  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.65 cputime=20.671 memavail=3245044 print_time=304.719 buffer_time=2.403 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 109 Hz
Resetting prediction variance 7585.470: freq=49838022 diff=-3746201 stddev=50000.000
Stats 7585.6: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000041 mcu_task_stddev=0.000017 bytes_write=452863 bytes_read=62429 bytes_retransmit=0 bytes_invalid=0 send_seq=8077 receive_seq=8077 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=3959 freq=71998447 rpi: mcu_awake=0.553 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=9018 bytes_read=2100554 bytes_retransmit=0 bytes_invalid=0 send_seq=1297 receive_seq=1297 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49833917 adj=49524408  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.65 cputime=20.821 memavail=3244288 print_time=305.719 buffer_time=2.402 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 110 Hz
Resetting prediction variance 7586.454: freq=49833917 diff=-3482121 stddev=50000.000
Stats 7586.6: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000041 mcu_task_stddev=0.000017 bytes_write=459431 bytes_read=63080 bytes_retransmit=0 bytes_invalid=0 send_seq=8188 receive_seq=8187 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=31 upcoming_bytes=2138 freq=71998444 rpi: mcu_awake=0.553 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=9094 bytes_read=2121001 bytes_retransmit=0 bytes_invalid=0 send_seq=1308 receive_seq=1308 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49830102 adj=49530253  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.65 cputime=20.963 memavail=3244040 print_time=306.717 buffer_time=2.398 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 111 Hz
Resetting prediction variance 7587.439: freq=49830102 diff=-3215655 stddev=50000.000
Stats 7587.6: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000041 mcu_task_stddev=0.000017 bytes_write=466285 bytes_read=63761 bytes_retransmit=0 bytes_invalid=0 send_seq=8301 receive_seq=8300 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=30 upcoming_bytes=210 freq=71998453 rpi: mcu_awake=0.553 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=9163 bytes_read=2141485 bytes_retransmit=0 bytes_invalid=0 send_seq=1318 receive_seq=1318 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49826579 adj=49537251  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.65 cputime=21.095 memavail=3243284 print_time=307.717 buffer_time=2.397 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 112 Hz
Resetting prediction variance 7588.423: freq=49826579 diff=-2952184 stddev=50000.000
Stats 7588.6: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000040 mcu_task_stddev=0.000020 bytes_write=471372 bytes_read=64333 bytes_retransmit=0 bytes_invalid=0 send_seq=8390 receive_seq=8388 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=18 upcoming_bytes=306 freq=71998451 rpi: mcu_awake=0.553 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=9239 bytes_read=2161932 bytes_retransmit=0 bytes_invalid=0 send_seq=1329 receive_seq=1329 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49823344 adj=49546227  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.60 cputime=21.225 memavail=3243032 print_time=308.720 buffer_time=2.399 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 113 Hz
Resetting prediction variance 7589.408: freq=49823344 diff=-2690344 stddev=50000.000
Stats 7589.6: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000040 mcu_task_stddev=0.000020 bytes_write=476459 bytes_read=64889 bytes_retransmit=0 bytes_invalid=0 send_seq=8479 receive_seq=8479 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=30 upcoming_bytes=399 freq=71998449 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=9315 bytes_read=2182396 bytes_retransmit=0 bytes_invalid=0 send_seq=1340 receive_seq=1340 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49820396 adj=49556793  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.60 cputime=21.354 memavail=3243032 print_time=309.718 buffer_time=2.396 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 114 Hz
Resetting prediction variance 7590.392: freq=49820396 diff=-2431136 stddev=50000.000
Stats 7590.6: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000040 mcu_task_stddev=0.000020 bytes_write=481496 bytes_read=65430 bytes_retransmit=0 bytes_invalid=0 send_seq=8567 receive_seq=8564 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=120 upcoming_bytes=472 freq=71998449 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=9391 bytes_read=2202843 bytes_retransmit=0 bytes_invalid=0 send_seq=1351 receive_seq=1351 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49817732 adj=49567637  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.60 cputime=21.522 memavail=3243036 print_time=310.720 buffer_time=2.398 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 115 Hz
Resetting prediction variance 7591.377: freq=49817732 diff=-2181532 stddev=50000.000
Stats 7591.6: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000040 mcu_task_stddev=0.000020 bytes_write=486348 bytes_read=65966 bytes_retransmit=0 bytes_invalid=0 send_seq=8648 receive_seq=8648 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=54 upcoming_bytes=535 freq=71998447 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=9467 bytes_read=2223290 bytes_retransmit=0 bytes_invalid=0 send_seq=1362 receive_seq=1362 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49815342 adj=49580074  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.60 cputime=21.654 memavail=3242784 print_time=311.718 buffer_time=2.395 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 116 Hz
Resetting prediction variance 7592.362: freq=49815342 diff=-1935282 stddev=50000.000
Stats 7592.6: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000040 mcu_task_stddev=0.000020 bytes_write=490626 bytes_read=66417 bytes_retransmit=0 bytes_invalid=0 send_seq=8718 receive_seq=8718 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=25 upcoming_bytes=2361 freq=71998447 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=9543 bytes_read=2243737 bytes_retransmit=0 bytes_invalid=0 send_seq=1373 receive_seq=1373 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49813220 adj=49592439  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.60 cputime=21.790 memavail=3242028 print_time=312.718 buffer_time=2.394 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 117 Hz
Resetting prediction variance 7593.346: freq=49813220 diff=-1699023 stddev=50000.000
Stats 7593.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000029 mcu_task_stddev=0.000023 bytes_write=494836 bytes_read=66889 bytes_retransmit=0 bytes_invalid=0 send_seq=8787 receive_seq=8786 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=4550 freq=71998445 rpi: mcu_awake=0.496 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=9619 bytes_read=2264184 bytes_retransmit=0 bytes_invalid=0 send_seq=1384 receive_seq=1384 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49811358 adj=49605717  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.55 cputime=21.933 memavail=3241776 print_time=313.718 buffer_time=2.393 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 118 Hz
Resetting prediction variance 7594.334: freq=49811358 diff=-1466021 stddev=50000.000
Stats 7594.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000029 mcu_task_stddev=0.000023 bytes_write=500537 bytes_read=67505 bytes_retransmit=0 bytes_invalid=0 send_seq=8887 receive_seq=8886 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=5505 freq=71998448 rpi: mcu_awake=0.531 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=9695 bytes_read=2284648 bytes_retransmit=0 bytes_invalid=0 send_seq=1395 receive_seq=1395 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49809750 adj=49619364  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.55 cputime=22.116 memavail=3214812 print_time=314.721 buffer_time=2.395 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 119 Hz
Resetting prediction variance 7595.318: freq=49809750 diff=-1244829 stddev=50000.000
Stats 7595.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000029 mcu_task_stddev=0.000023 bytes_write=507181 bytes_read=68196 bytes_retransmit=0 bytes_invalid=0 send_seq=9004 receive_seq=9004 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=5600 freq=71998446 rpi: mcu_awake=0.531 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=9771 bytes_read=2305096 bytes_retransmit=0 bytes_invalid=0 send_seq=1406 receive_seq=1406 retransmit_seq=0 srtt=0.001 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808385 adj=49633585  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.55 cputime=22.323 memavail=3197272 print_time=315.717 buffer_time=2.391 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 120 Hz
Resetting prediction variance 7596.302: freq=49808385 diff=-1031691 stddev=50000.000
Stats 7596.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000029 mcu_task_stddev=0.000023 bytes_write=513908 bytes_read=68902 bytes_retransmit=0 bytes_invalid=0 send_seq=9122 receive_seq=9122 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=6439 freq=71998443 rpi: mcu_awake=0.531 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=9847 bytes_read=2325543 bytes_retransmit=0 bytes_invalid=0 send_seq=1417 receive_seq=1417 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49807253 adj=49647295  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.55 cputime=22.519 memavail=3176316 print_time=316.721 buffer_time=2.394 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 121 Hz
Resetting prediction variance 7597.287: freq=49807253 diff=-828885 stddev=50000.000
Stats 7597.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000029 mcu_task_stddev=0.000023 bytes_write=520176 bytes_read=69548 bytes_retransmit=0 bytes_invalid=0 send_seq=9228 receive_seq=9228 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=55 upcoming_bytes=5482 freq=71998441 rpi: mcu_awake=0.531 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=9923 bytes_read=2345990 bytes_retransmit=0 bytes_invalid=0 send_seq=1428 receive_seq=1428 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49806344 adj=49661897  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.55 cputime=22.698 memavail=3175708 print_time=317.717 buffer_time=2.390 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 122 Hz
Resetting prediction variance 7598.271: freq=49806344 diff=-620328 stddev=50000.000
Stats 7598.6: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000044 mcu_task_stddev=0.000017 bytes_write=527112 bytes_read=70230 bytes_retransmit=0 bytes_invalid=0 send_seq=9341 receive_seq=9341 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=58 upcoming_bytes=3274 freq=71998440 rpi: mcu_awake=0.531 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=9992 bytes_read=2366413 bytes_retransmit=0 bytes_invalid=0 send_seq=1438 receive_seq=1438 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805663 adj=49675716  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.67 cputime=22.848 memavail=3236764 print_time=318.719 buffer_time=2.392 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 123 Hz
Resetting prediction variance 7599.256: freq=49805663 diff=-415438 stddev=50000.000
Stats 7599.6: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000044 mcu_task_stddev=0.000017 bytes_write=534067 bytes_read=70911 bytes_retransmit=0 bytes_invalid=0 send_seq=9454 receive_seq=9454 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=1098 freq=71998438 rpi: mcu_awake=0.549 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=10068 bytes_read=2386878 bytes_retransmit=0 bytes_invalid=0 send_seq=1449 receive_seq=1449 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805207 adj=49690164  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.67 cputime=22.991 memavail=3236580 print_time=319.719 buffer_time=2.391 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 124 Hz
Stats 7600.6: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000044 mcu_task_stddev=0.000017 bytes_write=538550 bytes_read=71392 bytes_retransmit=0 bytes_invalid=0 send_seq=9527 receive_seq=9527 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=58 upcoming_bytes=1190 freq=71998437 rpi: mcu_awake=0.549 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=10144 bytes_read=2407386 bytes_retransmit=0 bytes_invalid=0 send_seq=1460 receive_seq=1460 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49804963 adj=49704459  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.67 cputime=23.128 memavail=3236580 print_time=320.721 buffer_time=2.392 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 125 Hz
Stats 7601.6: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000044 mcu_task_stddev=0.000017 bytes_write=543139 bytes_read=71868 bytes_retransmit=0 bytes_invalid=0 send_seq=9602 receive_seq=9602 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=27 upcoming_bytes=1258 freq=71998441 rpi: mcu_awake=0.549 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=10220 bytes_read=2427833 bytes_retransmit=0 bytes_invalid=0 send_seq=1471 receive_seq=1471 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49804920 adj=49718831  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.67 cputime=23.267 memavail=3235828 print_time=321.719 buffer_time=2.389 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 126 Hz
Stats 7602.6: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000044 mcu_task_stddev=0.000017 bytes_write=547695 bytes_read=72354 bytes_retransmit=0 bytes_invalid=0 send_seq=9676 receive_seq=9676 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=58 upcoming_bytes=1336 freq=71998438 rpi: mcu_awake=0.549 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=10296 bytes_read=2448280 bytes_retransmit=0 bytes_invalid=0 send_seq=1482 receive_seq=1482 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805063 adj=49732767  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.67 cputime=23.409 memavail=3235076 print_time=322.722 buffer_time=2.391 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 127 Hz
Stats 7603.6: gcodein=0  mcu: mcu_awake=0.026 mcu_task_avg=0.000041 mcu_task_stddev=0.000023 bytes_write=552357 bytes_read=72866 bytes_retransmit=0 bytes_invalid=0 send_seq=9752 receive_seq=9752 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=27 upcoming_bytes=1394 freq=71998436 rpi: mcu_awake=0.549 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=10372 bytes_read=2468727 bytes_retransmit=0 bytes_invalid=0 send_seq=1493 receive_seq=1493 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805381 adj=49746741  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.61 cputime=23.549 memavail=3234320 print_time=323.718 buffer_time=2.386 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 128 Hz
Stats 7604.6: gcodein=0  mcu: mcu_awake=0.026 mcu_task_avg=0.000041 mcu_task_stddev=0.000023 bytes_write=556991 bytes_read=73347 bytes_retransmit=0 bytes_invalid=0 send_seq=9828 receive_seq=9828 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=58 upcoming_bytes=1479 freq=71998433 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=10448 bytes_read=2489191 bytes_retransmit=0 bytes_invalid=0 send_seq=1504 receive_seq=1504 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805381 adj=49760184  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.61 cputime=23.689 memavail=3234096 print_time=324.722 buffer_time=2.389 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 129 Hz
Stats 7605.6: gcodein=0  mcu: mcu_awake=0.026 mcu_task_avg=0.000041 mcu_task_stddev=0.000023 bytes_write=561726 bytes_read=73848 bytes_retransmit=0 bytes_invalid=0 send_seq=9905 receive_seq=9905 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=27 upcoming_bytes=1547 freq=71998431 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=10524 bytes_read=2509699 bytes_retransmit=0 bytes_invalid=0 send_seq=1515 receive_seq=1515 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805381 adj=49768039  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.61 cputime=23.827 memavail=3233344 print_time=325.720 buffer_time=2.387 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 130 Hz
Stats 7606.6: gcodein=0  mcu: mcu_awake=0.026 mcu_task_avg=0.000041 mcu_task_stddev=0.000023 bytes_write=566433 bytes_read=74349 bytes_retransmit=0 bytes_invalid=0 send_seq=9982 receive_seq=9982 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=58 upcoming_bytes=1632 freq=71998431 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=10600 bytes_read=2530085 bytes_retransmit=0 bytes_invalid=0 send_seq=1526 receive_seq=1526 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805381 adj=49774446  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.61 cputime=24.056 memavail=3231080 print_time=326.722 buffer_time=2.389 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 131 Hz
Stats 7607.6: gcodein=0  mcu: mcu_awake=0.026 mcu_task_avg=0.000041 mcu_task_stddev=0.000023 bytes_write=571224 bytes_read=74840 bytes_retransmit=0 bytes_invalid=0 send_seq=10060 receive_seq=10060 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=27 upcoming_bytes=1727 freq=71998429 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=10676 bytes_read=2550593 bytes_retransmit=0 bytes_invalid=0 send_seq=1537 receive_seq=1537 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805381 adj=49779844  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.61 cputime=24.301 memavail=3231084 print_time=327.722 buffer_time=2.388 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 132 Hz
Stats 7608.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000043 mcu_task_stddev=0.000022 bytes_write=576067 bytes_read=75362 bytes_retransmit=0 bytes_invalid=0 send_seq=10139 receive_seq=10138 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=1778 freq=71998429 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=10752 bytes_read=2571040 bytes_retransmit=0 bytes_invalid=0 send_seq=1548 receive_seq=1548 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805381 adj=49784309  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.65 cputime=24.451 memavail=3229572 print_time=328.720 buffer_time=2.385 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 133 Hz
toolhead: max_velocity: 300.000000
max_accel: 5000.000000
max_accel_to_decel: 2500.000000
square_corner_velocity: 5.000000
Re-enabled [input_shaper]
Stats 7609.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000043 mcu_task_stddev=0.000022 bytes_write=580871 bytes_read=75873 bytes_retransmit=0 bytes_invalid=0 send_seq=10217 receive_seq=10217 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=48 upcoming_bytes=265 freq=71998430 rpi: mcu_awake=0.600 mcu_task_avg=0.000036 mcu_task_stddev=0.000016 bytes_write=10828 bytes_read=2591505 bytes_retransmit=0 bytes_invalid=0 send_seq=1559 receive_seq=1559 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805381 adj=49787992  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.65 cputime=24.623 memavail=3195044 print_time=329.334 buffer_time=1.998 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Stats 7610.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000043 mcu_task_stddev=0.000022 bytes_write=581215 bytes_read=76004 bytes_retransmit=0 bytes_invalid=0 send_seq=10223 receive_seq=10223 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998430 rpi: mcu_awake=0.600 mcu_task_avg=0.000036 mcu_task_stddev=0.000016 bytes_write=10904 bytes_read=2611952 bytes_retransmit=0 bytes_invalid=0 send_seq=1570 receive_seq=1570 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805381 adj=49787989  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.65 cputime=24.754 memavail=3182644 print_time=329.334 buffer_time=0.997 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Stats 7611.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000043 mcu_task_stddev=0.000022 bytes_write=581221 bytes_read=76125 bytes_retransmit=0 bytes_invalid=0 send_seq=10224 receive_seq=10224 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998427 rpi: mcu_awake=0.600 mcu_task_avg=0.000036 mcu_task_stddev=0.000016 bytes_write=10980 bytes_read=2632399 bytes_retransmit=0 bytes_invalid=0 send_seq=1581 receive_seq=1581 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805381 adj=49787988  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.65 cputime=24.891 memavail=3164160 print_time=329.334 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
ADXL345 finished 'adxl345' measurements
Stats 7612.6: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000043 mcu_task_stddev=0.000022 bytes_write=581227 bytes_read=76246 bytes_retransmit=0 bytes_invalid=0 send_seq=10225 receive_seq=10225 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998429 rpi: mcu_awake=0.600 mcu_task_avg=0.000036 mcu_task_stddev=0.000016 bytes_write=11021 bytes_read=2634538 bytes_retransmit=0 bytes_invalid=0 send_seq=1586 receive_seq=1586 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805381 adj=49788009  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.65 cputime=24.951 memavail=3054216 print_time=329.334 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Stats 7613.6: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000036 mcu_task_stddev=0.000024 bytes_write=581233 bytes_read=76367 bytes_retransmit=0 bytes_invalid=0 send_seq=10226 receive_seq=10226 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998433 rpi: mcu_awake=0.600 mcu_task_avg=0.000036 mcu_task_stddev=0.000016 bytes_write=11027 bytes_read=2634554 bytes_retransmit=0 bytes_invalid=0 send_seq=1587 receive_seq=1587 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49805381 adj=49787994  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.67 cputime=24.965 memavail=3067176 print_time=329.334 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Resetting prediction variance 7614.023: freq=49805381 diff=2109438 stddev=82934.146
Stats 7614.6: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000036 mcu_task_stddev=0.000024 bytes_write=581239 bytes_read=76488 bytes_retransmit=0 bytes_invalid=0 send_seq=10227 receive_seq=10227 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998431 rpi: mcu_awake=0.288 mcu_task_avg=0.000035 mcu_task_stddev=0.000016 bytes_write=11033 bytes_read=2634586 bytes_retransmit=0 bytes_invalid=0 send_seq=1588 receive_seq=1588 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808391 adj=49790981  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.67 cputime=24.981 memavail=3047480 print_time=329.334 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Resetting prediction variance 7615.008: freq=49808391 diff=2089159 stddev=50000.000
Probing point (30.000, 30.000, 10.000)
Stats 7615.6: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000036 mcu_task_stddev=0.000024 bytes_write=581427 bytes_read=76624 bytes_retransmit=0 bytes_invalid=0 send_seq=10231 receive_seq=10231 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=0 freq=71998429 rpi: mcu_awake=0.288 mcu_task_avg=0.000035 mcu_task_stddev=0.000016 bytes_write=11039 bytes_read=2634602 bytes_retransmit=0 bytes_invalid=0 send_seq=1589 receive_seq=1589 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49811282 adj=49844747  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.67 cputime=25.005 memavail=3233172 print_time=335.235 buffer_time=1.894 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Resetting prediction variance 7615.992: freq=49811282 diff=2068125 stddev=50000.000
Stats 7616.6: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000036 mcu_task_stddev=0.000024 bytes_write=581441 bytes_read=76730 bytes_retransmit=0 bytes_invalid=0 send_seq=10232 receive_seq=10232 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998427 rpi: mcu_awake=0.288 mcu_task_avg=0.000035 mcu_task_stddev=0.000016 bytes_write=11045 bytes_read=2634618 bytes_retransmit=0 bytes_invalid=0 send_seq=1590 receive_seq=1590 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49814064 adj=49860066  heater_bed: target=0 temp=20.4 pwm=0.000 sysload=0.67 cputime=25.014 memavail=3233172 print_time=335.235 buffer_time=0.893 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Resetting prediction variance 7616.977: freq=49814064 diff=2053216 stddev=50000.000
ADXL345 starting 'adxl345' measurements
toolhead: max_velocity: 300.000000
max_accel: 10000.000000
max_accel_to_decel: 10000.000000
square_corner_velocity: 5.000000
Disabled [input_shaper] for resonance testing
Testing frequency 5 Hz
Testing frequency 6 Hz
Testing frequency 7 Hz
Testing frequency 8 Hz
Testing frequency 9 Hz
Stats 7617.8: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000036 mcu_task_stddev=0.000024 bytes_write=581727 bytes_read=76876 bytes_retransmit=0 bytes_invalid=0 send_seq=10238 receive_seq=10235 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=431 upcoming_bytes=5309 freq=71998427 rpi: mcu_awake=0.288 mcu_task_avg=0.000035 mcu_task_stddev=0.000016 bytes_write=11193 bytes_read=2639570 bytes_retransmit=0 bytes_invalid=0 send_seq=1605 receive_seq=1605 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49816755 adj=49900461  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.67 cputime=25.293 memavail=3298064 print_time=340.070 buffer_time=4.506 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Resetting prediction variance 7617.961: freq=49816755 diff=2038829 stddev=50000.000
Stats 7618.8: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=587919 bytes_read=77522 bytes_retransmit=0 bytes_invalid=0 send_seq=10338 receive_seq=10338 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=49 upcoming_bytes=0 freq=71998427 rpi: mcu_awake=0.288 mcu_task_avg=0.000035 mcu_task_stddev=0.000016 bytes_write=11269 bytes_read=2659660 bytes_retransmit=0 bytes_invalid=0 send_seq=1616 receive_seq=1616 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49819363 adj=49833360  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.62 cputime=25.395 memavail=3298612 print_time=340.070 buffer_time=3.505 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Resetting prediction variance 7618.945: freq=49819363 diff=2027276 stddev=50000.000
Stats 7619.8: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=587974 bytes_read=77643 bytes_retransmit=0 bytes_invalid=0 send_seq=10339 receive_seq=10339 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998427 rpi: mcu_awake=0.188 mcu_task_avg=0.000032 mcu_task_stddev=0.000015 bytes_write=11345 bytes_read=2679782 bytes_retransmit=0 bytes_invalid=0 send_seq=1627 receive_seq=1627 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49821898 adj=49851604  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.62 cputime=25.486 memavail=3298108 print_time=340.070 buffer_time=2.505 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Resetting prediction variance 7619.930: freq=49821898 diff=2017325 stddev=50000.000
Stats 7620.8: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=588910 bytes_read=77824 bytes_retransmit=0 bytes_invalid=0 send_seq=10355 receive_seq=10355 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=24 upcoming_bytes=0 freq=71998423 rpi: mcu_awake=0.188 mcu_task_avg=0.000032 mcu_task_stddev=0.000015 bytes_write=11421 bytes_read=2699948 bytes_retransmit=0 bytes_invalid=0 send_seq=1638 receive_seq=1638 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49824369 adj=49869187  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.62 cputime=25.589 memavail=3298108 print_time=340.586 buffer_time=2.019 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 10 Hz
Resetting prediction variance 7620.915: freq=49824369 diff=2008559 stddev=50000.000
Stats 7621.8: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=590977 bytes_read=78110 bytes_retransmit=0 bytes_invalid=0 send_seq=10389 receive_seq=10389 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=0 freq=71998425 rpi: mcu_awake=0.188 mcu_task_avg=0.000032 mcu_task_stddev=0.000015 bytes_write=11497 bytes_read=2720054 bytes_retransmit=0 bytes_invalid=0 send_seq=1649 receive_seq=1649 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49826781 adj=49886996  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.62 cputime=25.689 memavail=3298108 print_time=341.612 buffer_time=2.044 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 11 Hz
Resetting prediction variance 7621.900: freq=49826781 diff=2002013 stddev=50000.000
Stats 7622.9: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000023 mcu_task_stddev=0.000023 bytes_write=593146 bytes_read=78401 bytes_retransmit=0 bytes_invalid=0 send_seq=10424 receive_seq=10424 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=31 upcoming_bytes=0 freq=71998427 rpi: mcu_awake=0.188 mcu_task_avg=0.000032 mcu_task_stddev=0.000015 bytes_write=11573 bytes_read=2740160 bytes_retransmit=0 bytes_invalid=0 send_seq=1660 receive_seq=1660 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49829143 adj=49906019  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.62 cputime=25.801 memavail=3298532 print_time=342.654 buffer_time=2.086 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Resetting prediction variance 7622.891: freq=49829143 diff=1999204 stddev=50000.000
Testing frequency 12 Hz
Stats 7623.9: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000024 mcu_task_stddev=0.000023 bytes_write=595372 bytes_read=78697 bytes_retransmit=0 bytes_invalid=0 send_seq=10460 receive_seq=10460 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=49 upcoming_bytes=0 freq=71998427 rpi: mcu_awake=0.188 mcu_task_avg=0.000032 mcu_task_stddev=0.000015 bytes_write=11649 bytes_read=2760266 bytes_retransmit=0 bytes_invalid=0 send_seq=1671 receive_seq=1671 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49831462 adj=49926673  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.65 cputime=25.959 memavail=3286512 print_time=343.670 buffer_time=2.101 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Resetting prediction variance 7623.875: freq=49831462 diff=1986696 stddev=50000.000
Testing frequency 13 Hz
Stats 7624.9: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000024 mcu_task_stddev=0.000023 bytes_write=597621 bytes_read=79008 bytes_retransmit=0 bytes_invalid=0 send_seq=10496 receive_seq=10496 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=24 upcoming_bytes=0 freq=71998427 rpi: mcu_awake=0.566 mcu_task_avg=0.000034 mcu_task_stddev=0.000015 bytes_write=11725 bytes_read=2780390 bytes_retransmit=0 bytes_invalid=0 send_seq=1682 receive_seq=1682 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49833730 adj=49949431  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.65 cputime=26.097 memavail=3259548 print_time=344.665 buffer_time=2.096 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Resetting prediction variance 7624.860: freq=49833730 diff=1977822 stddev=50000.000
Testing frequency 14 Hz
Resetting prediction variance 7625.845: freq=49835956 diff=1969267 stddev=50000.000
Stats 7625.9: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000024 mcu_task_stddev=0.000023 bytes_write=600077 bytes_read=79320 bytes_retransmit=0 bytes_invalid=0 send_seq=10536 receive_seq=10536 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998425 rpi: mcu_awake=0.566 mcu_task_avg=0.000034 mcu_task_stddev=0.000015 bytes_write=11807 bytes_read=2800512 bytes_retransmit=0 bytes_invalid=0 send_seq=1694 receive_seq=1694 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49838143 adj=49974755  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.65 cputime=26.237 memavail=3246948 print_time=345.695 buffer_time=2.125 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 15 Hz
Resetting prediction variance 7626.829: freq=49838143 diff=1961499 stddev=50000.000
Stats 7626.9: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000024 mcu_task_stddev=0.000023 bytes_write=602454 bytes_read=79616 bytes_retransmit=0 bytes_invalid=0 send_seq=10575 receive_seq=10575 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998423 rpi: mcu_awake=0.566 mcu_task_avg=0.000034 mcu_task_stddev=0.000015 bytes_write=11883 bytes_read=2820678 bytes_retransmit=0 bytes_invalid=0 send_seq=1705 receive_seq=1705 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49840293 adj=50032085  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.65 cputime=26.371 memavail=3238820 print_time=346.689 buffer_time=2.118 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 16 Hz
Resetting prediction variance 7627.814: freq=49840293 diff=1953855 stddev=50000.000
Stats 7627.9: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000024 mcu_task_stddev=0.000023 bytes_write=604921 bytes_read=79952 bytes_retransmit=0 bytes_invalid=0 send_seq=10616 receive_seq=10616 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998420 rpi: mcu_awake=0.566 mcu_task_avg=0.000034 mcu_task_stddev=0.000015 bytes_write=11959 bytes_read=2840784 bytes_retransmit=0 bytes_invalid=0 send_seq=1716 receive_seq=1716 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49842410 adj=50037981  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.65 cputime=26.473 memavail=3238900 print_time=347.698 buffer_time=2.127 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 17 Hz
Resetting prediction variance 7628.799: freq=49842410 diff=1946444 stddev=50000.000
Stats 7628.9: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=607655 bytes_read=80293 bytes_retransmit=0 bytes_invalid=0 send_seq=10661 receive_seq=10661 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998417 rpi: mcu_awake=0.566 mcu_task_avg=0.000034 mcu_task_stddev=0.000015 bytes_write=12035 bytes_read=2860890 bytes_retransmit=0 bytes_invalid=0 send_seq=1727 receive_seq=1727 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49844496 adj=50028868  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.68 cputime=26.580 memavail=3299996 print_time=348.707 buffer_time=2.135 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 18 Hz
Resetting prediction variance 7629.783: freq=49844496 diff=1937619 stddev=50000.000
Stats 7629.9: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=610253 bytes_read=80614 bytes_retransmit=0 bytes_invalid=0 send_seq=10705 receive_seq=10705 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998415 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=12111 bytes_read=2881013 bytes_retransmit=0 bytes_invalid=0 send_seq=1738 receive_seq=1738 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49846552 adj=50021721  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.68 cputime=26.682 memavail=3299528 print_time=349.714 buffer_time=2.142 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 19 Hz
Resetting prediction variance 7630.767: freq=49846552 diff=1929338 stddev=50000.000
Stats 7630.9: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=613328 bytes_read=81000 bytes_retransmit=0 bytes_invalid=0 send_seq=10756 receive_seq=10756 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998414 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=12187 bytes_read=2901119 bytes_retransmit=0 bytes_invalid=0 send_seq=1749 receive_seq=1749 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49848580 adj=50016130  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.68 cputime=26.783 memavail=3299528 print_time=350.721 buffer_time=2.149 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 20 Hz
Resetting prediction variance 7631.752: freq=49848580 diff=1920353 stddev=50000.000
Stats 7631.9: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=616131 bytes_read=81341 bytes_retransmit=0 bytes_invalid=0 send_seq=10804 receive_seq=10804 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998411 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=12263 bytes_read=2921225 bytes_retransmit=0 bytes_invalid=0 send_seq=1760 receive_seq=1760 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49850582 adj=50011745  heater_bed: target=0 temp=20.7 pwm=0.000 sysload=0.68 cputime=26.884 memavail=3299528 print_time=351.727 buffer_time=2.153 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 21 Hz
Resetting prediction variance 7632.737: freq=49850582 diff=1911669 stddev=50000.000
Stats 7632.9: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=619175 bytes_read=81687 bytes_retransmit=0 bytes_invalid=0 send_seq=10853 receive_seq=10853 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998410 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=12339 bytes_read=2941331 bytes_retransmit=0 bytes_invalid=0 send_seq=1771 receive_seq=1771 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49852558 adj=50008443  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.68 cputime=26.988 memavail=3299528 print_time=352.744 buffer_time=2.170 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 22 Hz
Resetting prediction variance 7633.722: freq=49852558 diff=1923578 stddev=50000.000
Stats 7633.9: gcodein=0  mcu: mcu_awake=0.014 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=621975 bytes_read=82073 bytes_retransmit=0 bytes_invalid=0 send_seq=10901 receive_seq=10901 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998411 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=12408 bytes_read=2961414 bytes_retransmit=0 bytes_invalid=0 send_seq=1781 receive_seq=1781 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49854532 adj=50004675  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.62 cputime=27.111 memavail=3299528 print_time=353.737 buffer_time=2.163 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 23 Hz
Resetting prediction variance 7634.706: freq=49854532 diff=1890647 stddev=50000.000
Stats 7634.9: gcodein=0  mcu: mcu_awake=0.014 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=625026 bytes_read=82424 bytes_retransmit=0 bytes_invalid=0 send_seq=10951 receive_seq=10951 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998410 rpi: mcu_awake=0.563 mcu_task_avg=0.000034 mcu_task_stddev=0.000015 bytes_write=12484 bytes_read=2981538 bytes_retransmit=0 bytes_invalid=0 send_seq=1792 receive_seq=1792 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49856459 adj=50004303  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.62 cputime=27.269 memavail=3299284 print_time=354.731 buffer_time=2.156 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 24 Hz
Resetting prediction variance 7635.691: freq=49856459 diff=1879334 stddev=50000.000
Stats 7635.9: gcodein=0  mcu: mcu_awake=0.014 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=628542 bytes_read=82810 bytes_retransmit=0 bytes_invalid=0 send_seq=11008 receive_seq=11008 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998409 rpi: mcu_awake=0.563 mcu_task_avg=0.000034 mcu_task_stddev=0.000015 bytes_write=12560 bytes_read=3001644 bytes_retransmit=0 bytes_invalid=0 send_seq=1803 receive_seq=1803 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49858362 adj=50003747  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.62 cputime=27.371 memavail=3299284 print_time=355.756 buffer_time=2.181 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000
Testing frequency 25 Hz
Resetting prediction variance 7636.676: freq=49858362 diff=1868687 stddev=50000.000
Stats 7636.9: gcodein=0  mcu: mcu_awake=0.014 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=631649 bytes_read=83206 bytes_retransmit=0 bytes_invalid=0 send_seq=11061 receive_seq=11061 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998408 rpi: mcu_awake=0.563 mcu_task_avg=0.000034 mcu_task_stddev=0.000015 bytes_write=12636 bytes_read=3021750 bytes_retransmit=0 bytes_invalid=0 send_seq=1814 receive_seq=1814 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49860244 adj=50000438  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.62 cputime=27.475 memavail=3299284 print_time=356.759 buffer_time=2.184 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 26 Hz
Resetting prediction variance 7637.660: freq=49860244 diff=1857838 stddev=50000.000
Stats 7637.9: gcodein=0  mcu: mcu_awake=0.014 mcu_task_avg=0.000025 mcu_task_stddev=0.000024 bytes_write=634701 bytes_read=83572 bytes_retransmit=0 bytes_invalid=0 send_seq=11114 receive_seq=11114 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998408 rpi: mcu_awake=0.563 mcu_task_avg=0.000034 mcu_task_stddev=0.000015 bytes_write=12712 bytes_read=3041916 bytes_retransmit=0 bytes_invalid=0 send_seq=1825 receive_seq=1825 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49862104 adj=49999827  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.62 cputime=27.582 memavail=3299284 print_time=357.762 buffer_time=2.186 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 27 Hz
Resetting prediction variance 7638.645: freq=49862104 diff=1847089 stddev=50000.000
Stats 7638.9: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000025 mcu_task_stddev=0.000023 bytes_write=638087 bytes_read=83958 bytes_retransmit=0 bytes_invalid=0 send_seq=11168 receive_seq=11168 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998417 rpi: mcu_awake=0.563 mcu_task_avg=0.000034 mcu_task_stddev=0.000015 bytes_write=12788 bytes_read=3062022 bytes_retransmit=0 bytes_invalid=0 send_seq=1836 receive_seq=1836 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49863946 adj=49999482  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.65 cputime=27.711 memavail=3276100 print_time=358.747 buffer_time=2.170 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 28 Hz
Resetting prediction variance 7639.630: freq=49863946 diff=1834939 stddev=50000.000
Stats 7639.9: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000025 mcu_task_stddev=0.000023 bytes_write=641667 bytes_read=84372 bytes_retransmit=0 bytes_invalid=0 send_seq=11226 receive_seq=11226 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998418 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=12864 bytes_read=3082145 bytes_retransmit=0 bytes_invalid=0 send_seq=1847 receive_seq=1847 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49865767 adj=50000790  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.65 cputime=27.859 memavail=3259472 print_time=359.768 buffer_time=2.190 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 29 Hz
Resetting prediction variance 7640.614: freq=49865767 diff=1820174 stddev=50000.000
Stats 7640.9: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000025 mcu_task_stddev=0.000023 bytes_write=644660 bytes_read=84716 bytes_retransmit=0 bytes_invalid=0 send_seq=11276 receive_seq=11276 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998419 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=12940 bytes_read=3102311 bytes_retransmit=0 bytes_invalid=0 send_seq=1858 receive_seq=1858 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49867566 adj=49998888  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.65 cputime=27.995 memavail=3238808 print_time=360.762 buffer_time=2.183 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 30 Hz
Resetting prediction variance 7641.599: freq=49867566 diff=1808419 stddev=50000.000
Stats 7641.9: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000025 mcu_task_stddev=0.000023 bytes_write=647611 bytes_read=85060 bytes_retransmit=0 bytes_invalid=0 send_seq=11326 receive_seq=11326 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=45 upcoming_bytes=0 freq=71998419 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=13016 bytes_read=3122357 bytes_retransmit=0 bytes_invalid=0 send_seq=1869 receive_seq=1869 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49869347 adj=49999668  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.65 cputime=28.123 memavail=3239312 print_time=361.772 buffer_time=2.193 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 31 Hz
Resetting prediction variance 7642.583: freq=49869347 diff=1792569 stddev=50000.000
Stats 7642.9: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000025 mcu_task_stddev=0.000023 bytes_write=651191 bytes_read=85484 bytes_retransmit=0 bytes_invalid=0 send_seq=11386 receive_seq=11386 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=0 freq=71998419 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=13092 bytes_read=3142523 bytes_retransmit=0 bytes_invalid=0 send_seq=1880 receive_seq=1880 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49871107 adj=49999005  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.65 cputime=28.234 memavail=3299592 print_time=362.759 buffer_time=2.178 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 32 Hz
Resetting prediction variance 7643.568: freq=49871107 diff=1778499 stddev=50000.000
Stats 7643.9: gcodein=0  mcu: mcu_awake=0.017 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=655204 bytes_read=85925 bytes_retransmit=0 bytes_invalid=0 send_seq=11451 receive_seq=11451 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=31 upcoming_bytes=0 freq=71998419 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=13168 bytes_read=3162629 bytes_retransmit=0 bytes_invalid=0 send_seq=1891 receive_seq=1891 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49872847 adj=50000524  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.60 cputime=28.337 memavail=3299668 print_time=363.777 buffer_time=2.195 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 33 Hz
Resetting prediction variance 7644.552: freq=49872847 diff=1763977 stddev=50000.000
Stats 7644.9: gcodein=0  mcu: mcu_awake=0.017 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=659106 bytes_read=86351 bytes_retransmit=0 bytes_invalid=0 send_seq=11516 receive_seq=11516 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=0 freq=71998418 rpi: mcu_awake=0.532 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=13244 bytes_read=3182752 bytes_retransmit=0 bytes_invalid=0 send_seq=1902 receive_seq=1902 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49874570 adj=49999231  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.60 cputime=28.444 memavail=3299420 print_time=364.764 buffer_time=2.181 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 34 Hz
Resetting prediction variance 7645.537: freq=49874570 diff=1748906 stddev=50000.000
Stats 7645.9: gcodein=0  mcu: mcu_awake=0.017 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=662719 bytes_read=86782 bytes_retransmit=0 bytes_invalid=0 send_seq=11576 receive_seq=11576 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=53 upcoming_bytes=0 freq=71998416 rpi: mcu_awake=0.532 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=13320 bytes_read=3202858 bytes_retransmit=0 bytes_invalid=0 send_seq=1913 receive_seq=1913 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49876273 adj=50000741  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.60 cputime=28.593 memavail=3299428 print_time=365.780 buffer_time=2.198 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 35 Hz
Resetting prediction variance 7646.521: freq=49876273 diff=1733992 stddev=50000.000
Stats 7646.9: gcodein=0  mcu: mcu_awake=0.017 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=666010 bytes_read=87163 bytes_retransmit=0 bytes_invalid=0 send_seq=11632 receive_seq=11632 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=53 upcoming_bytes=0 freq=71998414 rpi: mcu_awake=0.532 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=13396 bytes_read=3223024 bytes_retransmit=0 bytes_invalid=0 send_seq=1924 receive_seq=1924 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49877959 adj=49999673  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.60 cputime=28.700 memavail=3299180 print_time=366.775 buffer_time=2.191 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 36 Hz
Resetting prediction variance 7647.506: freq=49877959 diff=1717533 stddev=50000.000
Stats 7647.9: gcodein=0  mcu: mcu_awake=0.017 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=669473 bytes_read=87559 bytes_retransmit=0 bytes_invalid=0 send_seq=11691 receive_seq=11691 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=18 upcoming_bytes=0 freq=71998413 rpi: mcu_awake=0.532 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=13472 bytes_read=3243130 bytes_retransmit=0 bytes_invalid=0 send_seq=1935 receive_seq=1935 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49879625 adj=50000629  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.60 cputime=28.809 memavail=3298676 print_time=367.783 buffer_time=2.199 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 37 Hz
Resetting prediction variance 7648.491: freq=49879625 diff=1701705 stddev=50000.000
Stats 7648.9: gcodein=0  mcu: mcu_awake=0.018 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=672971 bytes_read=88005 bytes_retransmit=0 bytes_invalid=0 send_seq=11751 receive_seq=11751 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=19 upcoming_bytes=0 freq=71998411 rpi: mcu_awake=0.532 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=13548 bytes_read=3263236 bytes_retransmit=0 bytes_invalid=0 send_seq=1946 receive_seq=1946 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49881274 adj=50000340  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.63 cputime=28.915 memavail=3298176 print_time=368.785 buffer_time=2.200 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 38 Hz
Resetting prediction variance 7649.476: freq=49881274 diff=1685429 stddev=50000.000
Stats 7649.9: gcodein=0  mcu: mcu_awake=0.018 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=676890 bytes_read=88431 bytes_retransmit=0 bytes_invalid=0 send_seq=11816 receive_seq=11816 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=24 upcoming_bytes=0 freq=71998411 rpi: mcu_awake=0.495 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=13617 bytes_read=3283336 bytes_retransmit=0 bytes_invalid=0 send_seq=1956 receive_seq=1956 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49882906 adj=50000712  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.63 cputime=29.031 memavail=3297924 print_time=369.786 buffer_time=2.201 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000
Testing frequency 39 Hz
Resetting prediction variance 7650.461: freq=49882906 diff=1672015 stddev=50000.000
Stats 7650.9: gcodein=0  mcu: mcu_awake=0.018 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=681214 bytes_read=88887 bytes_retransmit=0 bytes_invalid=0 send_seq=11887 receive_seq=11887 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=56 upcoming_bytes=0 freq=71998413 rpi: mcu_awake=0.495 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=13693 bytes_read=3303442 bytes_retransmit=0 bytes_invalid=0 send_seq=1967 receive_seq=1967 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49884522 adj=50001061  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.63 cputime=29.224 memavail=3297204 print_time=370.788 buffer_time=2.202 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 40 Hz
Resetting prediction variance 7651.445: freq=49884522 diff=1653251 stddev=50000.000
Stats 7651.9: gcodein=0  mcu: mcu_awake=0.018 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=685280 bytes_read=89363 bytes_retransmit=0 bytes_invalid=0 send_seq=11956 receive_seq=11956 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=22 upcoming_bytes=565 freq=71998411 rpi: mcu_awake=0.495 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=13769 bytes_read=3323548 bytes_retransmit=0 bytes_invalid=0 send_seq=1978 receive_seq=1978 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49886119 adj=50001418  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.63 cputime=29.418 memavail=3296700 print_time=371.789 buffer_time=2.202 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 41 Hz
Resetting prediction variance 7652.430: freq=49886119 diff=1639148 stddev=50000.000
Stats 7652.9: gcodein=0  mcu: mcu_awake=0.018 mcu_task_avg=0.000026 mcu_task_stddev=0.000024 bytes_write=689568 bytes_read=89824 bytes_retransmit=0 bytes_invalid=0 send_seq=12028 receive_seq=12028 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=57 upcoming_bytes=932 freq=71998410 rpi: mcu_awake=0.495 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=13845 bytes_read=3343654 bytes_retransmit=0 bytes_invalid=0 send_seq=1989 receive_seq=1989 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49887702 adj=50001795  heater_bed: target=0 temp=20.7 pwm=0.000 sysload=0.63 cputime=29.623 memavail=3295944 print_time=372.778 buffer_time=2.190 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 42 Hz
Resetting prediction variance 7653.414: freq=49887702 diff=1616222 stddev=50000.000
Stats 7653.9: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000031 mcu_task_stddev=0.000023 bytes_write=694511 bytes_read=90360 bytes_retransmit=0 bytes_invalid=0 send_seq=12112 receive_seq=12112 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=77 freq=71998408 rpi: mcu_awake=0.495 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=13921 bytes_read=3363820 bytes_retransmit=0 bytes_invalid=0 send_seq=2000 receive_seq=2000 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49889262 adj=50003048  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.74 cputime=29.794 memavail=3265960 print_time=373.791 buffer_time=2.202 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 43 Hz
Resetting prediction variance 7654.399: freq=49889262 diff=1598415 stddev=50000.000
Stats 7654.9: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000031 mcu_task_stddev=0.000023 bytes_write=698660 bytes_read=90846 bytes_retransmit=0 bytes_invalid=0 send_seq=12183 receive_seq=12183 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=0 freq=71998408 rpi: mcu_awake=0.743 mcu_task_avg=0.000045 mcu_task_stddev=0.000018 bytes_write=13997 bytes_read=3383991 bytes_retransmit=0 bytes_invalid=0 send_seq=2011 receive_seq=2011 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49890804 adj=50002315  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.74 cputime=29.948 memavail=3253612 print_time=374.786 buffer_time=2.197 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 44 Hz
Resetting prediction variance 7655.384: freq=49890804 diff=1579373 stddev=50000.000
Stats 7655.9: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000031 mcu_task_stddev=0.000023 bytes_write=702856 bytes_read=91307 bytes_retransmit=0 bytes_invalid=0 send_seq=12255 receive_seq=12255 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=0 freq=71998405 rpi: mcu_awake=0.743 mcu_task_avg=0.000045 mcu_task_stddev=0.000018 bytes_write=14073 bytes_read=3404438 bytes_retransmit=0 bytes_invalid=0 send_seq=2022 receive_seq=2022 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49892328 adj=50002990  heater_bed: target=0 temp=20.4 pwm=0.000 sysload=0.74 cputime=30.103 memavail=3231816 print_time=375.793 buffer_time=2.203 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 45 Hz
Resetting prediction variance 7656.369: freq=49892328 diff=1560990 stddev=50000.000
Stats 7656.9: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000031 mcu_task_stddev=0.000023 bytes_write=707060 bytes_read=91768 bytes_retransmit=0 bytes_invalid=0 send_seq=12327 receive_seq=12327 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=53 upcoming_bytes=0 freq=71998403 rpi: mcu_awake=0.743 mcu_task_avg=0.000045 mcu_task_stddev=0.000018 bytes_write=14149 bytes_read=3424885 bytes_retransmit=0 bytes_invalid=0 send_seq=2033 receive_seq=2033 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49893834 adj=50002776  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.74 cputime=30.226 memavail=3232068 print_time=376.789 buffer_time=2.198 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 46 Hz
Resetting prediction variance 7657.353: freq=49893834 diff=1543947 stddev=50000.000
Stats 7657.9: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000031 mcu_task_stddev=0.000023 bytes_write=711483 bytes_read=92279 bytes_retransmit=0 bytes_invalid=0 send_seq=12403 receive_seq=12403 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=3 upcoming_bytes=0 freq=71998401 rpi: mcu_awake=0.743 mcu_task_avg=0.000045 mcu_task_stddev=0.000018 bytes_write=14225 bytes_read=3445393 bytes_retransmit=0 bytes_invalid=0 send_seq=2044 receive_seq=2044 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49895325 adj=50003410  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.74 cputime=30.343 memavail=3293604 print_time=377.795 buffer_time=2.204 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 47 Hz
Resetting prediction variance 7658.337: freq=49895325 diff=1524619 stddev=50000.000
Stats 7658.9: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000028 mcu_task_stddev=0.000023 bytes_write=715868 bytes_read=92770 bytes_retransmit=0 bytes_invalid=0 send_seq=12478 receive_seq=12478 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998398 rpi: mcu_awake=0.743 mcu_task_avg=0.000045 mcu_task_stddev=0.000018 bytes_write=14301 bytes_read=3465840 bytes_retransmit=0 bytes_invalid=0 send_seq=2055 receive_seq=2055 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49896797 adj=50003237  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.68 cputime=30.457 memavail=3292916 print_time=378.796 buffer_time=2.204 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 48 Hz
Resetting prediction variance 7659.321: freq=49896797 diff=1504549 stddev=50000.000
Stats 7659.9: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000028 mcu_task_stddev=0.000023 bytes_write=720301 bytes_read=93241 bytes_retransmit=0 bytes_invalid=0 send_seq=12553 receive_seq=12552 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=22 upcoming_bytes=202 freq=71998397 rpi: mcu_awake=0.524 mcu_task_avg=0.000031 mcu_task_stddev=0.000012 bytes_write=14377 bytes_read=3486304 bytes_retransmit=0 bytes_invalid=0 send_seq=2066 receive_seq=2066 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49898250 adj=50003479  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.68 cputime=30.576 memavail=3292160 print_time=379.792 buffer_time=2.199 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 49 Hz
Resetting prediction variance 7660.306: freq=49898250 diff=1485777 stddev=50000.000
Stats 7660.9: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000028 mcu_task_stddev=0.000023 bytes_write=724389 bytes_read=93707 bytes_retransmit=0 bytes_invalid=0 send_seq=12620 receive_seq=12619 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=24 upcoming_bytes=1152 freq=71998395 rpi: mcu_awake=0.524 mcu_task_avg=0.000031 mcu_task_stddev=0.000012 bytes_write=14453 bytes_read=3506741 bytes_retransmit=0 bytes_invalid=0 send_seq=2077 receive_seq=2077 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49899687 adj=50003978  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.68 cputime=30.698 memavail=3291656 print_time=380.788 buffer_time=2.195 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 50 Hz
Resetting prediction variance 7661.291: freq=49899687 diff=1466098 stddev=50000.000
Stats 7661.9: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000028 mcu_task_stddev=0.000023 bytes_write=728645 bytes_read=94158 bytes_retransmit=0 bytes_invalid=0 send_seq=12690 receive_seq=12689 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=31 upcoming_bytes=2104 freq=71998397 rpi: mcu_awake=0.524 mcu_task_avg=0.000031 mcu_task_stddev=0.000012 bytes_write=14529 bytes_read=3527176 bytes_retransmit=0 bytes_invalid=0 send_seq=2088 receive_seq=2088 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49901105 adj=50004393  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.68 cputime=30.825 memavail=3290900 print_time=381.798 buffer_time=2.205 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 51 Hz
Resetting prediction variance 7662.275: freq=49901105 diff=1447276 stddev=50000.000
Stats 7662.9: gcodein=0  mcu: mcu_awake=0.020 mcu_task_avg=0.000028 mcu_task_stddev=0.000023 bytes_write=733873 bytes_read=94699 bytes_retransmit=0 bytes_invalid=0 send_seq=12777 receive_seq=12777 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=51 upcoming_bytes=1781 freq=71998395 rpi: mcu_awake=0.524 mcu_task_avg=0.000031 mcu_task_stddev=0.000012 bytes_write=14605 bytes_read=3547673 bytes_retransmit=0 bytes_invalid=0 send_seq=2099 receive_seq=2099 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49902506 adj=50003752  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.68 cputime=30.957 memavail=3288632 print_time=382.794 buffer_time=2.201 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 52 Hz
Resetting prediction variance 7663.260: freq=49902506 diff=1213196 stddev=50000.000
Stats 7663.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000037 mcu_task_stddev=0.000022 bytes_write=739463 bytes_read=95316 bytes_retransmit=0 bytes_invalid=0 send_seq=12871 receive_seq=12871 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=41 upcoming_bytes=1303 freq=71998396 rpi: mcu_awake=0.524 mcu_task_avg=0.000031 mcu_task_stddev=0.000012 bytes_write=14674 bytes_read=3568147 bytes_retransmit=0 bytes_invalid=0 send_seq=2109 receive_seq=2109 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49903682 adj=50004210  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.71 cputime=31.151 memavail=3287628 print_time=383.800 buffer_time=2.202 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 53 Hz
Stats 7664.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000037 mcu_task_stddev=0.000022 bytes_write=744316 bytes_read=95812 bytes_retransmit=0 bytes_invalid=0 send_seq=12951 receive_seq=12950 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=27 upcoming_bytes=1292 freq=71998393 rpi: mcu_awake=0.579 mcu_task_avg=0.000035 mcu_task_stddev=0.000014 bytes_write=14750 bytes_read=3588601 bytes_retransmit=0 bytes_invalid=0 send_seq=2120 receive_seq=2120 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49903462 adj=50001355  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.71 cputime=31.338 memavail=3286976 print_time=384.791 buffer_time=2.192 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 54 Hz
Resetting prediction variance 7665.231: freq=49903462 diff=-1412637 stddev=63811.584
Stats 7665.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000037 mcu_task_stddev=0.000022 bytes_write=749249 bytes_read=96318 bytes_retransmit=0 bytes_invalid=0 send_seq=13031 receive_seq=13031 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=476 freq=71998395 rpi: mcu_awake=0.579 mcu_task_avg=0.000035 mcu_task_stddev=0.000014 bytes_write=14826 bytes_read=3609102 bytes_retransmit=0 bytes_invalid=0 send_seq=2131 receive_seq=2131 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49902090 adj=49981431  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.71 cputime=31.467 memavail=3285716 print_time=385.801 buffer_time=2.200 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 55 Hz
Resetting prediction variance 7666.216: freq=49902090 diff=-2365642 stddev=50000.000
Stats 7666.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000037 mcu_task_stddev=0.000022 bytes_write=753841 bytes_read=96824 bytes_retransmit=0 bytes_invalid=0 send_seq=13106 receive_seq=13106 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998392 rpi: mcu_awake=0.579 mcu_task_avg=0.000035 mcu_task_stddev=0.000014 bytes_write=14902 bytes_read=3629549 bytes_retransmit=0 bytes_invalid=0 send_seq=2142 receive_seq=2142 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49899789 adj=49948836  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.71 cputime=31.587 memavail=3285716 print_time=386.802 buffer_time=2.200 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 56 Hz
Resetting prediction variance 7667.201: freq=49899789 diff=-3118886 stddev=50000.000
Stats 7667.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000037 mcu_task_stddev=0.000022 bytes_write=758053 bytes_read=97270 bytes_retransmit=0 bytes_invalid=0 send_seq=13175 receive_seq=13175 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=3 upcoming_bytes=0 freq=71998389 rpi: mcu_awake=0.579 mcu_task_avg=0.000035 mcu_task_stddev=0.000014 bytes_write=14978 bytes_read=3649996 bytes_retransmit=0 bytes_invalid=0 send_seq=2153 receive_seq=2153 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49896752 adj=49910106  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.71 cputime=31.705 memavail=3285716 print_time=387.802 buffer_time=2.200 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 57 Hz
Resetting prediction variance 7668.187: freq=49896752 diff=-3700138 stddev=50000.000
Stats 7668.9: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000034 mcu_task_stddev=0.000023 bytes_write=762260 bytes_read=97731 bytes_retransmit=0 bytes_invalid=0 send_seq=13244 receive_seq=13244 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=25 upcoming_bytes=0 freq=71998387 rpi: mcu_awake=0.579 mcu_task_avg=0.000035 mcu_task_stddev=0.000014 bytes_write=15042 bytes_read=3670475 bytes_retransmit=0 bytes_invalid=0 send_seq=2162 receive_seq=2162 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49893143 adj=49868292  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.73 cputime=31.848 memavail=3256488 print_time=388.803 buffer_time=2.199 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 58 Hz
Resetting prediction variance 7669.173: freq=49893143 diff=-4140260 stddev=50000.000
Stats 7669.9: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000034 mcu_task_stddev=0.000023 bytes_write=766546 bytes_read=98212 bytes_retransmit=0 bytes_invalid=0 send_seq=13314 receive_seq=13314 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=51 upcoming_bytes=0 freq=71998389 rpi: mcu_awake=0.530 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=15118 bytes_read=3690939 bytes_retransmit=0 bytes_invalid=0 send_seq=2173 receive_seq=2173 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49889099 adj=49825980  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.73 cputime=32.017 memavail=3242388 print_time=389.804 buffer_time=2.198 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 59 Hz
Resetting prediction variance 7670.158: freq=49889099 diff=-4460078 stddev=50000.000
Stats 7670.9: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000034 mcu_task_stddev=0.000023 bytes_write=770904 bytes_read=98668 bytes_retransmit=0 bytes_invalid=0 send_seq=13385 receive_seq=13385 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=44 upcoming_bytes=0 freq=71998387 rpi: mcu_awake=0.530 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=15194 bytes_read=3711447 bytes_retransmit=0 bytes_invalid=0 send_seq=2184 receive_seq=2184 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49884737 adj=49784980  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.73 cputime=32.180 memavail=3220216 print_time=390.796 buffer_time=2.189 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 60 Hz
Resetting prediction variance 7671.143: freq=49884737 diff=-4665881 stddev=50000.000
Stats 7671.9: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000034 mcu_task_stddev=0.000023 bytes_write=775384 bytes_read=99129 bytes_retransmit=0 bytes_invalid=0 send_seq=13458 receive_seq=13457 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=27 upcoming_bytes=17 freq=71998386 rpi: mcu_awake=0.530 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=15270 bytes_read=3731894 bytes_retransmit=0 bytes_invalid=0 send_seq=2195 receive_seq=2195 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49880166 adj=49745877  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.73 cputime=32.313 memavail=3221228 print_time=391.801 buffer_time=2.193 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 61 Hz
Resetting prediction variance 7672.128: freq=49880166 diff=-4797290 stddev=50000.000
Stats 7672.9: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000034 mcu_task_stddev=0.000023 bytes_write=779762 bytes_read=99615 bytes_retransmit=0 bytes_invalid=0 send_seq=13529 receive_seq=13528 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=146 freq=71998386 rpi: mcu_awake=0.530 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=15346 bytes_read=3752402 bytes_retransmit=0 bytes_invalid=0 send_seq=2206 receive_seq=2206 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49875459 adj=49711444  heater_bed: target=0 temp=20.7 pwm=0.000 sysload=0.73 cputime=32.439 memavail=3281300 print_time=392.797 buffer_time=2.188 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 62 Hz
Resetting prediction variance 7673.112: freq=49875459 diff=-4846321 stddev=50000.000
Stats 7673.9: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000031 mcu_task_stddev=0.000024 bytes_write=784193 bytes_read=100091 bytes_retransmit=0 bytes_invalid=0 send_seq=13601 receive_seq=13600 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=27 upcoming_bytes=323 freq=71998387 rpi: mcu_awake=0.530 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=15422 bytes_read=3772849 bytes_retransmit=0 bytes_invalid=0 send_seq=2217 receive_seq=2217 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49870696 adj=49679830  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.67 cputime=32.566 memavail=3281032 print_time=393.806 buffer_time=2.196 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 63 Hz
Resetting prediction variance 7674.102: freq=49870696 diff=-4833272 stddev=50000.000
Stats 7674.9: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000031 mcu_task_stddev=0.000024 bytes_write=788692 bytes_read=100577 bytes_retransmit=0 bytes_invalid=0 send_seq=13674 receive_seq=13674 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=442 freq=71998387 rpi: mcu_awake=0.528 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=15498 bytes_read=3793313 bytes_retransmit=0 bytes_invalid=0 send_seq=2228 receive_seq=2228 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49865937 adj=49653976  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.67 cputime=32.691 memavail=3280540 print_time=394.798 buffer_time=2.188 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 64 Hz
Resetting prediction variance 7675.096: freq=49865937 diff=-4771726 stddev=50000.000
Stats 7675.9: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000031 mcu_task_stddev=0.000024 bytes_write=793318 bytes_read=101068 bytes_retransmit=0 bytes_invalid=0 send_seq=13749 receive_seq=13749 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=25 upcoming_bytes=612 freq=71998394 rpi: mcu_awake=0.528 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=15574 bytes_read=3813821 bytes_retransmit=0 bytes_invalid=0 send_seq=2239 receive_seq=2239 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49861230 adj=49629986  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.67 cputime=32.819 memavail=3279784 print_time=395.807 buffer_time=2.192 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Resetting prediction variance 7676.081: freq=49861230 diff=-4661040 stddev=50000.000
Testing frequency 65 Hz
Stats 7676.9: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000031 mcu_task_stddev=0.000024 bytes_write=797964 bytes_read=101549 bytes_retransmit=0 bytes_invalid=0 send_seq=13825 receive_seq=13825 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=53 upcoming_bytes=732 freq=71998392 rpi: mcu_awake=0.528 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=15643 bytes_read=3834305 bytes_retransmit=0 bytes_invalid=0 send_seq=2249 receive_seq=2249 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49856624 adj=49612123  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.67 cputime=32.989 memavail=3279280 print_time=396.803 buffer_time=2.188 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Resetting prediction variance 7677.065: freq=49856624 diff=-4519999 stddev=50000.000
Testing frequency 66 Hz
Stats 7677.9: gcodein=0  mcu: mcu_awake=0.021 mcu_task_avg=0.000031 mcu_task_stddev=0.000024 bytes_write=802751 bytes_read=102050 bytes_retransmit=0 bytes_invalid=0 send_seq=13903 receive_seq=13902 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=894 freq=71998403 rpi: mcu_awake=0.528 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=15719 bytes_read=3854752 bytes_retransmit=0 bytes_invalid=0 send_seq=2260 receive_seq=2260 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49852150 adj=49596683  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.67 cputime=33.117 memavail=3278780 print_time=397.807 buffer_time=2.192 print_stall=0 extruder: target=0 temp=20.4 pwm=0.000
Resetting prediction variance 7678.049: freq=49852150 diff=-4347641 stddev=50000.000
Testing frequency 67 Hz
Stats 7678.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000039 mcu_task_stddev=0.000021 bytes_write=807693 bytes_read=102606 bytes_retransmit=0 bytes_invalid=0 send_seq=13988 receive_seq=13987 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=25 upcoming_bytes=1050 freq=71998401 rpi: mcu_awake=0.528 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=15795 bytes_read=3875199 bytes_retransmit=0 bytes_invalid=0 send_seq=2271 receive_seq=2271 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49847839 adj=49586235  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.62 cputime=33.247 memavail=3278024 print_time=398.804 buffer_time=2.188 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Resetting prediction variance 7679.034: freq=49847839 diff=-4154488 stddev=50000.000
Testing frequency 68 Hz
Stats 7679.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000039 mcu_task_stddev=0.000021 bytes_write=812377 bytes_read=103102 bytes_retransmit=0 bytes_invalid=0 send_seq=14066 receive_seq=14066 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=54 upcoming_bytes=2186 freq=71998398 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=15866 bytes_read=3895658 bytes_retransmit=0 bytes_invalid=0 send_seq=2281 receive_seq=2281 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49843712 adj=49577882  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.62 cputime=33.396 memavail=3277776 print_time=399.808 buffer_time=2.191 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Resetting prediction variance 7680.019: freq=49843712 diff=-3942298 stddev=50000.000
Testing frequency 69 Hz
Stats 7680.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000039 mcu_task_stddev=0.000021 bytes_write=817074 bytes_read=103603 bytes_retransmit=0 bytes_invalid=0 send_seq=14143 receive_seq=14143 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=33 upcoming_bytes=3347 freq=71998396 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=15942 bytes_read=3916105 bytes_retransmit=0 bytes_invalid=0 send_seq=2292 receive_seq=2292 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49839789 adj=49574015  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.62 cputime=33.617 memavail=3276264 print_time=400.802 buffer_time=2.184 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Resetting prediction variance 7681.004: freq=49839789 diff=-3718809 stddev=50000.000
Testing frequency 70 Hz
Stats 7681.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000039 mcu_task_stddev=0.000021 bytes_write=823051 bytes_read=104224 bytes_retransmit=0 bytes_invalid=0 send_seq=14244 receive_seq=14244 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=53 upcoming_bytes=2791 freq=71998395 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=16018 bytes_read=3936552 bytes_retransmit=0 bytes_invalid=0 send_seq=2303 receive_seq=2303 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49836082 adj=49570985  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.62 cputime=33.843 memavail=3275760 print_time=401.809 buffer_time=2.191 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Resetting prediction variance 7681.989: freq=49836082 diff=-3486992 stddev=50000.000
Testing frequency 71 Hz
Stats 7682.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000039 mcu_task_stddev=0.000021 bytes_write=829682 bytes_read=104890 bytes_retransmit=0 bytes_invalid=0 send_seq=14358 receive_seq=14357 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=23 upcoming_bytes=1617 freq=71998393 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=16094 bytes_read=3957060 bytes_retransmit=0 bytes_invalid=0 send_seq=2314 receive_seq=2314 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49832599 adj=49573016  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.62 cputime=34.082 memavail=3272988 print_time=402.806 buffer_time=2.187 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Resetting prediction variance 7682.974: freq=49832599 diff=-3249225 stddev=50000.000
Testing frequency 72 Hz
Stats 7683.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000043 mcu_task_stddev=0.000018 bytes_write=834944 bytes_read=105467 bytes_retransmit=0 bytes_invalid=0 send_seq=14446 receive_seq=14446 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=53 upcoming_bytes=1811 freq=71998394 rpi: mcu_awake=0.497 mcu_task_avg=0.000030 mcu_task_stddev=0.000010 bytes_write=16170 bytes_read=3977507 bytes_retransmit=0 bytes_invalid=0 send_seq=2325 receive_seq=2325 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49829348 adj=49575151  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.73 cputime=34.258 memavail=3242756 print_time=403.810 buffer_time=2.189 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Resetting prediction variance 7683.957: freq=49829348 diff=-3009151 stddev=50000.000
Testing frequency 73 Hz
Stats 7684.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000043 mcu_task_stddev=0.000018 bytes_write=840187 bytes_read=106028 bytes_retransmit=0 bytes_invalid=0 send_seq=14535 receive_seq=14535 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=40 upcoming_bytes=2720 freq=71998392 rpi: mcu_awake=0.750 mcu_task_avg=0.000045 mcu_task_stddev=0.000018 bytes_write=16246 bytes_read=3998033 bytes_retransmit=0 bytes_invalid=0 send_seq=2336 receive_seq=2336 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49826332 adj=49580493  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.73 cputime=34.444 memavail=3230940 print_time=404.807 buffer_time=2.186 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Resetting prediction variance 7684.942: freq=49826332 diff=-2766429 stddev=50000.000
Testing frequency 74 Hz
Stats 7685.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000043 mcu_task_stddev=0.000018 bytes_write=845236 bytes_read=106539 bytes_retransmit=0 bytes_invalid=0 send_seq=14618 receive_seq=14617 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=23 upcoming_bytes=2794 freq=71998391 rpi: mcu_awake=0.750 mcu_task_avg=0.000045 mcu_task_stddev=0.000018 bytes_write=16322 bytes_read=4018480 bytes_retransmit=0 bytes_invalid=0 send_seq=2347 receive_seq=2347 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49823554 adj=49586372  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.73 cputime=34.635 memavail=3210172 print_time=405.807 buffer_time=2.186 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Resetting prediction variance 7685.927: freq=49823554 diff=-2523938 stddev=50000.000
Testing frequency 75 Hz
Stats 7686.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000043 mcu_task_stddev=0.000018 bytes_write=851678 bytes_read=107220 bytes_retransmit=0 bytes_invalid=0 send_seq=14731 receive_seq=14730 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=832 freq=71998391 rpi: mcu_awake=0.750 mcu_task_avg=0.000045 mcu_task_stddev=0.000018 bytes_write=16391 bytes_read=4038903 bytes_retransmit=0 bytes_invalid=0 send_seq=2357 receive_seq=2357 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49821014 adj=49594275  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.73 cputime=34.771 memavail=3210780 print_time=406.807 buffer_time=2.186 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Resetting prediction variance 7686.912: freq=49821014 diff=-2287146 stddev=50000.000
Testing frequency 76 Hz
Resetting prediction variance 7687.897: freq=49818709 diff=-2052616 stddev=50000.000
Stats 7687.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000043 mcu_task_stddev=0.000018 bytes_write=856979 bytes_read=107822 bytes_retransmit=0 bytes_invalid=0 send_seq=14825 receive_seq=14825 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998387 rpi: mcu_awake=0.750 mcu_task_avg=0.000045 mcu_task_stddev=0.000018 bytes_write=16473 bytes_read=4059366 bytes_retransmit=0 bytes_invalid=0 send_seq=2369 receive_seq=2369 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49816636 adj=49603390  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.73 cputime=34.902 memavail=3271632 print_time=407.811 buffer_time=2.189 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 77 Hz
Resetting prediction variance 7688.882: freq=49816636 diff=-1822137 stddev=50000.000
Stats 7688.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000038 mcu_task_stddev=0.000020 bytes_write=861350 bytes_read=108324 bytes_retransmit=0 bytes_invalid=0 send_seq=14902 receive_seq=14902 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998385 rpi: mcu_awake=0.750 mcu_task_avg=0.000045 mcu_task_stddev=0.000018 bytes_write=16549 bytes_read=4079813 bytes_retransmit=0 bytes_invalid=0 send_seq=2380 receive_seq=2380 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49814792 adj=49587352  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.75 cputime=35.026 memavail=3270656 print_time=408.805 buffer_time=2.182 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 78 Hz
Resetting prediction variance 7689.867: freq=49814792 diff=-1595739 stddev=50000.000
Stats 7689.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000038 mcu_task_stddev=0.000020 bytes_write=865828 bytes_read=108835 bytes_retransmit=0 bytes_invalid=0 send_seq=14981 receive_seq=14981 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998383 rpi: mcu_awake=0.520 mcu_task_avg=0.000031 mcu_task_stddev=0.000012 bytes_write=16625 bytes_read=4100277 bytes_retransmit=0 bytes_invalid=0 send_seq=2391 receive_seq=2391 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49813174 adj=49605014  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.75 cputime=35.152 memavail=3269148 print_time=409.809 buffer_time=2.185 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000
Testing frequency 79 Hz
Resetting prediction variance 7690.851: freq=49813174 diff=-1381096 stddev=50000.000
Stats 7690.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000038 mcu_task_stddev=0.000020 bytes_write=870325 bytes_read=109346 bytes_retransmit=0 bytes_invalid=0 send_seq=15060 receive_seq=15060 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=7 upcoming_bytes=0 freq=71998380 rpi: mcu_awake=0.520 mcu_task_avg=0.000031 mcu_task_stddev=0.000012 bytes_write=16701 bytes_read=4120724 bytes_retransmit=0 bytes_invalid=0 send_seq=2402 receive_seq=2402 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49811772 adj=49623382  heater_bed: target=0 temp=20.4 pwm=0.000 sysload=0.75 cputime=35.280 memavail=3268392 print_time=410.806 buffer_time=2.182 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 80 Hz
Resetting prediction variance 7691.835: freq=49811772 diff=-1170469 stddev=50000.000
Stats 7691.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000038 mcu_task_stddev=0.000020 bytes_write=874867 bytes_read=109847 bytes_retransmit=0 bytes_invalid=0 send_seq=15140 receive_seq=15140 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=17 freq=71998377 rpi: mcu_awake=0.520 mcu_task_avg=0.000031 mcu_task_stddev=0.000012 bytes_write=16777 bytes_read=4141232 bytes_retransmit=0 bytes_invalid=0 send_seq=2413 receive_seq=2413 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810581 adj=49640104  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.75 cputime=35.412 memavail=3267640 print_time=411.809 buffer_time=2.185 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 81 Hz
Resetting prediction variance 7692.820: freq=49810581 diff=-967144 stddev=50000.000
Stats 7692.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000038 mcu_task_stddev=0.000020 bytes_write=879371 bytes_read=110358 bytes_retransmit=0 bytes_invalid=0 send_seq=15219 receive_seq=15219 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=121 freq=71998375 rpi: mcu_awake=0.520 mcu_task_avg=0.000031 mcu_task_stddev=0.000012 bytes_write=16853 bytes_read=4161679 bytes_retransmit=0 bytes_invalid=0 send_seq=2424 receive_seq=2424 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49809595 adj=49656917  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.75 cputime=35.541 memavail=3267136 print_time=412.810 buffer_time=2.185 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 82 Hz
Resetting prediction variance 7693.804: freq=49809595 diff=-769069 stddev=50000.000
Stats 7693.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000031 mcu_task_stddev=0.000023 bytes_write=883963 bytes_read=110890 bytes_retransmit=0 bytes_invalid=0 send_seq=15300 receive_seq=15299 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=251 freq=71998372 rpi: mcu_awake=0.520 mcu_task_avg=0.000031 mcu_task_stddev=0.000012 bytes_write=16929 bytes_read=4182126 bytes_retransmit=0 bytes_invalid=0 send_seq=2435 receive_seq=2435 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808810 adj=49672702  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.77 cputime=35.764 memavail=3266380 print_time=413.813 buffer_time=2.188 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 83 Hz
Resetting prediction variance 7694.789: freq=49808810 diff=-581219 stddev=50000.000
Stats 7694.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000031 mcu_task_stddev=0.000023 bytes_write=888581 bytes_read=111396 bytes_retransmit=0 bytes_invalid=0 send_seq=15381 receive_seq=15380 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=331 freq=71998369 rpi: mcu_awake=0.613 mcu_task_avg=0.000037 mcu_task_stddev=0.000016 bytes_write=17005 bytes_read=4202591 bytes_retransmit=0 bytes_invalid=0 send_seq=2446 receive_seq=2446 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808215 adj=49688241  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.77 cputime=35.963 memavail=3265132 print_time=414.807 buffer_time=2.182 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 84 Hz
Resetting prediction variance 7695.774: freq=49808215 diff=-379192 stddev=50000.000
Stats 7695.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000031 mcu_task_stddev=0.000023 bytes_write=893230 bytes_read=111927 bytes_retransmit=0 bytes_invalid=0 send_seq=15463 receive_seq=15463 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=468 freq=71998366 rpi: mcu_awake=0.613 mcu_task_avg=0.000037 mcu_task_stddev=0.000016 bytes_write=17081 bytes_read=4223099 bytes_retransmit=0 bytes_invalid=0 send_seq=2457 receive_seq=2457 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49807827 adj=49702524  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.77 cputime=36.097 memavail=3264380 print_time=415.813 buffer_time=2.187 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 85 Hz
Stats 7696.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000031 mcu_task_stddev=0.000023 bytes_write=897993 bytes_read=112463 bytes_retransmit=0 bytes_invalid=0 send_seq=15547 receive_seq=15547 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=563 freq=71998364 rpi: mcu_awake=0.613 mcu_task_avg=0.000037 mcu_task_stddev=0.000016 bytes_write=17157 bytes_read=4243546 bytes_retransmit=0 bytes_invalid=0 send_seq=2468 receive_seq=2468 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49807625 adj=49717539  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.77 cputime=36.231 memavail=3263880 print_time=416.814 buffer_time=2.187 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 86 Hz
Stats 7697.9: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000031 mcu_task_stddev=0.000023 bytes_write=902813 bytes_read=112984 bytes_retransmit=0 bytes_invalid=0 send_seq=15632 receive_seq=15631 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=686 freq=71998363 rpi: mcu_awake=0.613 mcu_task_avg=0.000037 mcu_task_stddev=0.000016 bytes_write=17233 bytes_read=4263993 bytes_retransmit=0 bytes_invalid=0 send_seq=2479 receive_seq=2479 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49807606 adj=49731702  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.77 cputime=36.381 memavail=3250528 print_time=417.814 buffer_time=2.186 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 87 Hz
Stats 7698.9: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000036 mcu_task_stddev=0.000021 bytes_write=907633 bytes_read=113544 bytes_retransmit=0 bytes_invalid=0 send_seq=15717 receive_seq=15717 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=797 freq=71998363 rpi: mcu_awake=0.613 mcu_task_avg=0.000037 mcu_task_stddev=0.000016 bytes_write=17309 bytes_read=4284440 bytes_retransmit=0 bytes_invalid=0 send_seq=2490 receive_seq=2490 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49807760 adj=49745551  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.79 cputime=36.559 memavail=3224824 print_time=418.814 buffer_time=2.186 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 88 Hz
Stats 7699.9: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000036 mcu_task_stddev=0.000021 bytes_write=912536 bytes_read=114081 bytes_retransmit=0 bytes_invalid=0 send_seq=15803 receive_seq=15803 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=894 freq=71998392 rpi: mcu_awake=0.531 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=17378 bytes_read=4304880 bytes_retransmit=0 bytes_invalid=0 send_seq=2500 receive_seq=2500 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808075 adj=49759059  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.79 cputime=36.745 memavail=3214996 print_time=419.812 buffer_time=2.182 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 89 Hz
Stats 7700.9: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000036 mcu_task_stddev=0.000021 bytes_write=917527 bytes_read=114615 bytes_retransmit=0 bytes_invalid=0 send_seq=15891 receive_seq=15891 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=988 freq=71998389 rpi: mcu_awake=0.531 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=17454 bytes_read=4325388 bytes_retransmit=0 bytes_invalid=0 send_seq=2511 receive_seq=2511 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808075 adj=49771844  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.79 cputime=36.939 memavail=3200628 print_time=420.809 buffer_time=2.180 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 90 Hz
Stats 7701.9: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000036 mcu_task_stddev=0.000021 bytes_write=922575 bytes_read=115163 bytes_retransmit=0 bytes_invalid=0 send_seq=15980 receive_seq=15979 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=1109 freq=71998385 rpi: mcu_awake=0.531 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=17530 bytes_read=4345835 bytes_retransmit=0 bytes_invalid=0 send_seq=2522 receive_seq=2522 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808075 adj=49778655  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.79 cputime=37.078 memavail=3199880 print_time=421.815 buffer_time=2.185 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 91 Hz
Stats 7702.9: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000036 mcu_task_stddev=0.000021 bytes_write=927623 bytes_read=115726 bytes_retransmit=0 bytes_invalid=0 send_seq=16069 receive_seq=16069 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=1232 freq=71998382 rpi: mcu_awake=0.531 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=17606 bytes_read=4366282 bytes_retransmit=0 bytes_invalid=0 send_seq=2533 receive_seq=2533 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808075 adj=49784382  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.79 cputime=37.220 memavail=3258624 print_time=422.815 buffer_time=2.184 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 92 Hz
Stats 7703.9: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000040 mcu_task_stddev=0.000018 bytes_write=932785 bytes_read=116293 bytes_retransmit=0 bytes_invalid=0 send_seq=16160 receive_seq=16159 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=1336 freq=71998377 rpi: mcu_awake=0.531 mcu_task_avg=0.000032 mcu_task_stddev=0.000013 bytes_write=17682 bytes_read=4386729 bytes_retransmit=0 bytes_invalid=0 send_seq=2544 receive_seq=2544 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808075 adj=49788950  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.73 cputime=37.357 memavail=3258628 print_time=423.815 buffer_time=2.184 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 93 Hz
Stats 7704.9: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000040 mcu_task_stddev=0.000018 bytes_write=937947 bytes_read=116869 bytes_retransmit=0 bytes_invalid=0 send_seq=16251 receive_seq=16251 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=1440 freq=71998373 rpi: mcu_awake=0.522 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=17758 bytes_read=4407254 bytes_retransmit=0 bytes_invalid=0 send_seq=2555 receive_seq=2555 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808075 adj=49792693  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.73 cputime=37.495 memavail=3258628 print_time=424.813 buffer_time=2.180 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 94 Hz
Stats 7705.9: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000040 mcu_task_stddev=0.000018 bytes_write=943249 bytes_read=117445 bytes_retransmit=0 bytes_invalid=0 send_seq=16344 receive_seq=16343 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=1551 freq=71998370 rpi: mcu_awake=0.522 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=17834 bytes_read=4427701 bytes_retransmit=0 bytes_invalid=0 send_seq=2566 receive_seq=2566 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808075 adj=49795726  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.73 cputime=37.633 memavail=3257872 print_time=425.816 buffer_time=2.182 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 95 Hz
Stats 7706.9: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000040 mcu_task_stddev=0.000018 bytes_write=948551 bytes_read=118011 bytes_retransmit=0 bytes_invalid=0 send_seq=16437 receive_seq=16436 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=1655 freq=71998369 rpi: mcu_awake=0.522 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=17910 bytes_read=4448148 bytes_retransmit=0 bytes_invalid=0 send_seq=2577 receive_seq=2577 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808075 adj=49798237  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.73 cputime=37.770 memavail=3257876 print_time=426.816 buffer_time=2.181 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 96 Hz
Stats 7707.9: gcodein=0  mcu: mcu_awake=0.023 mcu_task_avg=0.000040 mcu_task_stddev=0.000018 bytes_write=953910 bytes_read=118597 bytes_retransmit=0 bytes_invalid=0 send_seq=16531 receive_seq=16530 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=1771 freq=71998371 rpi: mcu_awake=0.522 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=17986 bytes_read=4468595 bytes_retransmit=0 bytes_invalid=0 send_seq=2588 receive_seq=2588 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808075 adj=49800255  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.73 cputime=37.910 memavail=3256368 print_time=427.816 buffer_time=2.180 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 97 Hz
Stats 7708.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=959300 bytes_read=119209 bytes_retransmit=0 bytes_invalid=0 send_seq=16626 receive_seq=16626 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=1865 freq=71998366 rpi: mcu_awake=0.522 mcu_task_avg=0.000031 mcu_task_stddev=0.000013 bytes_write=18062 bytes_read=4489103 bytes_retransmit=0 bytes_invalid=0 send_seq=2599 receive_seq=2599 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808075 adj=49801878  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.75 cputime=38.107 memavail=3254632 print_time=428.814 buffer_time=2.178 print_stall=0 extruder: target=0 temp=20.4 pwm=0.000
Testing frequency 98 Hz
Stats 7709.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=964773 bytes_read=119790 bytes_retransmit=0 bytes_invalid=0 send_seq=16722 receive_seq=16722 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=1985 freq=71998369 rpi: mcu_awake=0.499 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=18138 bytes_read=4509567 bytes_retransmit=0 bytes_invalid=0 send_seq=2610 receive_seq=2610 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49808075 adj=49803247  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.75 cputime=38.257 memavail=3253624 print_time=429.816 buffer_time=2.180 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 99 Hz
Resetting prediction variance 7710.551: freq=49808075 diff=2091720 stddev=83754.071
Stats 7710.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=970360 bytes_read=120391 bytes_retransmit=0 bytes_invalid=0 send_seq=16820 receive_seq=16819 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=2090 freq=71998367 rpi: mcu_awake=0.499 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=18214 bytes_read=4530014 bytes_retransmit=0 bytes_invalid=0 send_seq=2621 receive_seq=2621 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49810880 adj=49804329  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.75 cputime=38.422 memavail=3252868 print_time=430.817 buffer_time=2.180 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 100 Hz
Resetting prediction variance 7711.535: freq=49810880 diff=2074604 stddev=50000.000
Stats 7711.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=975921 bytes_read=121002 bytes_retransmit=0 bytes_invalid=0 send_seq=16918 receive_seq=16918 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=2210 freq=71998363 rpi: mcu_awake=0.499 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=18283 bytes_read=4550437 bytes_retransmit=0 bytes_invalid=0 send_seq=2631 receive_seq=2631 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49813586 adj=49842014  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.75 cputime=38.558 memavail=3252116 print_time=431.817 buffer_time=2.179 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 101 Hz
Resetting prediction variance 7712.520: freq=49813586 diff=2068426 stddev=50000.000
Stats 7712.9: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=981565 bytes_read=121598 bytes_retransmit=0 bytes_invalid=0 send_seq=17017 receive_seq=17017 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=2298 freq=71998363 rpi: mcu_awake=0.499 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=18359 bytes_read=4570945 bytes_retransmit=0 bytes_invalid=0 send_seq=2642 receive_seq=2642 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49816215 adj=49872220  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.75 cputime=38.722 memavail=3235996 print_time=432.814 buffer_time=2.176 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 102 Hz
Resetting prediction variance 7713.503: freq=49816215 diff=2048739 stddev=50000.000
Stats 7713.9: gcodein=0  mcu: mcu_awake=0.026 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=987266 bytes_read=122230 bytes_retransmit=0 bytes_invalid=0 send_seq=17117 receive_seq=17117 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=2418 freq=71998364 rpi: mcu_awake=0.499 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=18435 bytes_read=4591392 bytes_retransmit=0 bytes_invalid=0 send_seq=2653 receive_seq=2653 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49818758 adj=49896624  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.75 cputime=38.914 memavail=3210292 print_time=433.817 buffer_time=2.178 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 103 Hz
Resetting prediction variance 7714.488: freq=49818758 diff=2039656 stddev=50000.000
Stats 7714.9: gcodein=0  mcu: mcu_awake=0.026 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=993024 bytes_read=122851 bytes_retransmit=0 bytes_invalid=0 send_seq=17218 receive_seq=17218 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=2522 freq=71998365 rpi: mcu_awake=0.557 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=18511 bytes_read=4611857 bytes_retransmit=0 bytes_invalid=0 send_seq=2664 receive_seq=2664 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49821234 adj=49915820  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.77 cputime=39.103 memavail=3194676 print_time=434.815 buffer_time=2.175 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 104 Hz
Resetting prediction variance 7715.474: freq=49821234 diff=2034610 stddev=50000.000
Stats 7715.9: gcodein=0  mcu: mcu_awake=0.026 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=998896 bytes_read=123462 bytes_retransmit=0 bytes_invalid=0 send_seq=17321 receive_seq=17320 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=2636 freq=71998362 rpi: mcu_awake=0.557 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=18587 bytes_read=4632365 bytes_retransmit=0 bytes_invalid=0 send_seq=2675 receive_seq=2675 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49823654 adj=49931482  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.77 cputime=39.295 memavail=3185884 print_time=435.817 buffer_time=2.177 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 105 Hz
Resetting prediction variance 7716.462: freq=49823654 diff=2022598 stddev=50000.000
Stats 7716.9: gcodein=0  mcu: mcu_awake=0.026 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=1004742 bytes_read=124098 bytes_retransmit=0 bytes_invalid=0 send_seq=17424 receive_seq=17424 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=2723 freq=71998361 rpi: mcu_awake=0.557 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=18663 bytes_read=4652812 bytes_retransmit=0 bytes_invalid=0 send_seq=2686 receive_seq=2686 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49826014 adj=49943838  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.77 cputime=39.469 memavail=3185168 print_time=436.813 buffer_time=2.171 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 106 Hz
Resetting prediction variance 7717.448: freq=49826014 diff=2018438 stddev=50000.000
Stats 7717.9: gcodein=0  mcu: mcu_awake=0.026 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=1010728 bytes_read=124734 bytes_retransmit=0 bytes_invalid=0 send_seq=17529 receive_seq=17528 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=2818 freq=71998360 rpi: mcu_awake=0.557 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=18739 bytes_read=4673259 bytes_retransmit=0 bytes_invalid=0 send_seq=2697 receive_seq=2697 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49828328 adj=49954233  heater_bed: target=0 temp=20.4 pwm=0.000 sysload=0.77 cputime=39.633 memavail=3245292 print_time=437.815 buffer_time=2.173 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 107 Hz
Resetting prediction variance 7718.432: freq=49828328 diff=2007418 stddev=50000.000
Stats 7718.9: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=1016714 bytes_read=125376 bytes_retransmit=0 bytes_invalid=0 send_seq=17634 receive_seq=17633 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=2931 freq=71998358 rpi: mcu_awake=0.557 mcu_task_avg=0.000033 mcu_task_stddev=0.000014 bytes_write=18815 bytes_read=4693706 bytes_retransmit=0 bytes_invalid=0 send_seq=2708 receive_seq=2708 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49830592 adj=49962041  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.77 cputime=39.790 memavail=3244124 print_time=438.816 buffer_time=2.173 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 108 Hz
Resetting prediction variance 7719.417: freq=49830592 diff=2000839 stddev=50000.000
Stats 7719.9: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=1022757 bytes_read=126022 bytes_retransmit=0 bytes_invalid=0 send_seq=17740 receive_seq=17739 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=3061 freq=71998355 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000012 bytes_write=18891 bytes_read=4714170 bytes_retransmit=0 bytes_invalid=0 send_seq=2719 receive_seq=2719 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49832814 adj=49968457  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.79 cputime=39.943 memavail=3243504 print_time=439.818 buffer_time=2.175 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 109 Hz
Resetting prediction variance 7720.402: freq=49832814 diff=1994070 stddev=50000.000
Stats 7720.9: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=1028857 bytes_read=126673 bytes_retransmit=0 bytes_invalid=0 send_seq=17847 receive_seq=17846 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=2675 freq=71998363 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000012 bytes_write=18967 bytes_read=4734678 bytes_retransmit=0 bytes_invalid=0 send_seq=2730 receive_seq=2730 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49834997 adj=49973417  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.79 cputime=40.101 memavail=3242612 print_time=440.816 buffer_time=2.172 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 110 Hz
Resetting prediction variance 7721.387: freq=49834997 diff=1987613 stddev=50000.000
Stats 7721.9: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=1035519 bytes_read=127329 bytes_retransmit=0 bytes_invalid=0 send_seq=17957 receive_seq=17957 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=38 upcoming_bytes=741 freq=71998360 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000012 bytes_write=19043 bytes_read=4755125 bytes_retransmit=0 bytes_invalid=0 send_seq=2741 receive_seq=2741 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49837144 adj=49977783  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.79 cputime=40.252 memavail=3243332 print_time=441.818 buffer_time=2.173 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 111 Hz
Resetting prediction variance 7722.371: freq=49837144 diff=1985135 stddev=50000.000
Stats 7722.9: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000042 mcu_task_stddev=0.000017 bytes_write=1041041 bytes_read=127900 bytes_retransmit=0 bytes_invalid=0 send_seq=18048 receive_seq=18048 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=54 upcoming_bytes=0 freq=71998363 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000012 bytes_write=19119 bytes_read=4775633 bytes_retransmit=0 bytes_invalid=0 send_seq=2752 receive_seq=2752 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49839262 adj=49981010  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.79 cputime=40.397 memavail=3242004 print_time=442.814 buffer_time=2.168 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 112 Hz
Resetting prediction variance 7723.356: freq=49839262 diff=1974213 stddev=50000.000
Stats 7723.9: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000038 mcu_task_stddev=0.000021 bytes_write=1046217 bytes_read=128482 bytes_retransmit=0 bytes_invalid=0 send_seq=18138 receive_seq=18138 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=54 upcoming_bytes=0 freq=71998362 rpi: mcu_awake=0.530 mcu_task_avg=0.000032 mcu_task_stddev=0.000012 bytes_write=19195 bytes_read=4796080 bytes_retransmit=0 bytes_invalid=0 send_seq=2763 receive_seq=2763 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49841345 adj=49984263  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.79 cputime=40.533 memavail=3241732 print_time=443.816 buffer_time=2.169 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 113 Hz
Resetting prediction variance 7724.341: freq=49841345 diff=1966584 stddev=50000.000
Stats 7724.9: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000038 mcu_task_stddev=0.000021 bytes_write=1051478 bytes_read=129043 bytes_retransmit=0 bytes_invalid=0 send_seq=18230 receive_seq=18230 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=0 freq=71998365 rpi: mcu_awake=0.506 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=19271 bytes_read=4816544 bytes_retransmit=0 bytes_invalid=0 send_seq=2774 receive_seq=2774 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49843398 adj=49986311  heater_bed: target=0 temp=20.5 pwm=0.000 sysload=0.81 cputime=40.676 memavail=3239760 print_time=444.819 buffer_time=2.171 print_stall=0 extruder: target=0 temp=20.6 pwm=0.000
Testing frequency 114 Hz
Resetting prediction variance 7725.326: freq=49843398 diff=1962884 stddev=50000.000
Stats 7725.9: gcodein=0  mcu: mcu_awake=0.027 mcu_task_avg=0.000038 mcu_task_stddev=0.000021 bytes_write=1056645 bytes_read=129609 bytes_retransmit=0 bytes_invalid=0 send_seq=18320 receive_seq=18320 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=0 freq=71998364 rpi: mcu_awake=0.506 mcu_task_avg=0.000030 mcu_task_stddev=0.000011 bytes_write=19340 bytes_read=4836967 bytes_retransmit=0 bytes_invalid=0 send_seq=2784 receive_seq=2784 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49845428 adj=49987915  heater_bed: target=0 temp=20.6 pwm=0.000 sysload=0.81 cputime=40.840 memavail=3239496 print_time=445.819 buffer_time=2.171 print_stall=0 extruder: target=0 temp=20.5 pwm=0.000
Testing frequency 115 Hz
Resetting prediction variance 7726.310: freq=49845428 diff=1951372 stddev=50000.000
